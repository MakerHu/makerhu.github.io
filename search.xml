<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Vue å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼ˆå‰åç«¯åˆ†ç¦»å®Œæ•´æ¡ˆä¾‹ï¼‰</title>
    <url>/posts/78e35d03/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡é¢å‘å°ç™½ï¼Œç”¨ Vue å®ç°äº†ç™»å½•æ³¨å†Œçš„åŠŸèƒ½ï¼Œå¹¶èƒ½å¤Ÿä¸ SpringBoot åç«¯è¿›è¡Œæ•°æ®äº¤äº’ã€‚éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ï¼Œæœ¬é¡¹ç›®ç”¨åˆ°äº† vue-routerã€axiosã€Element UIã€ä»£ç†æœåŠ¡å™¨ã€å¯¼èˆªå®ˆå«ç­‰æŠ€æœ¯æˆ–å·¥å…·ï¼Œä¸æœ¬åšå®¢çš„å¦ä¸€ç¯‡æ–‡ç« <a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | MakerHu çš„åšå®¢</a> å…±åŒç»„æˆäº†å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„æ•´ä½“ï¼Œé€‚åˆå°ç™½ä¸Šæ‰‹ Vue + SpringBoot + Mysql çš„é¡¹ç›®å¼€å‘ã€‚</p>
</blockquote>
<span id="more"></span>

<p><strong>æœªç»å…è®¸è¯·å‹¿è½¬è½½ï¼</strong> æ–‡ç« é¦–å‘äº<a href="https://www.makerhu.com/posts/78e35d03/">Vue å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼ˆå‰åç«¯åˆ†ç¦»å®Œæ•´æ¡ˆä¾‹ï¼‰ | MakerHu çš„åšå®¢</a></p>
<p>åç«¯æ•™ç¨‹ï¼š<a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | MakerHu çš„åšå®¢</a></p>
<p>é¡¹ç›®æ¼”ç¤ºï¼š</p>
<p><img src="/posts/78e35d03/vue-login-demo-video.gif" alt="æ¼”ç¤ºè§†é¢‘"></p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æœ¬æ–‡ä¸­ååŠéƒ¨åˆ†æ¶‰åŠåˆ°ä¸åç«¯çš„äº¤äº’ï¼Œéœ€è¦å…ˆæ ¹æ®æœ¬äººçš„å¦ä¸€ä¸ªæ•™ç¨‹ï¼š<a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | MakerHu çš„åšå®¢</a> åœ¨æœ¬åœ°è¿è¡Œèµ·åç«¯åæ‰èƒ½æµ‹è¯•ï¼Œè¿™ä¸ª Vue å‰ç«¯é¡¹ç›®æ˜¯ä¸å‰é¢è¿™ä¸ªæ•™ç¨‹çš„ SpringBoot é¡¹ç›®é…å¥—çš„å‰åç«¯é¡¹ç›®ï¼Œå› æ­¤<strong>å»ºè®®å…ˆçœ‹å®Œåç«¯çš„æ–‡ç« å†çœ‹æ­¤æ–‡ç« </strong>ï¼Œå½“ç„¶å¦‚æœåªæ˜¯è¦çœ‹å‰ç«¯ç™»å½•æ³¨å†Œé¡µé¢çš„ä»£ç ï¼Œä¹Ÿæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œåªè¦å¿½ç•¥ç›®å½•ä¸­<strong>å‰åç«¯æ•°æ®äº¤äº’</strong>ä¹‹åçš„å†…å®¹å°±è¡Œäº†ã€‚</li>
<li>æœ¬æ–‡ä¸­ğŸ› æ ‡å¿—åé¢è·Ÿç€çš„å‘½ä»¤éƒ½æ˜¯è¦åœ¨å‘½ä»¤è¡Œçª—å£è¿è¡Œçš„å‘½ä»¤ï¼Œå‘½ä»¤çª—å£ç”¨ cmd å°±è¡Œäº†</li>
<li>æ–‡ç« æœ€åæœ‰é¡¹ç›®ï¼ˆå‰ç«¯å’Œåç«¯ï¼‰çš„<strong>æºä»£ç </strong>å“¦</li>
</ul>
<h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><ul>
<li><p>Node.js</p>
<p>Node ç‰ˆæœ¬è¦æ±‚ï¼šVue CLI 4.x éœ€è¦ <a href="https://nodejs.org/">Node.js</a> v8.9 æˆ–æ›´é«˜ç‰ˆæœ¬ (æ¨è v10 ä»¥ä¸Š)ã€‚</p>
</li>
</ul>
<h3 id="å®‰è£…-Vue-è„šæ‰‹æ¶"><a href="#å®‰è£…-Vue-è„šæ‰‹æ¶" class="headerlink" title="å®‰è£… Vue è„šæ‰‹æ¶"></a>å®‰è£… Vue è„šæ‰‹æ¶</h3><p><strong>å®˜ç½‘åœ°å€ï¼š</strong><a href="https://cli.vuejs.org/zh/guide/installation.html">å®‰è£… | Vue CLI (vuejs.org)</a></p>
<ul>
<li><p>å¸è½½æ—§ç‰ˆæœ¬çš„è„šæ‰‹æ¶ï¼ˆä¹‹å‰å®‰è£…è¿‡æ—§ç‰ˆæœ¬çš„è„šæ‰‹æ¶æ‰éœ€è¦æ‰§è¡Œï¼‰ï¼šåœ¨ä»»æ„åœ°æ–¹æ‰“å¼€ cmd è¿è¡Œå‘½ä»¤ğŸ› <code>npm uninstall vue-cli -g</code></p>
<blockquote>
<p>å…³äºæ—§ç‰ˆæœ¬</p>
<p>Vue CLI çš„åŒ…åç§°ç”± <code>vue-cli</code> æ”¹æˆäº† <code>@vue/cli</code>ã€‚ å¦‚æœä½ å·²ç»å…¨å±€å®‰è£…äº†æ—§ç‰ˆæœ¬çš„ <code>vue-cli</code> (1.x æˆ– 2.x)ï¼Œä½ éœ€è¦å…ˆé€šè¿‡ <code>npm uninstall vue-cli -g</code> æˆ– <code>yarn global remove vue-cli</code> å¸è½½å®ƒã€‚â€”â€” <a href="https://cli.vuejs.org/zh/guide/installation.html#:~:text=%E5%85%B3%E4%BA%8E%E6%97%A7%E7%89%88%E6%9C%AC,%E5%8D%B8%E8%BD%BD%E5%AE%83%E3%80%82">Vue å®˜ç½‘</a></p>
</blockquote>
</li>
<li><p>å®‰è£…æ–°ç‰ˆæœ¬çš„è„šæ‰‹æ¶ï¼šğŸ› <code>npm install -g @vue/cli</code></p>
</li>
<li><p>æ£€æŸ¥è„šæ‰‹æ¶æ˜¯å¦å®‰è£…æˆåŠŸï¼ˆèƒ½çœ‹åˆ°ç‰ˆæœ¬å·è¯´æ˜å®‰è£…æˆåŠŸï¼‰ï¼šğŸ› <code>vue --version</code></p>
<p><img src="/posts/78e35d03/image-20220205224309328.png" alt="è„šæ‰‹æ¶å®‰è£…æˆåŠŸ"></p>
</li>
<li><p>å¦‚æœå·²ç»å®‰è£…è¿‡æ–°ç‰ˆçš„è„šæ‰‹æ¶<code>@vue/cli</code>å¯è¿›è¡Œå…¨å±€å‡çº§ï¼šğŸ› <code>npm update -g @vue/cli</code></p>
</li>
</ul>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><ul>
<li><p>è¿›å…¥ä½ è¦åˆ›å»º Vue é¡¹ç›®çš„æ–‡ä»¶å¤¹</p>
<p><img src="/posts/78e35d03/image-20220204105146311.png" alt="è¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹"></p>
</li>
<li><p>åœ¨ cmd å‘½ä»¤æ¡†ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®<br>ğŸ› <code>vue create vue-login-demo</code></p>
<ul>
<li><p>å…¶ä¸­<code>vue-login-demo</code>ä¸ºé¡¹ç›®åï¼Œå¯æ ¹æ®éœ€è¦ä¿®æ”¹</p>
</li>
<li><p>é€‰æ‹© [Vue 2] å›è½¦ï¼Œå› ä¸ºæ˜¯é»˜è®¤é€‰é¡¹ï¼Œå¯ä»¥ç›´æ¥å›è½¦</p>
<p><img src="/posts/78e35d03/image-20220204104255119.png" alt="åˆ›å»ºé¡¹ç›®"></p>
</li>
<li><p>æˆåŠŸæç¤º</p>
<p><img src="/posts/78e35d03/image-20220204105731357.png" alt="é¡¹ç›®åˆ›å»ºæˆåŠŸæ˜¾ç¤º"></p>
</li>
</ul>
</li>
<li><p>è¯•è¿è¡Œæ–°åˆ›å»ºçš„åˆå§‹åŒ–é¡¹ç›®</p>
<ul>
<li>é¦–å…ˆè¿›å…¥é¡¹ç›®ç›®å½•ï¼šğŸ› <code>cd vue-login-demo</code></li>
<li>è¿è¡Œé¡¹ç›®ï¼šğŸ› <code>npm run serve</code></li>
</ul>
<p><img src="/posts/78e35d03/image-20220204110213333.png" alt="è¿è¡Œé¡¹ç›®"></p>
</li>
<li><p>åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥<code>http://localhost:8080/</code>å›è½¦ï¼Œå³å¯çœ‹åˆ°åˆ›å»ºçš„åˆå§‹åŒ–é¡¹ç›®çš„æ•ˆæœï¼Œæ­¤é¡µé¢æ˜¯è„šæ‰‹æ¶ä¸­å†™çš„ä¸€ä¸ªHelloWorldç¤ºä¾‹é¡µé¢ï¼Œä¹‹åå¯ä»¥åˆ äº†æ¢æˆä½ å†™çš„é¡µé¢ã€‚</p>
<p><img src="/posts/78e35d03/image-20220204110547005.png" alt="åˆå§‹åŒ–é¡¹ç›®æ•ˆæœ"></p>
</li>
</ul>
<h2 id="Vue-é¡¹ç›®çš„ä¸€äº›åŸºæœ¬å‘½ä»¤"><a href="#Vue-é¡¹ç›®çš„ä¸€äº›åŸºæœ¬å‘½ä»¤" class="headerlink" title="Vue é¡¹ç›®çš„ä¸€äº›åŸºæœ¬å‘½ä»¤"></a>Vue é¡¹ç›®çš„ä¸€äº›åŸºæœ¬å‘½ä»¤</h2><ul>
<li>å¯åŠ¨é¡¹ç›®ï¼šåœ¨ Vue é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰“å¼€ cmd ï¼Œè¿è¡Œå‘½ä»¤ğŸ› <code>npm run serve</code></li>
<li>åœæ­¢é¡¹ç›®ï¼šåœ¨è¿è¡Œ Vue é¡¹ç›®çš„å‘½ä»¤è¡Œçª—å£æŒ‰å¿«æ·é”® ctrl + C</li>
<li>å®‰è£…æ’ä»¶ï¼šåœ¨ Vue é¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ‰“å¼€ cmdï¼Œè¿è¡Œå‘½ä»¤ğŸ› <code>npm install xxx</code></li>
</ul>
<h2 id="é¡¹ç›®æ–‡ä»¶ç»“æ„"><a href="#é¡¹ç›®æ–‡ä»¶ç»“æ„" class="headerlink" title="é¡¹ç›®æ–‡ä»¶ç»“æ„"></a>é¡¹ç›®æ–‡ä»¶ç»“æ„</h2><blockquote>
<p>åˆ›å»ºå®Œé¡¹ç›®åï¼Œä¸ºäº†å¸®åŠ©æœªæ¥çš„å¼€å‘ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†Ÿæ‚‰ä¸€ä¸‹åˆšåˆšé€šè¿‡ Vue è„šæ‰‹æ¶åˆ›å»ºçš„é¡¹ç›®ä¸­çš„æ¯ä¸ªæ–‡ä»¶çš„ä½œç”¨æ˜¯ä»€ä¹ˆ</p>
</blockquote>
<h3 id="åˆå§‹é¡¹ç›®ç»“æ„"><a href="#åˆå§‹é¡¹ç›®ç»“æ„" class="headerlink" title="åˆå§‹é¡¹ç›®ç»“æ„"></a>åˆå§‹é¡¹ç›®ç»“æ„</h3><p><img src="/posts/78e35d03/image-20220204115003485.png" alt="é¡¹ç›®æ–‡ä»¶ç»“æ„"></p>
<ul>
<li><p><strong>public æ–‡ä»¶å¤¹</strong></p>
<ul>
<li><p><strong>favicon.icoï¼š</strong>é¡µé¢çš„å›¾æ ‡</p>
</li>
<li><p><strong>index.htmlï¼š</strong>é¡µé¢çš„æ€»å…¥å£ï¼ŒVueé¡¹ç›®ä¸€èˆ¬æ˜¯ä¸€ä¸ªå•é¡µåº”ç”¨ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„é¡µé¢å˜åŒ–å…¶å®éƒ½æ˜¯åœ¨è¿™ä¸ªé¡µé¢ä¸­å¯¹æŸä¸ªç»„ä»¶è¿›è¡Œå±€éƒ¨åˆ·æ–°ï¼Œè¿™ä¸ªé¡µé¢ä¸­å­˜åœ¨ä¸€ä¸ª id ä¸º app çš„ div æ ‡ç­¾ï¼Œè¿™ä¸ªæ ‡ç­¾å°±æ˜¯ App.vue è¿™ä¸ªæ ¹ç»„ä»¶çš„æŒ‚è½½ç‚¹ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºæ¡†æ¶ä¼šæŠŠ App.vue è¿™ä¸ªæ ¹èŠ‚ç‚¹æ”¾åˆ° index.html ä¸­çš„<code>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</code>è¿™ä¸ªä½ç½®</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;icon&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">noscript</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">noscript</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- built files will be auto injected --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>src æ–‡ä»¶å¤¹</strong></p>
<ul>
<li><strong>assets æ–‡ä»¶å¤¹ï¼š</strong>èµ„æºæ–‡ä»¶ï¼Œå¦‚å­˜æ”¾ä¸€äº›å›¾ç‰‡ css æ–‡ä»¶ç­‰</li>
<li><strong>components æ–‡ä»¶å¤¹ï¼š</strong>é¡¹ç›®çš„å…¬å…±ç»„ä»¶ï¼Œå°±æ˜¯ä¸€äº›æ•´ä¸ªé¡¹ç›®éƒ½æœ‰å¯èƒ½ç”¨åˆ°çš„ç»„ä»¶ï¼Œå¦‚ä¸€äº›å…¬ç”¨çš„å¼¹çª—ã€è¾“å…¥æ¡†ã€æŒ‰é’®ç­‰</li>
</ul>
</li>
<li><p><strong>App.vueï¼š</strong>é¡¹ç›®çš„æ ¹ç»„ä»¶ï¼Œå…¶ä»–æ‰€æœ‰ç»„ä»¶éƒ½åŒ…å«åœ¨è¿™ä¸ªç»„ä»¶é‡Œï¼Œä½œä¸ºå®ƒçš„å­ç»„ä»¶æˆ–å­™å­ç»„ä»¶</p>
</li>
<li><p><strong>main.jsï¼š</strong>æ•´ä¸ªé¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œåœ¨è¿è¡Œ<code>npm run serve</code>å‘½ä»¤æ—¶é¦–å…ˆå°±è¿è¡Œäº† main.js è¿™ä¸ªæ–‡ä»¶ï¼Œä¸»è¦ç”¨æ¥åˆ›å»º Vue å®ä¾‹ï¼Œå¹¶ä½œä¸ºæ¡¥æ¢å°† App.vue ç»„ä»¶æŒ‚è½½åˆ° index.html ä¸­ï¼Œæ­¤æ–‡ä»¶è¿˜è´Ÿè´£å…¨å±€å¼•å…¥ä¸€äº›æ’ä»¶å¹¶å®‰è£…æ’ä»¶ç­‰åŠŸèƒ½ï¼Œå¦‚å¼•å…¥ Element UI</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­ Vue çš„ç”Ÿäº§æç¤º</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º Vue å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),  <span class="comment">// render å‡½æ•°å°†å¸®åŠ©è§£ææ¨¡æ¿ï¼Œä¼ å…¥çš„å‚æ•° h ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ç”¨æ¥è§£æ App è¿™ä¸ªç»„ä»¶</span></span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>) <span class="comment">// å°† App.vue ç»„ä»¶æŒ‚è½½åˆ° index.html ä¸­çš„ id ä¸º app çš„ div æ ‡ç­¾ä¸Š</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="è¡¥å……é¡¹ç›®ç»“æ„"><a href="#è¡¥å……é¡¹ç›®ç»“æ„" class="headerlink" title="è¡¥å……é¡¹ç›®ç»“æ„"></a>è¡¥å……é¡¹ç›®ç»“æ„</h3><p>è¿™é‡Œåˆ—å‡ºä¸€äº›åœ¨æœ¬é¡¹ç›®å†™å®Œåä¼šå¤šå‡ºæ¥çš„ä¸€äº›æ–‡ä»¶ç›®å½•ï¼Œç®€å•ä»‹ç»ï¼Œåœ¨è¿™é‡Œçœ‹ä¸æ‡‚æ­£å¸¸ï¼ŒæŠŠæ•´ç¯‡æ•™ç¨‹çœ‹å®Œåå°±èƒ½çœ‹æ‡‚äº†ã€‚</p>
<p><img src="/posts/78e35d03/image-20220205181536482.png" alt="è¡¥å……åçš„ç›®å½•ç»“æ„"></p>
<ul>
<li><p><strong>src æ–‡ä»¶å¤¹</strong></p>
<ul>
<li><strong>views æ–‡ä»¶å¤¹ï¼š</strong>ç”¨æ¥å­˜æ”¾é¡µé¢ç»„ä»¶ï¼Œä¸»è¦æ˜¯ä¸€äº›é¡µé¢è·¯ç”±è·³è½¬è¦åˆ·æ–°çš„é‚£äº›æœ€å¤§çš„ç»„ä»¶</li>
<li><strong>router æ–‡ä»¶å¤¹ï¼š</strong>ç”¨æ¥é…ç½®é¡¹ç›®çš„è·¯ç”±</li>
</ul>
</li>
<li><p><strong>vue.config.js æ–‡ä»¶ï¼š</strong>é…ç½®æ–‡ä»¶ï¼Œå¦‚é…ç½®ä»£ç†æœåŠ¡å™¨ç­‰</p>
</li>
</ul>
<h2 id="å¼•å…¥-Element-UI"><a href="#å¼•å…¥-Element-UI" class="headerlink" title="å¼•å…¥ Element UI"></a>å¼•å…¥ Element UI</h2><blockquote>
<p>Element UI æ˜¯ç”±é¥¿äº†ä¹ˆå…¬å¸å¼€å‘çš„ä¸€å¥—æ¡Œé¢ç»„ä»¶åº“ï¼Œåƒä¸€äº›è¡¨æ ¼ã€æŒ‰é’®ã€æ—¶é—´é€‰æ‹©å™¨ç­‰éƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸”ç®€æ´ç¾è§‚</p>
</blockquote>
<p>å®˜ç½‘ï¼š<a href="https://element.eleme.cn/#/zh-CN/component/installation">ç»„ä»¶ | Element</a></p>
<ul>
<li><p>å®‰è£… Element UIï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰“å¼€cmdï¼Œè¾“å…¥ğŸ› <code>npm i element-ui -S</code> æ²¡æœ‰æŠ¥errorå°±è¯´æ˜å®‰è£…æˆåŠŸ</p>
</li>
<li><p>å¼•å…¥ Elementï¼Œåœ¨<code>src/main.js</code>ä¸­æ·»åŠ ä¸‰è¡Œä»£ç ï¼ˆä¸‹æ–¹ä¸­æ³¨é‡Šä¸ºElement 1ã€2ã€3çš„ä¸‰è¡Œï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;	<span class="comment">// Element 1</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>; <span class="comment">// Element 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­ Vue çš„ç”Ÿäº§æç¤º</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line">Vue.use(ElementUI); <span class="comment">// Element 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º Vue å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨ <code>src/App.vue</code> ä¸­å†™ä¸ª Element çš„æŒ‰é’®ç»„ä»¶æµ‹è¯•ä¸€ä¸‹<code>&lt;el-button&gt;test&lt;/el-button&gt;</code></p>
<p><img src="/posts/78e35d03/image-20220204154825935.png" alt="æµ‹è¯•ElementUI"></p>
<p><img src="/posts/78e35d03/image-20220204154955196.png" alt="æµ‹è¯•ElementUI"></p>
</li>
</ul>
<h2 id="ç¼–å†™ç™»å½•ç»„ä»¶"><a href="#ç¼–å†™ç™»å½•ç»„ä»¶" class="headerlink" title="ç¼–å†™ç™»å½•ç»„ä»¶"></a>ç¼–å†™ç™»å½•ç»„ä»¶</h2><ul>
<li><p>åœ¨é¡¹ç›®<code>src/views</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>login</code>æ–‡ä»¶å¤¹å¹¶åˆ›å»º<code>Login.vue</code>ç»„ä»¶</p>
<p><img src="/posts/78e35d03/image-20220204161201654.png" alt="åˆ›å»ºLoginç»„ä»¶"></p>
</li>
<li><p>åœ¨ App.vue ä¸­æ³¨å†Œ Login.vue ç»„ä»¶ï¼ŒæŠŠæ²¡ç”¨çš„ HelloWorld éƒ½åˆ äº†ï¼ˆçº¢æ¡†éƒ¨åˆ†ï¼‰æ·»åŠ ç»¿æ¡†éƒ¨åˆ†çš„ä»£ç </p>
<p><img src="/posts/78e35d03/image-20220204164603724.png" alt="æ³¨å†Œ Login.vue ç»„ä»¶"></p>
<p><strong>ä¿®æ”¹åçš„App.vue</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;Login&gt;&lt;&#x2F;Login&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Login from &#39;.&#x2F;views&#x2F;login&#x2F;Login.vue&#39;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    Login</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>æµ‹è¯•ç»„ä»¶æ˜¯å¦æ­£å¸¸æ˜¾ç¤º</p>
<p>å…ˆåœ¨ Login.vue ç»„ä»¶ä¸­å†™ä¸ªæœ€ç®€å•çš„æ–‡æœ¬æ˜¾ç¤º</p>
<p><strong>Login.vueï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Login test&lt;&#x2F;h1&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>æŸ¥çœ‹é¡µé¢æ˜¯å¦å˜æ›´ï¼Œå¦‚æœæ­£å¸¸æ˜¾ç¤º Login.vue é‡Œçš„å†…å®¹åˆ™è¯´æ˜ App.vue ä¸­ Login ç»„ä»¶æ³¨å†ŒæˆåŠŸ</p>
<p><img src="/posts/78e35d03/image-20220204165553214.png" alt="æµ‹è¯•ç»„ä»¶æ˜¯å¦æ³¨å†ŒæˆåŠŸ"></p>
</li>
<li><p>å®Œå–„ Login.vue ç»„ä»¶çš„é¡µé¢ã€æ ·å¼å’Œä¸€äº›åŸºæœ¬é€»è¾‘ã€‚åˆ° Element UI ä¸­æ‰¾åˆ°è¡¨å•ç»„ä»¶ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯è‡ªå®šä¹‰æ ¡éªŒè§„åˆ™è¿™ä¸ªä¾‹å­<a href="https://element.eleme.cn/#/zh-CN/component/form">Element UI è¡¨å•</a>ï¼Œå°†è¯¥ä¾‹å­è¿›è¡Œä¿®æ”¹æˆä¸ºç™»å½•ç»„ä»¶</p>
<p><strong>ä¿®æ”¹åçš„ Login.vueï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-card class&#x3D;&quot;box-card&quot;&gt;</span><br><span class="line">      &lt;h2&gt;ç™»å½•&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        :model&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        status-icon</span><br><span class="line">        :rules&#x3D;&quot;rules&quot;</span><br><span class="line">        ref&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        label-position&#x3D;&quot;left&quot;</span><br><span class="line">        label-width&#x3D;&quot;70px&quot;</span><br><span class="line">        class&#x3D;&quot;login-from&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç”¨æˆ·å&quot; prop&#x3D;&quot;uname&quot;&gt;</span><br><span class="line">          &lt;el-input v-model&#x3D;&quot;ruleForm.uname&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;å¯†ç &quot; prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.password&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">      &lt;&#x2F;el-form&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;btnGroup&quot;&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;submitForm(&#39;ruleForm&#39;)&quot;</span><br><span class="line">          &gt;ç™»å½•&lt;&#x2F;el-button</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;resetForm(&#39;ruleForm&#39;)&quot;&gt;é‡ç½®&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;router-link to&#x3D;&quot;&#x2F;register&quot;&gt;</span><br><span class="line">          &lt;el-button style&#x3D;&quot;margin-left:10px&quot;&gt;æ³¨å†Œ&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-card&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        password: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        uname: [</span><br><span class="line">          &#123; required: true, message: &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, message: &quot;å¯†ç ä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    submitForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          alert(&quot;submit!&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          console.log(&quot;error submit!!&quot;);</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    resetForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].resetFields();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.box-card &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">  width: 400px;</span><br><span class="line">&#125;</span><br><span class="line">.login-from &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºæ•ˆæœï¼š</p>
<p><img src="/posts/78e35d03/image-20220204230813619.png" alt="ç™»å½•é¡µé¢åˆæ­¥å®Œæˆ"></p>
</li>
</ul>
<h2 id="é…ç½®è·¯ç”±"><a href="#é…ç½®è·¯ç”±" class="headerlink" title="é…ç½®è·¯ç”±"></a>é…ç½®è·¯ç”±</h2><blockquote>
<p>åœ¨å†™ç½‘ç«™åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œç¦»ä¸å¼€ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯é¡µé¢çš„è·³è½¬ï¼Œè€Œåœ¨ Vue è¿™ç§å•é¡µåº”ç”¨ä¸­ï¼Œä¸€ä¸ªç½‘ç«™å°±åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæˆ‘ä»¬çœ‹åˆ°æ‰€è°“é¡µé¢çš„â€œè·³è½¬â€å…¶å®åªæ˜¯åŒä¸€ä¸ªé¡µé¢ä¸­çš„å±€éƒ¨ç»„ä»¶çš„åˆ·æ–°ï¼Œè€Œè·¯ç”±çš„æŒ‡çš„æ˜¯æµè§ˆå™¨åœ°å€æ ä¸­çš„è·¯å¾„ä¸ç»„ä»¶æœ‰ç€ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œå½“è¾“å…¥æŒ‡å®šçš„åœ°å€æ—¶ï¼Œé¡µé¢ä¸­çš„æŸä¸ªåŒºåŸŸçš„ç»„ä»¶ä¼šæ›¿æ¢æˆè¯¥åœ°å€å¯¹åº”çš„ç»„ä»¶ã€‚</p>
</blockquote>
<p>å®˜ç½‘ï¼š<a href="https://router.vuejs.org/zh/installation.html">å®‰è£… | Vue Router (vuejs.org)</a></p>
<ul>
<li><p>å®‰è£…è·¯ç”±æ’ä»¶</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰“å¼€cmdï¼Œè¾“å…¥ğŸ› <code>npm install vue-router</code></p>
</li>
<li><p>åœ¨<code>src</code>ä¸‹åˆ›å»º <code>router</code> æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨<code>router</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>index.js</code>æ–‡ä»¶ï¼Œè¯¥é—®ä»·ä½œä¸ºæ•´ä¸ªé¡¹ç›®è·¯ç”±çš„é…ç½®æ–‡ä»¶</p>
<p><img src="/posts/78e35d03/image-20220204180700385.png" alt="è·¯ç”±é…ç½®æ–‡ä»¶"></p>
</li>
<li><p><code>src/router/index.js</code>æ–‡ä»¶å†…å®¹ï¼Œè¿™é‡Œå®ç°çš„æ˜¯è·¯å¾„â€™/â€˜ï¼Œâ€™/loginâ€™éƒ½è·³è½¬åˆ° Login.vue ç»„ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ–‡ä»¶ä¸“é—¨è´Ÿè´£é¡¹ç›®çš„è·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;../views/login/Login&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,    <span class="comment">// è·¯ç”±æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ä¼šåœ¨åœ°å€ä¸­æ˜¾ç¤ºäº•å·#</span></span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">// è·¯å¾„</span></span><br><span class="line">            redirect: <span class="string">&#x27;/login&#x27;</span>  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/login&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Login    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>å¼•å…¥è·¯ç”±æ’ä»¶ï¼Œåœ¨<code>src/main.js</code>ä¸­æ·»åŠ ä¸‰è¡Œä»£ç ï¼ˆä¸‹æ–¹ä¸­æ³¨é‡Šä¸º è·¯ç”± 1ã€2ã€3ã€4 çš„å››è¡Œï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span> <span class="comment">// è·¯ç”± 1</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span> <span class="comment">// è·¯ç”± 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­ Vue çš„ç”Ÿäº§æç¤º</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line">Vue.use(ElementUI)</span><br><span class="line">Vue.use(VueRouter) <span class="comment">// è·¯ç”± 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º Vue å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),</span><br><span class="line">  router <span class="comment">// è·¯ç”± 4</span></span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
<li><p>åœ¨<code>src/App.vue</code>ä¸­å°†<code>&lt;router-view /&gt;</code>æ”¾åˆ°è·¯ç”±è·³è½¬æ—¶ï¼Œé¡µé¢éœ€è¦å±€éƒ¨åˆ·æ–°çš„éƒ¨åˆ†ï¼Œå¹¶æŠŠåˆšåˆšåœ¨<code>App.vue</code>ä¸­å†™æ­»çš„ç»„ä»¶ç»™åˆ äº†ï¼ˆåˆ é™¤çº¢è‰²ï¼Œæ·»åŠ ç»¿è‰²æ¡†ä¸­çš„å†…å®¹ï¼‰</p>
<p><img src="/posts/78e35d03/image-20220204181348812.png" alt="src/App.vue"></p>
<p>ä¿®æ”¹åçš„<code>App.vue</code>:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id&#x3D;&quot;app&quot;&gt;</span><br><span class="line">    &lt;router-view &#x2F;&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#39;App&#39;,</span><br><span class="line">  components: &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">#app &#123;</span><br><span class="line">  font-family: Avenir, Helvetica, Arial, sans-serif;</span><br><span class="line">  -webkit-font-smoothing: antialiased;</span><br><span class="line">  -moz-osx-font-smoothing: grayscale;</span><br><span class="line">  text-align: center;</span><br><span class="line">  color: #2c3e50;</span><br><span class="line">  margin-top: 60px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>æ£€æŸ¥åœ°å€æ è·³è½¬æ˜¯å¦æ­£å¸¸</p>
<p><img src="/posts/78e35d03/image-20220204231001677.png" alt="/loginè·¯å¾„æ­£å¸¸æ˜¾ç¤º"></p>
<p><img src="/posts/78e35d03/image-20220204182056530.png" alt="éšæœºå¡«å†™è·¯å¾„æŒ‰é¢„æœŸä¸æ˜¾ç¤º"></p>
</li>
</ul>
<h2 id="ç¼–å†™æ³¨å†Œç»„ä»¶"><a href="#ç¼–å†™æ³¨å†Œç»„ä»¶" class="headerlink" title="ç¼–å†™æ³¨å†Œç»„ä»¶"></a>ç¼–å†™æ³¨å†Œç»„ä»¶</h2><ul>
<li><p>åœ¨é¡¹ç›®<code>src/views</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>register</code>æ–‡ä»¶å¤¹å¹¶åˆ›å»º<code>Register.vue</code>ç»„ä»¶</p>
<p><img src="/posts/78e35d03/image-20220204231156617.png" alt="æ³¨å†Œé¡µé¢ç»„ä»¶"></p>
</li>
<li><p><strong>Register.vue ç»„ä»¶ä»£ç </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-card class&#x3D;&quot;box-card&quot;&gt;</span><br><span class="line">      &lt;h2&gt;æ³¨å†Œ&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        :model&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        status-icon</span><br><span class="line">        :rules&#x3D;&quot;rules&quot;</span><br><span class="line">        ref&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        label-position&#x3D;&quot;left&quot;</span><br><span class="line">        label-width&#x3D;&quot;80px&quot;</span><br><span class="line">        class&#x3D;&quot;demo-ruleForm&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç”¨æˆ·å&quot; prop&#x3D;&quot;uname&quot;&gt;</span><br><span class="line">          &lt;el-input v-model&#x3D;&quot;ruleForm.uname&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;å¯†ç &quot; prop&#x3D;&quot;pass&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.pass&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç¡®è®¤å¯†ç &quot; prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.password&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">      &lt;&#x2F;el-form&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;btnGroup&quot;&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;submitForm(&#39;ruleForm&#39;)&quot;</span><br><span class="line">          &gt;æäº¤&lt;&#x2F;el-button</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;resetForm(&#39;ruleForm&#39;)&quot;&gt;é‡ç½®&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;goBack&quot;&gt;è¿”å›&lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-card&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    var validatePass &#x3D; (rule, value, callback) &#x3D;&gt; &#123;</span><br><span class="line">      if (value &#x3D;&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;è¯·è¾“å…¥å¯†ç &quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (this.ruleForm.checkPass !&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">          this.$refs.ruleForm.validateField(&quot;checkPass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var validatePass2 &#x3D; (rule, value, callback) &#x3D;&gt; &#123;</span><br><span class="line">      if (value &#x3D;&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;è¯·å†æ¬¡è¾“å…¥å¯†ç &quot;));</span><br><span class="line">      &#125; else if (value !&#x3D;&#x3D; this.ruleForm.pass) &#123;</span><br><span class="line">        callback(new Error(&quot;ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´!&quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return &#123;</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        pass: &quot;&quot;,</span><br><span class="line">        password: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        uname: [</span><br><span class="line">          &#123; required: true, message: &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">        pass: [&#123; required: true, validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, validator: validatePass2, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    submitForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          alert(&quot;submit!&quot;);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          console.log(&quot;error submit!!&quot;);</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    resetForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].resetFields();</span><br><span class="line">    &#125;,</span><br><span class="line">    goBack() &#123;</span><br><span class="line">      this.$router.go(-1);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.box-card &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">  width: 400px;</span><br><span class="line">&#125;</span><br><span class="line">.login-from &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®æ³¨å†Œé¡µé¢è·¯ç”±ã€‚åœ¨<code>src/router/index.js</code>ä¸­æ·»åŠ çº¢æ¡†ä¸­çš„ä»£ç </p>
<p><img src="/posts/78e35d03/image-20220204231614360.png" alt="é…ç½®æ³¨å†Œé¡µé¢è·¯ç”±"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ–‡ä»¶ä¸“é—¨è´Ÿè´£é¡¹ç›®çš„è·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;../views/login/Login&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Register <span class="keyword">from</span> <span class="string">&#x27;../views/register/Register&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,    <span class="comment">// è·¯ç”±æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ä¼šåœ¨åœ°å€ä¸­æ˜¾ç¤ºäº•å·#</span></span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">// è·¯å¾„</span></span><br><span class="line">            redirect: <span class="string">&#x27;/login&#x27;</span>  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/login&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Login    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/register&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Register    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>æµ‹è¯•é¡µé¢ä¸è·¯ç”±ã€‚åœ¨åœ°å€æ ä¸­è¾“å…¥<code>/register</code>ï¼Œç‚¹å‡»è¿”å›æŒ‰é’®æ­£å¸¸è·³è½¬</p>
<p><img src="/posts/78e35d03/image-20220204231848142.png" alt="æ£€æŸ¥æ³¨å†Œé¡µé¢"></p>
</li>
</ul>
<h2 id="ç¼–å†™é¦–é¡µç»„ä»¶"><a href="#ç¼–å†™é¦–é¡µç»„ä»¶" class="headerlink" title="ç¼–å†™é¦–é¡µç»„ä»¶"></a>ç¼–å†™é¦–é¡µç»„ä»¶</h2><blockquote>
<p>æœ¬æ•™ç¨‹çš„é¦–é¡µåªæ˜¯ä¸ºäº†å±•ç¤ºåç«¯è¿”å›çš„æ•°æ®ï¼Œå› æ­¤åªå®ç°äº†å°†æ•°æ®æ˜¾ç¤ºåˆ°é¡µé¢ä¸Šï¼Œç¨å¾®æœ‰é‚£ä¹ˆä¸€ä¸ä¸ç®€é™‹ï¼Œè§è°…</p>
</blockquote>
<ul>
<li><p>åœ¨é¡¹ç›®<code>src/views</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>home</code>æ–‡ä»¶å¤¹å¹¶åˆ›å»º<code>Home.vue</code>ç»„ä»¶</p>
<p><img src="/posts/78e35d03/image-20220204233952220.png" alt="åˆ›å»ºé¦–é¡µç»„ä»¶"></p>
</li>
<li><p><strong>Home.vue ç»„ä»¶ä»£ç </strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;æ¬¢è¿&#123;&#123; user.uname &#125;&#125;ï¼æ‚¨çš„ uid ä¸º&#123;&#123; user.uid &#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;router-link to&#x3D;&quot;&#x2F;login&quot;&gt;</span><br><span class="line">      &lt;el-button&gt; ç™»å‡º &lt;&#x2F;el-button&gt;</span><br><span class="line">    &lt;&#x2F;router-link&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      user: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        uid: null,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>é…ç½®é¦–é¡µè·¯ç”±ã€‚åœ¨<code>src/router/index.js</code>ä¸­æ·»åŠ çº¢æ¡†ä¸­çš„ä»£ç </p>
<p><img src="/posts/78e35d03/image-20220204234200544.png" alt="é…ç½®é¦–é¡µè·¯ç”±"></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ–‡ä»¶ä¸“é—¨è´Ÿè´£é¡¹ç›®çš„è·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;../views/login/Login&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Register <span class="keyword">from</span> <span class="string">&#x27;../views/register/Register&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/home/Home&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,    <span class="comment">// è·¯ç”±æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ä¼šåœ¨åœ°å€ä¸­æ˜¾ç¤ºäº•å·#</span></span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">// è·¯å¾„</span></span><br><span class="line">            redirect: <span class="string">&#x27;/login&#x27;</span>  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/login&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Login    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/register&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Register    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/home&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Home    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>æµ‹è¯•é¡µé¢ä¸è·¯ç”±ã€‚åœ¨åœ°å€æ ä¸­è¾“å…¥<code>/home</code>ï¼Œç‚¹å‡»ç™»å‡ºæŒ‰é’®ï¼Œæ­£å¸¸è·³è½¬</p>
<p><img src="/posts/78e35d03/image-20220204234423069.png" alt="æµ‹è¯•æ•ˆæœ"></p>
</li>
</ul>
<p><strong>è‡³æ­¤æ‰€æœ‰çš„æœ¬ demo çš„æ‰€æœ‰é¡µé¢éƒ½å†™å®Œäº†ï¼Œä¸€äº›ç®€å•çš„å‰ç«¯è·³è½¬é€»è¾‘ä¹Ÿå·²å®Œæˆï¼Œæ¥ä¸‹æ¥å°±éœ€è¦ä¸åç«¯è¿›è¡Œäº¤äº’ï¼Œå®ç°æˆ‘ä»¬çš„ç™»å½•æ³¨å†ŒåŠŸèƒ½ã€‚</strong></p>
<h2 id="å‰åç«¯æ•°æ®äº¤äº’"><a href="#å‰åç«¯æ•°æ®äº¤äº’" class="headerlink" title="å‰åç«¯æ•°æ®äº¤äº’"></a>å‰åç«¯æ•°æ®äº¤äº’</h2><blockquote>
<p>åœ¨å¼€å§‹å‰åç«¯æ•°æ®äº¤äº’çš„åŠŸèƒ½å¼€å‘ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥å¾—å…ˆæœ‰ä¸ªåç«¯ï¼Œå¹¶ä¸”è¿™ä¸ªåç«¯å·²ç»å†™å¥½äº†ç™»å½•æ³¨å†Œçš„ç›¸å…³åŠŸèƒ½æ¥å£ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¯·æ±‚æ¥å£æ•°æ®äº†ã€‚åˆ«æ‹…å¿ƒï¼Œåç«¯çš„é¡¹ç›®æˆ‘æ—©å·²å‡†å¤‡å¥½äº†ğŸ‰<br><a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | www.makerhu.com/posts/5b2ca0db/</a><br>è¿™ä¸ªæ•™ç¨‹é‡Œè¯¦ç»†ä»‹ç»äº†å¦‚ä½•å¼€å‘ä¸€ä¸ª SpringBoot åç«¯çš„ç™»é™†æ³¨å†Œå°é¡¹ç›®ï¼Œä¸è¿™ä¸ªé¡¹ç›®æ˜¯é…å¥—çš„ï¼Œæ•™ç¨‹çš„æœ€åä¹Ÿé™„ä¸Šäº†é¡¹ç›®çš„æºä»£ç ï¼Œå¯ä»¥ç›´æ¥å…‹éš†ä¸‹æ¥é…ç½®ä¸€ä¸‹æ•°æ®åº“å°±èƒ½è¿è¡Œäº†ï¼Œå¦‚ä½•é…ç½®æ•°æ®åº“æ•™ç¨‹é‡Œä¹Ÿæœ‰è¯¦ç»†çš„ä»‹ç»ã€‚ä»¥ä¸‹çš„æ•°æ®è¯·æ±‚åŠŸèƒ½æˆ‘éƒ½æ˜¯ç›´æ¥è¯·æ±‚è¿™ä¸ªåç«¯é¡¹ç›®çš„æ¥å£ï¼Œè¯·æ±‚åœ°å€æ˜¯ localhost:8081 åœ¨æ­¤å°±ä¸èµ˜è¿°å¦‚ä½•åœ¨æœ¬åœ°å¯åŠ¨åç«¯é¡¹ç›®äº†ï¼Œè¯¦è§ä¸Šæ–¹çš„æ•™ç¨‹é“¾æ¥ã€‚</p>
</blockquote>
<p><strong>æ³¨ï¼šåœ¨å†™æ¶‰åŠåˆ°ä¸åç«¯äº¤äº’çš„åŠŸèƒ½æ—¶ä¸€å®šè®°å¾—è¦å…ˆæŠŠåç«¯å¯åŠ¨èµ·æ¥ï¼Œå¦åˆ™æ˜¯æ‰¾ä¸åˆ°åç«¯çš„ï¼Œä¸€èˆ¬æ˜¯åœ¨å‰ç«¯å¼€å‘å…¨ç¨‹éƒ½è¿è¡Œç€åç«¯çš„ã€‚</strong></p>
<h3 id="åç«¯æ¥å£è¯´æ˜"><a href="#åç«¯æ¥å£è¯´æ˜" class="headerlink" title="åç«¯æ¥å£è¯´æ˜"></a>åç«¯æ¥å£è¯´æ˜</h3><p>ç”±äºæœ¬é¡¹ç›®éœ€è¦å‘åç«¯é¡¹ç›®è¯·æ±‚æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å…ˆçŸ¥é“åç«¯éƒ½å®ç°äº†ä»€ä¹ˆæ¥å£ã€‚åœ¨åç«¯é¡¹ç›®ä¸­ä¸€å…±å°±å®ç°äº†ä¸¤ä¸ªæ¥å£ï¼Œåˆ†åˆ«æ˜¯ç™»å½•æ¥å£å’Œæ³¨å†Œæ¥å£ï¼Œä»¥ä¸‹æ˜¯æ¥å£è¯´æ˜ï¼ˆå¯ä»¥å…ˆè·³è¿‡ï¼Œç­‰åˆ°å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½æ—¶å†å›æ¥çœ‹ï¼‰ï¼š</p>
<ul>
<li><p><strong>ç™»å½•æ¥å£</strong></p>
<ul>
<li><p>è¯·æ±‚åœ°å€ï¼š<a href="http://localhost:8081/user/login">http://localhost:8081/user/login</a></p>
</li>
<li><p>è¯·æ±‚æ–¹æ³•ï¼špost</p>
</li>
<li><p>è¯·æ±‚å‚æ•°ï¼š</p>
<ul>
<li>unameï¼šç”¨æˆ·åï¼Œå­—ç¬¦ä¸²ç±»å‹</li>
<li>passwordï¼šå¯†ç ï¼Œå­—ç¬¦ä¸²ç±»å‹</li>
</ul>
<p>è¯·æ±‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">params: &#123;</span><br><span class="line">	uname: &#x27;makerhu&#x27;,</span><br><span class="line">	password: &#x27;123&#x27;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æˆåŠŸå“åº”ç¼–ç </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;uid&quot;</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">&quot;uname&quot;</span>: <span class="string">&quot;makerhu&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤±è´¥å“åº”ç¼–ç </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;123&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>æ³¨å†Œæ¥å£</strong></p>
<ul>
<li><p>è¯·æ±‚åœ°å€ï¼š<a href="http://localhost:8081/user/register">http://localhost:8081/user/register</a></p>
</li>
<li><p>è¯·æ±‚æ–¹æ³•ï¼špost</p>
</li>
<li><p>è¯·æ±‚å‚æ•°ï¼š</p>
<ul>
<li>json å¯¹è±¡ï¼ŒåŒ…å«ç”¨æˆ·å uname å’Œå¯†ç  password</li>
</ul>
<p>è¯·æ±‚ç¤ºä¾‹ï¼š</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    uname: &#x27;makerhu&#x27;,</span><br><span class="line">    password: &#x27;123&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>æˆåŠŸå“åº”ç¼–ç </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;æ³¨å†ŒæˆåŠŸï¼&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;uid&quot;</span>: <span class="number">7</span>,</span><br><span class="line">        <span class="attr">&quot;uname&quot;</span>: <span class="string">&quot;user6&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å¤±è´¥å“åº”ç¼–ç </p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;code&quot;</span>: <span class="string">&quot;456&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;msg&quot;</span>: <span class="string">&quot;ç”¨æˆ·åå·²å­˜åœ¨ï¼&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;data&quot;</span>: <span class="literal">null</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="å®‰è£…-axios"><a href="#å®‰è£…-axios" class="headerlink" title="å®‰è£… axios"></a>å®‰è£… axios</h3><blockquote>
<p>axios ç®€å•ç†è§£å°±æ˜¯ç”¨æ¥å¸®åŠ©æˆ‘ä»¬å®ç°ç½‘ç»œæ•°æ®è¯·æ±‚çš„ä¸€ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒä¸åç«¯è¿›è¡Œæ•°æ®äº¤äº’</p>
</blockquote>
<p>axios ä¸­æ–‡æ–‡æ¡£ï¼š<a href="http://www.axios-js.com/zh-cn/docs/#axios-API">axiosä¸­æ–‡æ–‡æ¡£|axiosä¸­æ–‡ç½‘ | axios (axios-js.com)</a></p>
<ul>
<li><p><strong>å®‰è£… axios</strong></p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰“å¼€ cmdï¼Œè¾“å…¥ğŸ› <code>npm install axios</code>ï¼Œç­‰å¾…ç»“æŸåæ²¡æœ‰æ˜¾ç¤º error å…³é”®å­—å³æˆåŠŸ</p>
</li>
<li><p><strong>åœ¨é¡¹ç›®ä¸­å¼•å…¥ä½¿ç”¨ axios</strong>ï¼Œåœ¨<code>src/main.js</code>ä¸­æ·»åŠ çº¢è‰²æ¡†ä¸­çš„ä¸‰è¡Œä»£ç </p>
<p><img src="/posts/78e35d03/image-20220205145546498.png" alt="å¼•ç”¨axiosæ’ä»¶"></p>
<p>ä¿®æ”¹åçš„ <code>main.js</code> æ–‡ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> ElementUI <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> VueAxios <span class="keyword">from</span> <span class="string">&#x27;vue-axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³é—­ Vue çš„ç”Ÿäº§æç¤º</span></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ’ä»¶</span></span><br><span class="line">Vue.use(ElementUI) <span class="comment">// element ui æ’ä»¶</span></span><br><span class="line">Vue.use(VueRouter) <span class="comment">// è·¯ç”±æ’ä»¶</span></span><br><span class="line">Vue.use(VueAxios, axios) <span class="comment">// ä½¿ç”¨ axios æ’ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»º Vue å®ä¾‹å¯¹è±¡</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  render: <span class="function"><span class="params">h</span> =&gt;</span> h(App),  <span class="comment">// render å‡½æ•°å°†å¸®åŠ©è§£ææ¨¡æ¿ï¼Œä¼ å…¥çš„å‚æ•° h ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ç”¨æ¥è§£æ App è¿™ä¸ªç»„ä»¶</span></span><br><span class="line">  router</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>) <span class="comment">// å°† App.vue ç»„ä»¶æŒ‚è½½åˆ° index.html ä¸­çš„ id ä¸º app çš„ div æ ‡ç­¾ä¸Š</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å°±èƒ½åœ¨ Vue å®ä¾‹ä¸­é€šè¿‡<code>this.axios</code>è°ƒç”¨äº†ã€‚</p>
</li>
<li><p><strong>å¦‚ä½•ä½¿ç”¨ axios</strong></p>
<p>åœ¨ vue çš„æ–¹æ³•ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢ä¾‹å­ä¸­çš„æ–¹å¼ä½¿ç”¨ axios, é…åˆæ¥å£è¯´æ˜å°±èƒ½ä¸åç«¯è¿›è¡Œæ•°æ®äº¤äº’äº†ï¼Œå…·ä½“ç”¨æ³•è§å®˜æ–¹æ–‡æ¡£</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span>.axios.post(&#123;</span><br><span class="line">  method: <span class="string">&#x27;post&#x27;</span>,		<span class="comment">// è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  url: <span class="string">&#x27;http://localhost:8081/user/login&#x27;</span>,	<span class="comment">// è¯·æ±‚åœ°å€</span></span><br><span class="line">  data: &#123;	<span class="comment">// è¯·æ±‚å‚æ•°</span></span><br><span class="line">    cname: <span class="string">&#x27;makerhu&#x27;</span>,</span><br><span class="line">    password: <span class="string">&#x27;123&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;	<span class="comment">// è¯·æ±‚æˆåŠŸå›è°ƒ</span></span><br><span class="line">  <span class="built_in">console</span>.log(response);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;	<span class="comment">// è¯·æ±‚å¼‚å¸¸å›è°ƒ</span></span><br><span class="line">  <span class="built_in">console</span>.log(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="é…ç½®ä»£ç†æœåŠ¡å™¨"><a href="#é…ç½®ä»£ç†æœåŠ¡å™¨" class="headerlink" title="é…ç½®ä»£ç†æœåŠ¡å™¨"></a>é…ç½®ä»£ç†æœåŠ¡å™¨</h3><blockquote>
<p>åœ¨æ­£å¼å¼€å§‹å†™ç™»å½•æ³¨å†Œä¸åç«¯çš„äº¤äº’ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåœ¨å‰ç«¯å¤„ç†ä¸€ä¸‹è·¨åŸŸé—®é¢˜ã€‚è·¨åŸŸé—®é¢˜å¯ä»¥ç®€å•ç†è§£æˆå¦‚æœä½ çš„å‰ç«¯é¡¹ç›®çš„<strong>IPåœ°å€</strong>å’Œ<strong>ç«¯å£å·</strong>å’Œåç«¯çš„<strong>IPåœ°å€</strong>å’Œ<strong>ç«¯å£å·</strong>ä¸ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´å‰ç«¯æ— æ³•è·å–åˆ°æ•°æ®ï¼Œè¿™æ˜¯ä¸€ä¸ªè§„å®šã€‚è€Œåœ¨å‰åç«¯åˆ†ç¦»å¼€å‘çš„é¡¹ç›®ä¸­ï¼Œå‰åç«¯é¡¹ç›®çš„ç«¯å£å·ä¸€èˆ¬éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„å‰ç«¯ç«¯å£å·æ˜¯ 8080ï¼Œåç«¯ç«¯å£å·æ˜¯ 8081ï¼Œæ‰€ä»¥ä¸€å®šä¼šé€ æˆè·¨åŸŸè®¿é—®çš„é—®é¢˜ï¼Œè·¨åŸŸè®¿é—®çš„é—®é¢˜å¯ä»¥åœ¨å‰ç«¯è§£å†³ä¹Ÿå¯ä»¥åœ¨åç«¯è§£å†³ï¼Œå‰ç«¯ä¸€èˆ¬é‡‡ç”¨ä»£ç†æœåŠ¡å™¨çš„æ–¹å¼ï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬ä¹Ÿé€šè¿‡é…ç½®ä»£ç†æœåŠ¡å™¨çš„æ–¹æ³•æ¥å¤„ç†è·¨åŸŸé—®é¢˜ã€‚</p>
</blockquote>
<p><strong>ä»£ç†æœåŠ¡å™¨æ˜¯å¦‚ä½•è§£å†³è·¨åŸŸé—®é¢˜çš„å‘¢ï¼Ÿ</strong></p>
<p>ç®€å•æ¥è¯´å°±æ˜¯ä»£ç†æœåŠ¡å™¨ä»£ç†å‰ç«¯é¡¹ç›®è®¿é—®åç«¯ï¼Œå¹¶ä¸”åœ¨è®¿é—®åç«¯çš„æ—¶å€™æŠŠè‡ªå·±çš„ IP åœ°å€å’Œç«¯å£å·ä¼ªè£…æˆå’Œåç«¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¿™æ ·å°±èƒ½æŠŠåç«¯éª—è¿‡å»ä»è€Œè·å–åˆ°æ•°æ®å•¦ã€‚</p>
<p>å®ç°èµ·æ¥å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆå’Œ src æ–‡ä»¶å¤¹å¹³çº§ï¼‰ä¸­æ·»åŠ ä¸€ä¸ªæ–‡ä»¶<code>vue.config.js</code>æ·»åŠ å‡ è¡Œé…ç½®å°±è¡Œäº†ï¼Œä¸‹é¢æ˜¯<code>vue.config.js</code>æ–‡ä»¶çš„é…ç½®å†…å®¹</p>
<p><img src="/posts/78e35d03/image-20220205163502539.png" alt="vue.config.jsæ–‡ä»¶"></p>
<p><strong>vue.config.js æ–‡ä»¶ï¼š</strong></p>
<p><strong>æ³¨æ„ä¿®æ”¹å®Œ vue.config.js è¿™ä¸ªé…ç½®æ–‡ä»¶éœ€è¦é‡æ–°å¯åŠ¨å‰ç«¯é¡¹ç›®æ‰èƒ½ç”Ÿæ•ˆ</strong>ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­æ‰“å¼€cmdï¼Œè¾“å…¥ ğŸ› <code>npm run serve</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    lintOnSave: <span class="literal">false</span>, <span class="comment">// å…³é—­è¯­æ³•æ£€æµ‹</span></span><br><span class="line">    <span class="comment">// å¼€å¯ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">    devServer: &#123;</span><br><span class="line">        <span class="comment">// ä»£ç†æœåŠ¡å™¨å¯ä»¥å°†è·¯ç”±ä¸­çš„æŒ‡å®šå‰ç¼€è½¬å‘åˆ°æŒ‡å®šçš„åç«¯æœåŠ¡å™¨ä¸­</span></span><br><span class="line">        proxy: &#123;</span><br><span class="line">            <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">                target: <span class="string">&#x27;http://localhost:8081&#x27;</span>,</span><br><span class="line">                ws: <span class="literal">true</span>, <span class="comment">// æ˜¯å¦å¯ç”¨websockets</span></span><br><span class="line">                changeOrigin: <span class="literal">true</span>,  <span class="comment">// ä»£ç†æ—¶æ˜¯å¦æ›´æ”¹host</span></span><br><span class="line">                pathRewrite: &#123;</span><br><span class="line">                    <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">//è¿™é‡Œç†è§£æˆç”¨&#x27;/api&#x27;ä»£æ›¿targeté‡Œé¢çš„åœ°å€</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é…ç½®è§£é‡Š</strong></p>
<p>è¿™é‡Œæˆ‘ä»¬ä¸»è¦çœ‹ä¸€ä¸‹ proxy é‡Œçš„è¿™å‡ ä¸ªé…ç½®ï¼ˆæˆ‘æŠŠä¸Šé¢æš‚æ—¶ä¸éœ€è¦å…³æ³¨æˆ–ä¸é‡è¦çš„é…ç½®å…ˆåˆ äº†ï¼‰</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">    &#x27;/api&#x27;: &#123;</span><br><span class="line">        target: &#x27;http://localhost:8081&#x27;,</span><br><span class="line">        pathRewrite: &#123;</span><br><span class="line">            &#x27;^/api&#x27;: &#x27;&#x27; //è¿™é‡Œç†è§£æˆç”¨&#x27;/api&#x27;ä»£æ›¿targeté‡Œé¢çš„åœ°å€</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>â€˜/apiâ€™ï¼š</strong>è¿™ä¸ªé”®å€¼å¯¹ï¼Œä¹Ÿå°±æ˜¯**â€™/apiâ€™**å’Œå®ƒåé¢è·Ÿçš„ä¸€ä¸ªå¤§æ‹¬å·ä¸ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œè¿™ä¸ªé”®å€¼å¯¹å°±æ˜¯ä¸€ä¸ªä»£ç†ï¼Œå®ƒä»£ç†çš„æ˜¯æ‰€æœ‰è¯·æ±‚åœ°å€ä¸­ä»¥<code>/api</code>å¼€å¤´çš„è¯·æ±‚ï¼Œ</li>
<li><strong>targetï¼š</strong>è¿™ä¸ªå±æ€§æ˜¯é…ç½®è¿™ä¸ªä»£ç†æœåŠ¡å™¨è¦å¸®å¿™ä»£ç†çš„åç«¯æœåŠ¡å™¨çš„åœ°å€ï¼Œæœ¬é¡¹ç›®çš„åç«¯åœ°å€æ˜¯<code>http://localhost:8081</code></li>
<li><strong>pathRewriteï¼š</strong>è¿™ä¸ªå±æ€§çš„ä½œç”¨æ˜¯åœ¨ä»£ç†æœåŠ¡å™¨è¯·æ±‚åç«¯æ—¶ï¼ŒæŠŠåœ°å€ä¸­çš„<code>/api</code>æ›¿æ¢æˆç©ºå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ä»£ç†è¯·æ±‚åç«¯çš„ç™»å½•æ¥å£æ—¶ï¼Œå¦‚æœæ²¡æœ‰é…ç½®è¿™ä¸ªå±æ€§ï¼Œè¯·æ±‚çš„åœ°å€å°†æ˜¯<code>http://localhost:8081/api/user/login</code>ï¼Œè€Œæˆ‘ä»¬æŸ¥çœ‹æœ¬æ–‡å‰é¢çš„<strong>åç«¯æ¥å£è¯´æ˜</strong>ï¼Œå‘ç°åç«¯çš„ç™»å½•æ¥å£åœ°å€æ˜¯<code>http://localhost:8081/user/login</code>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é…ç½® <strong>pathRewrite</strong> è¿™ä¸ªå±æ€§å°†<code>/api</code>å˜ä¸ºç©ºå­—ç¬¦ä¸²</li>
</ul>
<p><strong>ä½¿ç”¨ä»£ç†</strong></p>
<p>å…¶å®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ä½¿ç”¨æ–¹å¼ï¼Œåªè¦åœ¨ä½¿ç”¨ axios æ—¶ï¼ŒæŠŠè¯·æ±‚åœ°å€æ”¹ä¸ºä»£ç†çš„å‰ç¼€å°±è¡Œäº†ï¼Œæœ¬é¡¹ç›®çš„ä»£ç†å‰ç¼€æ˜¯<code>/api</code></p>
<p>å¯¹æ¯”ï¼š</p>
<ul>
<li><p>æœªä½¿ç”¨ä»£ç†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span>.axios.post(&#123;</span><br><span class="line">  method: <span class="string">&#x27;post&#x27;</span>,		<span class="comment">// è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  url: <span class="string">&#x27;http://localhost:8081/user/login&#x27;</span>,	<span class="comment">// è¯·æ±‚åœ°å€</span></span><br><span class="line">  data: &#123;	<span class="comment">// è¯·æ±‚å‚æ•°</span></span><br><span class="line">    cname: <span class="string">&#x27;makerhu&#x27;</span>,</span><br><span class="line">    password: <span class="string">&#x27;123&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
<li><p>ä½¿ç”¨ä»£ç†</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">this</span>.axios.post(&#123;</span><br><span class="line">  method: <span class="string">&#x27;post&#x27;</span>,		<span class="comment">// è¯·æ±‚æ–¹æ³•</span></span><br><span class="line">  url: <span class="string">&#x27;/api/user/login&#x27;</span>,	<span class="comment">// è¯·æ±‚åœ°å€</span></span><br><span class="line">  data: &#123;	<span class="comment">// è¯·æ±‚å‚æ•°</span></span><br><span class="line">    cname: <span class="string">&#x27;makerhu&#x27;</span>,</span><br><span class="line">    password: <span class="string">&#x27;123&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<p>è¿™æ ·ä»£ç†æœåŠ¡å™¨å°±ä¼šè‡ªåŠ¨æŠŠ<code>&#39;/api/user/login&#39;</code>æ”¹æˆ<code>&#39;http://localhost:8081/user/login&#39;</code></p>
<p>è‡³æ­¤ï¼Œä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ ä¸œé£äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æŠŠå‰æ–‡è¯´åˆ°çš„æŠ€æœ¯éƒ½æ¬åˆ°ç™»å½•æ³¨å†Œç»„ä»¶ä¸­ï¼Œåœ¨æ·»åŠ ä¸€ç‚¹ç‚¹ç»†èŠ‚å°±å®Œäº‹å•¦ï¼</p>
<h3 id="å®Œå–„ç™»å½•åŠŸèƒ½"><a href="#å®Œå–„ç™»å½•åŠŸèƒ½" class="headerlink" title="å®Œå–„ç™»å½•åŠŸèƒ½"></a>å®Œå–„ç™»å½•åŠŸèƒ½</h3><ul>
<li><p><strong>å®Œå–„ submitForm æ–¹æ³•</strong>ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åœ¨ç‚¹å‡»ç™»å½•æŒ‰é’®ä¼šè¢«è°ƒç”¨ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨è¿™ä¸ªæ–¹æ³•é‡ŒæŠŠç™»å½•çš„ç”¨æˆ·åå’Œå¯†ç å‘åˆ°åç«¯</p>
<p>è¿™é‡Œå°±ç›´æ¥è´´å‡ºå®Œå–„åçš„ç™»å½•ç»„ä»¶ä»£ç äº†ï¼Œå˜åŒ–çš„åœ°æ–¹ä¸»è¦å°±æ˜¯åœ¨ submitForm å‡½æ•°é‡Œï¼Œä»£ç é‡Œæœ‰è¯¦ç»†æ³¨é‡Šï¼Œå…¶ä»–çš„å°±æ˜¯åŠ äº†ä¸€ä¸ªæŒ‰é’®æ˜¾ç¤ºåŠ è½½åŠ¨ç”»çš„åŠŸèƒ½ï¼Œä¸æ˜¯å¾ˆé‡è¦ã€‚</p>
<p><strong>src/views/login/Login.vueï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-card class&#x3D;&quot;box-card&quot;&gt;</span><br><span class="line">      &lt;h2&gt;ç™»å½•&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        :model&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        status-icon</span><br><span class="line">        :rules&#x3D;&quot;rules&quot;</span><br><span class="line">        ref&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        label-position&#x3D;&quot;left&quot;</span><br><span class="line">        label-width&#x3D;&quot;70px&quot;</span><br><span class="line">        class&#x3D;&quot;login-from&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç”¨æˆ·å&quot; prop&#x3D;&quot;uname&quot;&gt;</span><br><span class="line">          &lt;el-input v-model&#x3D;&quot;ruleForm.uname&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;å¯†ç &quot; prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.password&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">      &lt;&#x2F;el-form&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;btnGroup&quot;&gt;</span><br><span class="line">        &lt;el-button</span><br><span class="line">          type&#x3D;&quot;primary&quot;</span><br><span class="line">          @click&#x3D;&quot;submitForm(&#39;ruleForm&#39;)&quot;</span><br><span class="line">          v-loading&#x3D;&quot;loading&quot;</span><br><span class="line">          &gt;ç™»å½•&lt;&#x2F;el-button</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;resetForm(&#39;ruleForm&#39;)&quot;&gt;é‡ç½®&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;router-link to&#x3D;&quot;&#x2F;register&quot;&gt;</span><br><span class="line">          &lt;el-button style&#x3D;&quot;margin-left: 10px&quot;&gt;æ³¨å†Œ&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;&#x2F;router-link&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-card&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        password: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        uname: [</span><br><span class="line">          &#123; required: true, message: &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, message: &quot;å¯†ç ä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      loading: false, &#x2F;&#x2F; æ˜¯å¦æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    submitForm(formName) &#123;</span><br><span class="line">      &#x2F;&#x2F; éªŒè¯è¡¨å•ä¸­çš„è´¦å·å¯†ç æ˜¯å¦æœ‰æ•ˆï¼Œå› ä¸ºåœ¨ä¸Šé¢rulesä¸­å®šä¹‰ä¸ºäº†å¿…å¡« required: true</span><br><span class="line">      this.$refs[formName].validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; ç‚¹å‡»ç™»å½•åï¼Œè®©ç™»å½•æŒ‰é’®å¼€å§‹è½¬åœˆåœˆï¼ˆå±•ç¤ºåŠ è½½åŠ¨ç”»ï¼‰</span><br><span class="line">        this.loading &#x3D; true;</span><br><span class="line">        &#x2F;&#x2F; å¦‚æœç»è¿‡æ ¡éªŒï¼Œè´¦å·å¯†ç éƒ½ä¸ä¸ºç©ºï¼Œåˆ™å‘é€è¯·æ±‚åˆ°åç«¯ç™»å½•æ¥å£</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          let _this &#x3D; this;</span><br><span class="line">          &#x2F;&#x2F; ä½¿ç”¨ axios å°†ç™»å½•ä¿¡æ¯å‘é€åˆ°åç«¯</span><br><span class="line">          this.axios(&#123;</span><br><span class="line">            url: &quot;&#x2F;api&#x2F;user&#x2F;login&quot;,               &#x2F;&#x2F; è¯·æ±‚åœ°å€</span><br><span class="line">            method: &quot;post&quot;,                       &#x2F;&#x2F; è¯·æ±‚æ–¹æ³•</span><br><span class="line">            headers: &#123;                            &#x2F;&#x2F; è¯·æ±‚å¤´</span><br><span class="line">              &quot;Content-Type&quot;: &quot;application&#x2F;json&quot;,</span><br><span class="line">            &#125;,</span><br><span class="line">            params: &#123;                             &#x2F;&#x2F; è¯·æ±‚å‚æ•°</span><br><span class="line">              uname: _this.ruleForm.uname,</span><br><span class="line">              password: _this.ruleForm.password,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;).then((res) &#x3D;&gt; &#123; &#x2F;&#x2F; å½“æ”¶åˆ°åç«¯çš„å“åº”æ—¶æ‰§è¡Œè¯¥æ‹¬å·å†…çš„ä»£ç ï¼Œres ä¸ºå“åº”ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯åç«¯è¿”å›çš„ä¿¡æ¯</span><br><span class="line">            if (res.data.code &#x3D;&#x3D;&#x3D; &quot;0&quot;) &#123;  &#x2F;&#x2F; å½“å“åº”çš„ç¼–ç ä¸º 0 æ—¶ï¼Œè¯´æ˜ç™»å½•æˆåŠŸ</span><br><span class="line">              &#x2F;&#x2F; å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°sessionStorageä¸­</span><br><span class="line">              sessionStorage.setItem(&quot;userInfo&quot;, JSON.stringify(res.data.data));</span><br><span class="line">              &#x2F;&#x2F; è·³è½¬é¡µé¢åˆ°é¦–é¡µ</span><br><span class="line">              this.$router.push(&#39;&#x2F;home&#39;);</span><br><span class="line">              &#x2F;&#x2F; æ˜¾ç¤ºåç«¯å“åº”çš„æˆåŠŸä¿¡æ¯</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                message: res.data.msg,</span><br><span class="line">                type: &quot;success&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125; else &#123;  &#x2F;&#x2F; å½“å“åº”çš„ç¼–ç ä¸ä¸º 0 æ—¶ï¼Œè¯´æ˜ç™»å½•å¤±è´¥</span><br><span class="line">              &#x2F;&#x2F; æ˜¾ç¤ºåç«¯å“åº”çš„å¤±è´¥ä¿¡æ¯</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                message: res.data.msg,</span><br><span class="line">                type: &quot;warning&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; ä¸ç®¡å“åº”æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæ”¶åˆ°åç«¯å“åº”çš„æ¶ˆæ¯åå°±ä¸å†è®©ç™»å½•æŒ‰é’®æ˜¾ç¤ºåŠ è½½åŠ¨ç”»äº†</span><br><span class="line">            _this.loading &#x3D; false;</span><br><span class="line">            console.log(res);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123;  &#x2F;&#x2F; å¦‚æœè´¦å·æˆ–å¯†ç æœ‰ä¸€ä¸ªæ²¡å¡«ï¼Œå°±ç›´æ¥æç¤ºå¿…å¡«ï¼Œä¸å‘åç«¯è¯·æ±‚</span><br><span class="line">          console.log(&quot;error submit!!&quot;);</span><br><span class="line">          this.loading &#x3D; false;</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    resetForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].resetFields();</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&#x2F;* è®¾ç½®ç™»å½•é¢æ¿å±…ä¸­ï¼Œå®½åº¦ä¸º400px *&#x2F;</span><br><span class="line">.box-card &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">  width: 400px;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* è®¾ç½®ç™»å½•é¢æ¿ä¸­çš„è¡¨å•å±…ä¸­ *&#x2F;</span><br><span class="line">.login-from &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>å†™å®Œåå…ˆæµ‹è¯•ä¸€ä¸‹ç™»å½•åŠŸèƒ½èƒ½å¦æ­£å¸¸ä½¿ç”¨ï¼Œç”±äºç°åœ¨åç«¯æ²¡æœ‰æ³¨å†Œä»»ä½•è´¦å·ï¼Œæ­£å¸¸åº”è¯¥æç¤ºâ€œè´¦å·æˆ–å¯†ç é”™è¯¯â€ã€‚</p>
<p><img src="/posts/78e35d03/image-20220205172440156.png" alt="æµ‹è¯•ç™»å½•"></p>
</li>
</ul>
<h3 id="å®Œå–„æ³¨å†ŒåŠŸèƒ½"><a href="#å®Œå–„æ³¨å†ŒåŠŸèƒ½" class="headerlink" title="å®Œå–„æ³¨å†ŒåŠŸèƒ½"></a>å®Œå–„æ³¨å†ŒåŠŸèƒ½</h3><p>æ³¨å†ŒåŠŸèƒ½ä¸ç™»å½•åŠŸèƒ½å‡ ä¹ä¸€è‡´ï¼Œå°±æ˜¯å‘åç«¯è¯·æ±‚å‚æ•°çš„æ–¹å¼ä¸å¤ªä¸€æ ·ï¼Œå…·ä½“çœ‹æ¥å£è¯´æ˜ï¼Œè¿™é‡Œä¹Ÿè´´ä¸Šä»£ç ï¼Œæœ‰è¯¦ç»†æ³¨é‡Š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-card class&#x3D;&quot;box-card&quot;&gt;</span><br><span class="line">      &lt;h2&gt;æ³¨å†Œ&lt;&#x2F;h2&gt;</span><br><span class="line">      &lt;el-form</span><br><span class="line">        :model&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        status-icon</span><br><span class="line">        :rules&#x3D;&quot;rules&quot;</span><br><span class="line">        ref&#x3D;&quot;ruleForm&quot;</span><br><span class="line">        label-position&#x3D;&quot;left&quot;</span><br><span class="line">        label-width&#x3D;&quot;80px&quot;</span><br><span class="line">        class&#x3D;&quot;demo-ruleForm&quot;</span><br><span class="line">      &gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç”¨æˆ·å&quot; prop&#x3D;&quot;uname&quot;&gt;</span><br><span class="line">          &lt;el-input v-model&#x3D;&quot;ruleForm.uname&quot;&gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;å¯†ç &quot; prop&#x3D;&quot;pass&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.pass&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">        &lt;el-form-item label&#x3D;&quot;ç¡®è®¤å¯†ç &quot; prop&#x3D;&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input</span><br><span class="line">            type&#x3D;&quot;password&quot;</span><br><span class="line">            v-model&#x3D;&quot;ruleForm.password&quot;</span><br><span class="line">            autocomplete&#x3D;&quot;off&quot;</span><br><span class="line">          &gt;&lt;&#x2F;el-input&gt;</span><br><span class="line">        &lt;&#x2F;el-form-item&gt;</span><br><span class="line">      &lt;&#x2F;el-form&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;btnGroup&quot;&gt;</span><br><span class="line">        &lt;el-button type&#x3D;&quot;primary&quot; @click&#x3D;&quot;submitForm(&#39;ruleForm&#39;)&quot;  v-loading&#x3D;&quot;loading&quot;</span><br><span class="line">          &gt;æäº¤&lt;&#x2F;el-button</span><br><span class="line">        &gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;resetForm(&#39;ruleForm&#39;)&quot;&gt;é‡ç½®&lt;&#x2F;el-button&gt;</span><br><span class="line">        &lt;el-button @click&#x3D;&quot;goBack&quot;&gt;è¿”å›&lt;&#x2F;el-button&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;el-card&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    var validatePass &#x3D; (rule, value, callback) &#x3D;&gt; &#123;</span><br><span class="line">      if (value &#x3D;&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;è¯·è¾“å…¥å¯†ç &quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        if (this.ruleForm.checkPass !&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">          this.$refs.ruleForm.validateField(&quot;checkPass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    var validatePass2 &#x3D; (rule, value, callback) &#x3D;&gt; &#123;</span><br><span class="line">      if (value &#x3D;&#x3D;&#x3D; &quot;&quot;) &#123;</span><br><span class="line">        callback(new Error(&quot;è¯·å†æ¬¡è¾“å…¥å¯†ç &quot;));</span><br><span class="line">      &#125; else if (value !&#x3D;&#x3D; this.ruleForm.pass) &#123;</span><br><span class="line">        callback(new Error(&quot;ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´!&quot;));</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        callback();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return &#123;</span><br><span class="line">      ruleForm: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        pass: &quot;&quot;,</span><br><span class="line">        password: &quot;&quot;,</span><br><span class="line">      &#125;,</span><br><span class="line">      rules: &#123;</span><br><span class="line">        uname: [</span><br><span class="line">          &#123; required: true, message: &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼&quot;, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">        pass: [&#123; required: true, validator: validatePass, trigger: &quot;blur&quot; &#125;],</span><br><span class="line">        password: [</span><br><span class="line">          &#123; required: true, validator: validatePass2, trigger: &quot;blur&quot; &#125;,</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      loading: false</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    submitForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].validate((valid) &#x3D;&gt; &#123;</span><br><span class="line">        this.loading &#x3D; true;  &#x2F;&#x2F; æäº¤æŒ‰é’®æ˜¾ç¤ºåŠ è½½åŠ¨ç”»</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          let _this &#x3D; this;</span><br><span class="line">          this.axios(&#123;     &#x2F;&#x2F; axios å‘åç«¯å‘èµ·è¯·æ±‚</span><br><span class="line">            url: &quot;&#x2F;api&#x2F;user&#x2F;register&quot;,  &#x2F;&#x2F; è¯·æ±‚åœ°å€</span><br><span class="line">            method: &quot;post&quot;,             &#x2F;&#x2F; è¯·æ±‚æ–¹æ³•</span><br><span class="line">            headers: &#123;                  &#x2F;&#x2F; è¯·æ±‚å¤´</span><br><span class="line">              &quot;Content-Type&quot;: &quot;application&#x2F;json&quot;,</span><br><span class="line">            &#125;,</span><br><span class="line">            data: &#123; &#x2F;&#x2F; è¯·æ±‚å‚æ•°ï¼Œä¸º dataï¼Œä¸ç™»å½•çš„ params ä¸å¤ªä¸€æ ·</span><br><span class="line">              uname: _this.ruleForm.uname,</span><br><span class="line">              password: _this.ruleForm.password,</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;).then((res) &#x3D;&gt; &#123; &#x2F;&#x2F; å½“æ”¶åˆ°åç«¯çš„å“åº”æ—¶æ‰§è¡Œè¯¥æ‹¬å·å†…çš„ä»£ç ï¼Œres ä¸ºå“åº”ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯åç«¯è¿”å›çš„ä¿¡æ¯</span><br><span class="line">            if (res.data.code &#x3D;&#x3D;&#x3D; &#39;0&#39;) &#123;  &#x2F;&#x2F; å½“å“åº”çš„ç¼–ç ä¸º 0 æ—¶ï¼Œè¯´æ˜æ³¨å†ŒæˆåŠŸ</span><br><span class="line">              &#x2F;&#x2F; æ˜¾ç¤ºåç«¯å“åº”çš„æˆåŠŸä¿¡æ¯</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                message: res.data.msg,</span><br><span class="line">                type: &quot;success&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;else&#123;  &#x2F;&#x2F; å½“å“åº”çš„ç¼–ç ä¸ä¸º 0 æ—¶ï¼Œè¯´æ˜æ³¨å†Œå¤±è´¥</span><br><span class="line">              &#x2F;&#x2F; æ˜¾ç¤ºåç«¯å“åº”çš„å¤±è´¥ä¿¡æ¯</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                message: res.data.msg,</span><br><span class="line">                type: &quot;warning&quot;,</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F; ä¸ç®¡å“åº”æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œæ”¶åˆ°åç«¯å“åº”çš„æ¶ˆæ¯åå°±ä¸å†è®©ç™»å½•æŒ‰é’®æ˜¾ç¤ºåŠ è½½åŠ¨ç”»äº†</span><br><span class="line">            _this.loading &#x3D; false;</span><br><span class="line">            console.log(res);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125; else &#123; &#x2F;&#x2F; å¦‚æœè´¦å·æˆ–å¯†ç æœ‰ä¸€ä¸ªæ²¡å¡«ï¼Œå°±ç›´æ¥æç¤ºå¿…å¡«ï¼Œä¸å‘åç«¯è¯·æ±‚</span><br><span class="line">          console.log(&quot;error submit!!&quot;);</span><br><span class="line">          this.loading &#x3D; false;</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    resetForm(formName) &#123;</span><br><span class="line">      this.$refs[formName].resetFields();</span><br><span class="line">    &#125;,</span><br><span class="line">    goBack() &#123;</span><br><span class="line">      this.$router.go(-1);</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&#x2F;* è®¾ç½®ç™»å½•é¢æ¿å±…ä¸­ï¼Œå®½åº¦ä¸º400px *&#x2F;</span><br><span class="line">.box-card &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">  width: 400px;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;* è®¾ç½®ç™»å½•é¢æ¿ä¸­çš„è¡¨å•å±…ä¸­ *&#x2F;</span><br><span class="line">.login-from &#123;</span><br><span class="line">  margin: auto auto;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>å†™å®Œæ³¨å†Œä¹Ÿæµ‹è¯•ä¸€ä¸‹æ˜¯å¦èƒ½æ³¨å†ŒæˆåŠŸ</p>
<p><img src="/posts/78e35d03/image-20220205173334284.png" alt="æ³¨å†Œæµ‹è¯•"></p>
<h3 id="å®Œå–„é¦–é¡µæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯åŠŸèƒ½"><a href="#å®Œå–„é¦–é¡µæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯åŠŸèƒ½" class="headerlink" title="å®Œå–„é¦–é¡µæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯åŠŸèƒ½"></a>å®Œå–„é¦–é¡µæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯åŠŸèƒ½</h3><p>è¿™ä¸ªåŠŸèƒ½ä¸»è¦å°±æ˜¯æŠŠç™»å½•æˆåŠŸæ—¶å­˜å‚¨åˆ° sessionStorage ä¸­çš„ç”¨æˆ·ä¿¡æ¯å–å‡ºæ¥ï¼Œå†æ˜¾ç¤ºåˆ°é¦–é¡µé¡µé¢ä¸Šã€‚ä¸»è¦å°±æ˜¯å›¾ä¸­ç»¿æ¡†éƒ¨åˆ†å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<p><img src="/posts/78e35d03/image-20220205173856007.png" alt="é¦–é¡µä»£ç å·®å¼‚"></p>
<p><strong>å®Œå–„åçš„é¦–é¡µ<code>src/views/home/Home.vue</code>ä»£ç ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h2&gt;æ¬¢è¿&#123;&#123; user.uname &#125;&#125;ï¼æ‚¨çš„ uid ä¸º&#123;&#123; user.uid &#125;&#125;&lt;&#x2F;h2&gt;</span><br><span class="line">    &lt;el-button @click&#x3D;&quot;logout&quot;&gt; ç™»å‡º &lt;&#x2F;el-button&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      user: &#123;</span><br><span class="line">        uname: &quot;&quot;,</span><br><span class="line">        uid: null,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    logout()&#123;</span><br><span class="line">      &#x2F;&#x2F; ç§»é™¤æœ¬åœ°ç”¨æˆ·ç™»å½•ä¿¡æ¯</span><br><span class="line">      sessionStorage.removeItem(&#39;userInfo&#39;);</span><br><span class="line">      &#x2F;&#x2F; è·³è½¬é¡µé¢åˆ°ç™»å½•é¡µ</span><br><span class="line">      this.$router.push(&#39;&#x2F;login&#39;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    if (sessionStorage.getItem(&#39;userInfo&#39;)) &#123;</span><br><span class="line">      &#x2F;&#x2F; å°†ç”¨æˆ·ä¿¡æ¯å­˜å‚¨åˆ°sessionStorageä¸­</span><br><span class="line">      this.user &#x3D; JSON.parse(sessionStorage.getItem(&#39;userInfo&#39;));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•é¦–é¡µåŠŸèƒ½</p>
<p><img src="/posts/78e35d03/image-20220205174250415.png" alt="æµ‹è¯•é¦–é¡µåŠŸèƒ½"></p>
<p>åˆ°è¿™ï¼Œæ•´ä¸ªé¡¹ç›®çœ‹èµ·æ¥éƒ½å®Œå·¥äº†ï¼Œå¯ä»¥æ³¨å†Œã€ç™»å½•ï¼Œç™»å½•å®Œèƒ½è·³è½¬åˆ°é¦–é¡µï¼Œé¦–é¡µä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚ä½†å…¶å®è¿˜æœ‰ä¸ªéšè—çš„é—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰ç™»å½•ï¼Œç›´æ¥åœ¨æµè§ˆå™¨çš„åœ°å€æ ä¸­è¾“å…¥<code>localhost:8080/home</code>ï¼Œå›è½¦åæˆ‘ä»¬ä¼šå‘ç°æˆ‘ä»¬èƒ½ç›´æ¥è¿›å…¥åˆ°é¦–é¡µä¸­ï¼Œè€Œä¸”é¦–é¡µæ²¡æ³•æ­£å¸¸æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯ã€‚è¿™ä¹Ÿæ­£å¸¸ï¼Œæ²¡æœ‰ç™»å½•ä¸ºå•¥ä¼šæœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œä½†æŒ‰é“ç†æ²¡æœ‰ç™»å½•æˆ‘ä»¬ä¸åº”è¯¥è®©ç”¨æˆ·å¯ä»¥è¿›å…¥åˆ°é¦–é¡µæ‰å¯¹ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªæ–°çš„æ¦‚å¿µï¼Œå°±æ˜¯<strong>å¯¼èˆªå®ˆå«</strong>ï¼Œå…·ä½“çš„æˆ‘ä»¬åœ¨ä¸‹é¢è¯¦ç»†ä»‹ç»ã€‚</p>
<h3 id="é…ç½®å¯¼èˆªå®ˆå«"><a href="#é…ç½®å¯¼èˆªå®ˆå«" class="headerlink" title="é…ç½®å¯¼èˆªå®ˆå«"></a>é…ç½®å¯¼èˆªå®ˆå«</h3><blockquote>
<p>å¯¼èˆªå®ˆå«ï¼Œæ­£å¦‚å…¶åï¼Œå®ƒæ˜¯ç”± <strong>vue-router</strong> æ’ä»¶æä¾›çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨è·¯ç”±å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä¹Ÿå°±æ˜¯åœ°å€æ ä¸­çš„åœ°å€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯¼èˆªå®ˆå«ä¼šæŠŠé¡µé¢çš„â€œè·³è½¬â€æ‹¦æˆªä¸‹æ¥ï¼Œå¹¶åšä¸€äº›å¤„ç†ã€‚åœ¨æˆ‘ä»¬åˆšåˆšè¯´åˆ°çš„æ²¡æœ‰ç™»å½•ä¹Ÿèƒ½è¿›å…¥é¦–é¡µçš„é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬å°±èƒ½åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨ç”¨æˆ·æƒ³ç›´æ¥é€šè¿‡æµè§ˆå™¨åœ°å€æ è¿›å…¥é¦–é¡µæ—¶ï¼Œè¿›è¡Œæ‹¦æˆªï¼Œåˆ¤æ–­è¿™ä¸ªç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•äº†ï¼Œå¦‚æœç™»å½•çš„äº†çš„è¯ sessionStorage ä¸­åº”è¯¥ä¼šå­˜æœ‰ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¦‚æœæ‰¾ä¸åˆ°ç”¨æˆ·çš„ç™»å½•ä¿¡æ¯ï¼Œé‚£å°±æŠŠç”¨æˆ·å¼ºåˆ¶å¯¼èˆªåˆ°ç™»å½•é¡µé¢ï¼Œä¹Ÿå°±å®ˆå«ä½äº†è¿›å…¥é¦–é¡µçš„è¿™ä¸ªå¯¼èˆªã€‚</p>
</blockquote>
<p>å®˜æ–¹ä»‹ç»ï¼š<a href="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB">å¯¼èˆªå®ˆå« | Vue Router (vuejs.org)</a></p>
<p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯<strong>å…¨å±€å‰ç½®å®ˆå«</strong>ä¹Ÿå°±æ˜¯åœ¨é¡µé¢â€œè·³è½¬â€å‰è¿›è¡Œæ‹¦æˆª</p>
<p>å®ç°å¯¼èˆªå®ˆå«çš„åŠŸèƒ½åªéœ€è¦åœ¨<code>src/router/index.js</code>è·¯ç”±é…ç½®ä¸­æ·»åŠ ä¸€ä¸ªå…¨å±€å‰ç½®å®ˆå«çš„æ–¹æ³•å°±è¡Œäº†ï¼Œå…·ä½“è§å›¾çº¢æ¡†éƒ¨åˆ†</p>
<p><img src="/posts/78e35d03/image-20220205180346293.png" alt="æ·»åŠ å…¨å±€å‰ç½®å®ˆå«"></p>
<p>ä¿®æ”¹åçš„<code>src/router/index.js</code>ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­¤æ–‡ä»¶ä¸“é—¨è´Ÿè´£é¡¹ç›®çš„è·¯ç”±</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> Login <span class="keyword">from</span> <span class="string">&#x27;../views/login/Login&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Register <span class="keyword">from</span> <span class="string">&#x27;../views/register/Register&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">&#x27;../views/home/Home&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Message &#125; <span class="keyword">from</span> <span class="string">&quot;element-ui&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¹¶æš´éœ²ä¸€ä¸ªè·¯ç”±å™¨</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    mode: <span class="string">&#x27;history&#x27;</span>,    <span class="comment">// è·¯ç”±æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸ä¼šåœ¨åœ°å€ä¸­æ˜¾ç¤ºäº•å·#</span></span><br><span class="line">    routes: [</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/&#x27;</span>,          <span class="comment">// è·¯å¾„</span></span><br><span class="line">            redirect: <span class="string">&#x27;/login&#x27;</span>  <span class="comment">// é‡å®šå‘</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/login&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Login    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/register&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Register    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: <span class="string">&#x27;/home&#x27;</span>,     <span class="comment">// è·¯å¾„</span></span><br><span class="line">            component: Home    <span class="comment">// è·³è½¬åˆ°çš„ç»„ä»¶</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼èˆªå®ˆå«ï¼Œå‰ç½®å¤„ç†</span></span><br><span class="line">router.beforeEach(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> isAuthenticated = !!sessionStorage.getItem(<span class="string">&#x27;userInfo&#x27;</span>)</span><br><span class="line">    <span class="comment">// å¦‚æœè·¯ç”±è¦è·³è½¬åˆ°é™¤äº†ç™»å½•å’Œæ³¨å†Œçš„ç•Œé¢çš„è¯å°±åˆ¤æ–­æ˜¯å¦å·²ç»ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰ç™»å½•å°±å¼ºåˆ¶è·³åˆ°ç™»å½•ç•Œé¢</span></span><br><span class="line">    <span class="keyword">if</span> (to.path !== <span class="string">&#x27;/login&#x27;</span> &amp;&amp; to.path !== <span class="string">&#x27;/register&#x27;</span> &amp;&amp; !isAuthenticated) &#123;</span><br><span class="line">        next(&#123; <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span> &#125;)</span><br><span class="line">        Message(&#123;</span><br><span class="line">            message: <span class="string">&#x27;è¯·å…ˆç™»å½•ï¼&#x27;</span>,</span><br><span class="line">            type: <span class="string">&quot;warning&quot;</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<p>å†™å®Œåå¯ä»¥æµ‹è¯•ä¸€ä¸‹ä¸ç™»å½•ç›´æ¥åœ¨åœ°å€æ ä¸­è¾“å…¥<code>http://localhost:8080/home</code>èƒ½ä¸èƒ½è¢«æ‹¦æˆªå†è·³å›ç™»å½•é¡µé¢</p>
<p>å¦‚æœæ‰€æœ‰åŠŸèƒ½æµ‹è¯•éƒ½æ­£å¸¸çš„è¯ï¼Œé‚£å°±èŠœæ¹–~èµ·é£äº†å“ˆå“ˆå“ˆ</p>
<p>éå¸¸æ„Ÿè°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œï¼Œå¸Œæœ›æœ¬æ–‡å¯¹ä½ èƒ½æœ‰æ‰€å¸®åŠ©~</p>
<p>æ•™ç¨‹ä¸­å¯èƒ½æœ‰å¾ˆå¤šä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹é€šè¿‡è¯„è®ºï¼Œæˆ‘ä¸€å®šä¼šåŠæ—¶å›å¤çš„ã€‚</p>
<h2 id="é¡¹ç›®æºä»£ç "><a href="#é¡¹ç›®æºä»£ç " class="headerlink" title="é¡¹ç›®æºä»£ç "></a>é¡¹ç›®æºä»£ç </h2><ul>
<li>Vue å‰ç«¯ï¼š<a href="https://github.com/MakerHu/vue-login-demo">MakerHu/vue-login-demo (github.com)</a></li>
<li>SpringBoot åç«¯ï¼š<a href="https://github.com/MakerHu/springboot-login-demo">MakerHu/springboot-login-demo (github.com)</a></li>
</ul>
<h2 id="ç›¸å…³æ¨è"><a href="#ç›¸å…³æ¨è" class="headerlink" title="ç›¸å…³æ¨è"></a>ç›¸å…³æ¨è</h2><ul>
<li>åç«¯æ•™ç¨‹ï¼š<a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | MakerHu çš„åšå®¢</a></li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>é‡ç”Ÿæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>å‰åç«¯åˆ†ç¦»</tag>
        <tag>SpringBoot</tag>
        <tag>Vue+SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoä½¿ç”¨æ‰‹å†Œ</title>
    <url>/posts/6600e9a1/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ•™ç¨‹æ•´ç†äº†hexoå†™åšå®¢çš„ä¸€äº›å¸¸ç”¨å‘½ä»¤ä»¥åŠå¸¸ç”¨æ–¹æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œä¸å®šæœŸæ›´æ–°</p>
</blockquote>
<span id="more"></span>

<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><ul>
<li><p>æ¸…ç†æ•°æ®<br><code>hexo clean</code></p>
</li>
<li><p>æ–°å»ºåšå®¢<br><code>hexo new &quot;My New Post&quot;</code></p>
</li>
<li><p>å¯åŠ¨æœåŠ¡<br><code>hexo server</code> æˆ– <code>hexo s</code></p>
</li>
<li><p>ç”Ÿæˆé™æ€æ–‡ä»¶<br><code>hexo generate</code> æˆ–  <code>hexo g</code></p>
</li>
<li><p>éƒ¨ç½²åˆ°è¿œç«¯<br><code>hexo deploy</code> æˆ– <code>hexo d</code></p>
</li>
<li><p>åˆ›å»ºæ–°çš„é¡µé¢<br><code>hexo new page &quot;pagename&quot;</code></p>
</li>
<li><p>æ—¥å¸¸å¤‡ä»½åŠéƒ¨ç½²è¿‡ç¨‹</p>
<p>å†™å®Œåšå®¢åé¦–å…ˆæ˜¯åœ¨æœ¬åœ°æ£€æŸ¥åšå®¢æ•ˆæœ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p>è®¿é—® <a href="http://localhost:4000/">http://localhost:4000</a> æŸ¥çœ‹æ•ˆæœ<br>ç¡®è®¤æ— è¯¯åï¼Œå†æ¬¡æ¸…ç©ºã€å¤‡ä»½å†ç¼–è¯‘éƒ¨ç½²</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Backup&quot;</span></span><br><span class="line">git push -u origin main</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="å†™æ–‡ç« "><a href="#å†™æ–‡ç« " class="headerlink" title="å†™æ–‡ç« "></a>å†™æ–‡ç« </h2><h3 id="æ–‡ç« é…ç½®"><a href="#æ–‡ç« é…ç½®" class="headerlink" title="æ–‡ç« é…ç½®"></a>æ–‡ç« é…ç½®</h3><p>åœ¨markdownæ–‡ç« çš„å¤´éƒ¨å¯é…ç½®ä»¥ä¸‹å±æ€§</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: é¦–é¡µæ–‡ç« æ˜¾ç¤ºçš„æ ‡é¢˜</span><br><span class="line">date: åˆ›å»ºæ—¶é—´</span><br><span class="line">updated: æ›´æ–°æ—¶é—´</span><br><span class="line">comments: true/false (æ˜¯å¦å¼€å¯è¯„è®º)</span><br><span class="line">tags: æ ‡ç­¾ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰æ— å±‚çº§å…³ç³»ï¼Œå„æ ‡ç­¾å¹¶åˆ—</span><br><span class="line"><span class="bullet">-</span> æ ‡ç­¾ä¸€</span><br><span class="line"><span class="bullet">-</span> æ ‡ç­¾äºŒ</span><br><span class="line">categories: åˆ†ç±»ï¼ˆä¸é€‚ç”¨äºåˆ†é¡µï¼‰æœ‰å±‚çº§å…³ç³»ï¼Œä¸‹è¿°ä¾‹å­è¡¨ç¤ºæœ¬æ–‡ç« å½’ç±»äºå­¦ä¹ å¤§ç±»ä¸‹çš„å¾®ç§¯åˆ†ä¸‹çš„ç¬¬äºŒç« </span><br><span class="line"><span class="bullet">-</span> å­¦ä¹ </span><br><span class="line"><span class="bullet">-</span> å¾®ç§¯åˆ†</span><br><span class="line"><span class="bullet">-</span> ç¬¬äºŒç« </span><br><span class="line">---</span><br></pre></td></tr></table></figure>



<h3 id="é¦–é¡µæ˜¾ç¤ºæ–‡ç« æ‘˜è¦"><a href="#é¦–é¡µæ˜¾ç¤ºæ–‡ç« æ‘˜è¦" class="headerlink" title="é¦–é¡µæ˜¾ç¤ºæ–‡ç« æ‘˜è¦"></a>é¦–é¡µæ˜¾ç¤ºæ–‡ç« æ‘˜è¦</h3><ul>
<li>æ–¹æ³•1ï¼šä½¿ç”¨<code>&lt;!-- more --&gt;</code>å¯¹æ–‡ç« è¿›è¡Œæˆªæ–­ï¼Œåœ¨è¿™ä¹‹å‰çš„å†…å®¹ä¼šæ”¾åˆ°æ‘˜è¦é‡Œ</li>
<li>æ–¹æ³•2ï¼šåœ¨markdownæ–‡ç« çš„é¡¶éƒ¨åŠ ä¸Š<code>description</code>å…³é”®å­—<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: </span><br><span class="line">categories: </span><br><span class="line">tags: </span><br><span class="line">description: ä½ å¯¹æ–‡ç« çš„æ•´ä½“ä»‹ç»ç­‰</span><br><span class="line">---</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ç•Œé¢ä¿®æ”¹"><a href="#ç•Œé¢ä¿®æ”¹" class="headerlink" title="ç•Œé¢ä¿®æ”¹"></a>ç•Œé¢ä¿®æ”¹</h2><h3 id="é…ç½®åšæ–‡é˜…è¯»ç›®å½•"><a href="#é…ç½®åšæ–‡é˜…è¯»ç›®å½•" class="headerlink" title="é…ç½®åšæ–‡é˜…è¯»ç›®å½•"></a>é…ç½®åšæ–‡é˜…è¯»ç›®å½•</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true</span><br><span class="line">  # å¦‚æœä¸ºtrueåˆ™è‡ªåŠ¨æ·»åŠ åºå·åˆ°ç›®å½•ä¸­</span><br><span class="line">  number: true</span><br><span class="line">  # å¦‚æœä¸ºtrueç›®å½•è¿‡é•¿éƒ¨åˆ†ä¼šæ¢è¡Œæ˜¾ç¤º</span><br><span class="line">  wrap: true</span><br><span class="line">  # å¦‚æœä¸ºtrueç›®å½•ä¼šä¿æŒå…¨å±•å¼€ï¼Œè€Œä¸æ˜¯åªå±•å¼€æ¿€æ´»éƒ¨åˆ†</span><br><span class="line">  expand_all: true</span><br><span class="line">  # ç›®å½•çš„æœ€å¤§å±‚çº§æ•°</span><br><span class="line">  max_depth: 6</span><br></pre></td></tr></table></figure>

<h2 id="hexoå¤‡ä»½ä¸æ¢å¤"><a href="#hexoå¤‡ä»½ä¸æ¢å¤" class="headerlink" title="hexoå¤‡ä»½ä¸æ¢å¤"></a>hexoå¤‡ä»½ä¸æ¢å¤</h2><p>ç”±äºhexoåœ¨å°†åšå®¢éƒ¨ç½²åˆ°è¿œç¨‹ä»“åº“æ—¶æ˜¯å°†ç¼–è¯‘åçš„æ–‡ä»¶éƒ¨ç½²ä¸Šå»çš„ï¼Œè€Œæºæ–‡ä»¶è¿˜æ˜¯ä¿ç•™åœ¨æœ¬åœ°ï¼ˆæœ€æ ¸å¿ƒçš„æ˜¯æ–‡ç« çš„.mdæ–‡ä»¶ï¼‰ï¼Œå› è€Œå¯èƒ½å­˜åœ¨æºæ–‡ä»¶ä¸¢å¤±çš„é£é™©ï¼Œå¦‚ï¼šç”µè„‘ä¸¢å¤±ï¼Œæ–‡ä»¶ä¸¢å¤±ç­‰ã€‚å› æ­¤åšå¥½æºæ–‡ä»¶çš„å¤‡ä»½æ˜¯ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ï¼Œå¦‚æœå°†æºæ–‡ä»¶å¤‡ä»½åˆ°githubï¼Œè¿˜æœ‰åˆ©äºæˆ‘ä»¬åœ¨å…¶ä»–ç”µè„‘ä¸­æ¢å¤å¯¹åšå®¢çš„ç®¡ç†ã€‚</p>
<h3 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h3><h4 id="åœ¨GitHubä¸­åˆ›å»ºä»“åº“"><a href="#åœ¨GitHubä¸­åˆ›å»ºä»“åº“" class="headerlink" title="åœ¨GitHubä¸­åˆ›å»ºä»“åº“"></a>åœ¨GitHubä¸­åˆ›å»ºä»“åº“</h4><p><img src="/posts/6600e9a1/20210507111530.png"></p>
<img src="/posts/6600e9a1/20210507111923.png" style="zoom: 67%;">

<h4 id="å°†æœ¬åœ°çš„åšå®¢æºæ–‡ä»¶ä¸Šä¼ åˆ°GitHub"><a href="#å°†æœ¬åœ°çš„åšå®¢æºæ–‡ä»¶ä¸Šä¼ åˆ°GitHub" class="headerlink" title="å°†æœ¬åœ°çš„åšå®¢æºæ–‡ä»¶ä¸Šä¼ åˆ°GitHub"></a>å°†æœ¬åœ°çš„åšå®¢æºæ–‡ä»¶ä¸Šä¼ åˆ°GitHub</h4><p><strong>æ³¨æ„ï¼šåœ¨æ‰§è¡Œä¸‹åˆ—å‘½ä»¤å‰å…ˆå°†ä½ åšå®¢æ ¹ç›®å½•ä¸‹themes/&lt;ä¸»é¢˜å&gt;/ä¸‹çš„.gitignoreæ–‡ä»¶åˆ äº†ï¼</strong><br>åŸå› æ˜¯gitæ–‡ä»¶ä¸èƒ½åµŒå¥—ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼ˆå¿˜åˆ å¯¼è‡´æŠ¥é”™è§£å†³æ–¹æ¡ˆï¼š<a href="#%E4%B8%BB%E9%A2%98%E4%B8%AD%E7%9A%84.git%E6%96%87%E4%BB%B6%E6%9C%AA%E5%88%A0%E5%B0%B1%E4%B8%8A%E4%BC%A0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93">ä¸»é¢˜ä¸­çš„.gitæ–‡ä»¶æœªåˆ å°±ä¸Šä¼ è¿œç¨‹ä»“åº“</a>ï¼‰</p>
<p>åœ¨ä½ çš„åšå®¢æºæ–‡ä»¶æ ¹ç›®å½•ä¸‹git bash</p>
<img src="/posts/6600e9a1/20210507113349.png" style="zoom:80%;">

<p>åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;# MyHexoBlogBackup&quot;</span> &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m <span class="string">&quot;first commit&quot;</span></span><br><span class="line">git branch -M main</span><br><span class="line">git remote add origin https://github.com/yourname/MyBlogBackup.git</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>

<p>è‹¥å‡ºç°æŠ¥é”™</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/yourname/MyBlogBackup.git/&#x27;</span>: Failed to connect to github.com port 443: Timed out</span><br></pre></td></tr></table></figure>
<p>è¯·è§è§£å†³æ–¹æ¡ˆï¼š<a href="#git%E6%8A%A5%E9%94%99Failed-to-connect-to-github">gitæŠ¥é”™Failed to connect to github</a></p>
<h3 id="æ¢å¤"><a href="#æ¢å¤" class="headerlink" title="æ¢å¤"></a>æ¢å¤</h3><p>é»˜è®¤å‰æï¼šç”µè„‘ä¸­å·²å®‰è£…git ã€nodejsã€hexo</p>
<h4 id="å…‹éš†åšå®¢æºæ–‡ä»¶"><a href="#å…‹éš†åšå®¢æºæ–‡ä»¶" class="headerlink" title="å…‹éš†åšå®¢æºæ–‡ä»¶"></a>å…‹éš†åšå®¢æºæ–‡ä»¶</h4><p>å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°<br><code>git clone https://github.com/yourname/MyBlogBackup.git</code></p>
<p>è‹¥è¿˜æ˜¯å‡ºç°æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/yourname/MyBlogBackup.git/&#x27;</span>: Failed to connect to github.com port 443: Timed out</span><br></pre></td></tr></table></figure>
<p>è¯·è§è§£å†³æ–¹æ¡ˆ<a href="#git%E6%8A%A5%E9%94%99Failed-to-connect-to-github">gitæŠ¥é”™Failed to connect to github</a></p>
<h4 id="æ¢å¤åšå®¢"><a href="#æ¢å¤åšå®¢" class="headerlink" title="æ¢å¤åšå®¢"></a>æ¢å¤åšå®¢</h4><p>è¿›å…¥åˆ°åšå®¢æºæ–‡ä»¶çš„æ ¹ç›®å½•ä¸‹git bashæˆ–cmd</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli</span><br><span class="line">npm install <span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line">npm install hexo-deployer-git</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç†Ÿæ‚‰çš„å‘½ä»¤äº†</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<h4 id="æ—¥å¸¸çš„å¤‡ä»½è¿‡ç¨‹"><a href="#æ—¥å¸¸çš„å¤‡ä»½è¿‡ç¨‹" class="headerlink" title="æ—¥å¸¸çš„å¤‡ä»½è¿‡ç¨‹"></a>æ—¥å¸¸çš„å¤‡ä»½è¿‡ç¨‹</h4><p>å†™å®Œåšå®¢åé¦–å…ˆæ˜¯åœ¨æœ¬åœ°æ£€æŸ¥åšå®¢æ•ˆæœ</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>è®¿é—® <a href="http://localhost:4000/">http://localhost:4000</a> æŸ¥çœ‹æ•ˆæœ<br>ç¡®è®¤æ— è¯¯åï¼Œå†æ¬¡æ¸…ç©ºã€å¤‡ä»½å†ç¼–è¯‘éƒ¨ç½²</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;Backup&quot;</span></span><br><span class="line">git push -u origin main</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>

<h2 id="åšå®¢é“¾æ¥æ°¸ä¹…åŒ–"><a href="#åšå®¢é“¾æ¥æ°¸ä¹…åŒ–" class="headerlink" title="åšå®¢é“¾æ¥æ°¸ä¹…åŒ–"></a>åšå®¢é“¾æ¥æ°¸ä¹…åŒ–</h2><p>hexoçš„é»˜è®¤æ°¸ä¹…é“¾æ¥æ˜¯åœ¨ _config.yml é‡Œé…ç½®çš„ï¼Œå…¶ç”Ÿæˆè§„åˆ™æ˜¯<br><code>permalink: :year/:month/:day/:title/</code><br>æ•ˆæœæ˜¯<code>https://makerhu.github.io/2021/05/05/hexoä½¿ç”¨æ‰‹å†Œ/</code></p>
<p>è¿™ç§æ–¹å¼æœ‰ä¸¤ä¸ªå¾ˆå¤§çš„<strong>ç¼ºç‚¹</strong>ï¼š</p>
<ul>
<li><p>ä¸€æ˜¯è·¯å¾„ä¸­å¸¦ä¸­æ–‡åï¼Œå¤åˆ¶åˆ†äº«é“¾æ¥æ—¶ä¼šè½¬æ¢æˆå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œä¸åˆ©äºåˆ†äº«ï¼Œä»¥å‰é¢å±•ç¤ºçš„æ•ˆæœé“¾æ¥ä¸ºä¾‹ï¼Œå¤åˆ¶é“¾æ¥åçš„æ•ˆæœæ˜¯<br><code>https://makerhu.github.io/2021/05/05/hexo%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/</code><br>vs<br><code>https://makerhu.github.io/2021/05/05/hexoä½¿ç”¨æ‰‹å†Œ/</code></p>
</li>
<li><p>äºŒæ˜¯ä¿®æ”¹åšå®¢çš„æ–‡ä»¶åæ—¶æ–‡ç« çš„urlä¹Ÿä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿™æ ·å¦‚æœæœ‰äººæ”¶è—äº†ä½ çš„æ–‡ç« åœ°å€ï¼Œä½ æ”¹äº†æ–‡ç« åç§°åä»–/å¥¹å°±è®¿é—®ä¸äº†äº†</p>
</li>
</ul>
<p>å› æ­¤ï¼Œåšå®¢é“¾æ¥æ°¸ä¹…åŒ–æœ‰ç€é‡è¦çš„æ„ä¹‰<br><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨hexo-abbrlink æ’ä»¶</p>
<ul>
<li>å®‰è£…<br><code>npm install hexo-abbrlink --save</code></li>
<li>é…ç½®<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯é€‰ permalink: abbrlink çŸ­é“¾æ¥æ¨¡å¼</span></span><br><span class="line"><span class="comment"># permalink: posts/:abbrlink.html</span></span><br><span class="line"><span class="comment"># permalink: posts/:abbrlink/</span></span><br><span class="line">permalink: :abbrlink/ <span class="comment">#æ–‡ç« çš„æ°¸ä¹…é“¾æ¥</span></span><br><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  <span class="comment">#ç®—æ³•: crc16(default) and crc32</span></span><br><span class="line">  rep: hex    <span class="comment">#è¿›åˆ¶: dec(default) and hex</span></span><br></pre></td></tr></table></figure></li>
<li>hexoå‘½ä»¤ä¸€æ¡é¾™<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s	<span class="comment"># æ£€æŸ¥æ•ˆæœæ­£å¸¸åå³å¯éƒ¨ç½²</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li>
</ul>
<p>é…ç½®å®Œæˆååšå®¢çš„markdownæ–‡ä»¶é¡¶éƒ¨çš„Front-matterä¸­ä¼šæ·»åŠ ä¸€ä¸ªå±æ€§<code>abbrlink:</code>åé¢è·Ÿç€çš„å°±æ˜¯å›ºå®šçš„é“¾æ¥åœ°å€</p>
<h2 id="è¸©å‘è®°å½•"><a href="#è¸©å‘è®°å½•" class="headerlink" title="è¸©å‘è®°å½•"></a>è¸©å‘è®°å½•</h2><h3 id="æ— æ³•å°†é¡¹ç›®éƒ¨ç½²åˆ°è¿œç«¯"><a href="#æ— æ³•å°†é¡¹ç›®éƒ¨ç½²åˆ°è¿œç«¯" class="headerlink" title="æ— æ³•å°†é¡¹ç›®éƒ¨ç½²åˆ°è¿œç«¯"></a>æ— æ³•å°†é¡¹ç›®éƒ¨ç½²åˆ°è¿œç«¯</h3><ol>
<li>é—®é¢˜æè¿°<br><code>hexo d</code> æ—¶ç»å¸¸æŠ¥é”™ï¼Œè¦è¯•å¥½å‡ æ¬¡æ‰èƒ½æˆåŠŸ<br>æŠ¥é”™ï¼š<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo d</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">INFO  Copying files from extend dirs...</span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line">fatal: unable to access &#39;https:&#x2F;&#x2F;github.com&#x2F;MakerHu&#x2F;makerhu.github.io.git&#x2F;&#39;: Failed to connect to github.com port 443: Timed out</span><br><span class="line">FATAL &#123;</span><br><span class="line">  err: Error: Spawn failed</span><br><span class="line">      at ChildProcess.&lt;anonymous&gt; (E:\study\self_study\myblog\node_modules\_hexo-util@2.4.0@hexo-util\lib\spawn.js:51:21)</span><br><span class="line">      at ChildProcess.emit (events.js:315:20)</span><br><span class="line">      at ChildProcess.cp.emit (E:\study\self_study\myblog\node_modules\_cross-spawn@7.0.3@cross-spawn\lib\enoent.js:34:29)</span><br><span class="line">      at Process.ChildProcess._handle.onexit (internal&#x2F;child_process.js:277:12) &#123;</span><br><span class="line">    code: 128</span><br><span class="line">  &#125;</span><br><span class="line">&#125; Something&#39;s wrong. Maybe you can find the solution here: %s https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;troubleshooting.html</span><br></pre></td></tr></table></figure></li>
<li>è§£å†³æ–¹æ¡ˆ<ul>
<li>å–æ¶ˆgitä»£ç†<br><code>git config --global --unset http.proxy</code></li>
<li>hostæ–‡ä»¶æ·»åŠ æœ€æ–°çš„githubçš„IPåˆ—è¡¨<br>ipåˆ—è¡¨å¯åˆ°è¿™ä¸ªåšæ–‡è·å– <a href="http://blog.yoqi.me/lyq/16489.html">githubè¢«å¢™æœ€æ–°hosts-æ¯æ—¥æ›´æ–° | å¤©é—®åšå®¢ (yoqi.me)</a></li>
</ul>
</li>
</ol>
<h3 id="gitæŠ¥é”™Failed-to-connect-to-github"><a href="#gitæŠ¥é”™Failed-to-connect-to-github" class="headerlink" title="gitæŠ¥é”™Failed to connect to github"></a>gitæŠ¥é”™Failed to connect to github</h3><ol>
<li><p>æŠ¥é”™ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">fatal: unable to access <span class="string">&#x27;https://github.com/yourname/MyBlogBackup.git/&#x27;</span>: Failed to connect to github.com port 443: Timed out</span><br></pre></td></tr></table></figure></li>
<li><p>è§£å†³æ–¹æ¡ˆ<br>æ–¹æ³•1ï¼š</p>
<ul>
<li>æŸ¥çœ‹gité…ç½®<br><code>git config --global -l</code></li>
<li>æ£€æŸ¥ç¯å¢ƒå˜é‡<br><code>env|grep -i proxy</code></li>
</ul>
<p>æ–¹æ³•2ï¼š</p>
<ul>
<li>åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global https.proxy http://127.0.0.1:1080</span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>
<h3 id="ä¸»é¢˜ä¸­çš„-gitæ–‡ä»¶æœªåˆ å°±ä¸Šä¼ è¿œç¨‹ä»“åº“"><a href="#ä¸»é¢˜ä¸­çš„-gitæ–‡ä»¶æœªåˆ å°±ä¸Šä¼ è¿œç¨‹ä»“åº“" class="headerlink" title="ä¸»é¢˜ä¸­çš„.gitæ–‡ä»¶æœªåˆ å°±ä¸Šä¼ è¿œç¨‹ä»“åº“"></a>ä¸»é¢˜ä¸­çš„.gitæ–‡ä»¶æœªåˆ å°±ä¸Šä¼ è¿œç¨‹ä»“åº“</h3><p>ç”±äº.gitæ–‡ä»¶ä¸èƒ½åµŒå¥—ï¼Œå› æ­¤éœ€è¦åˆ é™¤themes/&lt;ä¸»é¢˜å&gt;/ä¸‹çš„.gitæ–‡ä»¶æ‰èƒ½ä¸Šä¼ </p>
<ul>
<li>åˆ é™¤themes/&lt;ä¸»é¢˜å&gt;/ä¸‹çš„.gitæ–‡ä»¶</li>
<li>ä»æš‚å­˜åŒºåˆ é™¤è¯¥æ–‡ä»¶å¤¹<br><code>git rm --cache themes/next</code></li>
<li>é‡æ–°æ·»åŠ åˆ°gitä¸­<br><code>git add .</code></li>
</ul>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><a href="https://hexo.io/zh-cn/docs/">æ–‡æ¡£ | Hexo</a></li>
<li><a href="http://blog.yoqi.me/lyq/16489.html">githubè¢«å¢™æœ€æ–°hosts-æ¯æ—¥æ›´æ–° | å¤©é—®åšå®¢ (yoqi.me)</a></li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>é‡ç”Ÿæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>åšå®¢</tag>
        <tag>hexoå¤‡ä»½</tag>
        <tag>hexoæ¢å¤</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»£ç†æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç†</title>
    <url>/posts/39d16fd4/</url>
    <content><![CDATA[<blockquote>
<p>ä»£ç†æ¨¡å¼ç®€å•æ¥è¯´å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ A ä»£æ›¿å¦ä¸€ä¸ªå¯¹è±¡ B å»å®Œæˆå¯¹è±¡ B æœ¬è¯¥è‡ªå·±åšçš„äº‹ï¼Œåœ¨ä»£ç†çš„è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡ A å¯ä»¥å¯¹è¢«ä»£ç†çš„äº‹æƒ…è¿›è¡Œ<strong>åŠ å¼º</strong>ã€‚é™æ€ä»£ç†ä¸åŠ¨æ€ä»£ç†çš„æœ€å¤§åŒºåˆ«æ˜¯é™æ€ä»£ç†æ˜¯ç¨‹åºå‘˜åœ¨ä»£ç ä¸­å®ç°äº†ä»£ç†ç±»ï¼Œè€ŒåŠ¨æ€ä»£ç†åˆ™æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åœ°ç”Ÿæˆä»£ç†ç±»ã€‚</p>
</blockquote>
<span id="more"></span>

<p>åœ¨çœ‹åŠ¨æ€ä»£ç†ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦ç†è§£ä»€ä¹ˆæ˜¯é™æ€ä»£ç†ï¼Œå¦‚æœè¿˜ä¸æ˜ç™½ä»€ä¹ˆæ˜¯é™æ€ä»£ç†å¯ä»¥å…ˆå»çœ‹çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« <a href="https://www.makerhu.com/posts/3c271a1b/">ä»£ç†æ¨¡å¼ä¹‹é™æ€ä»£ç†</a></p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>å‡è®¾æˆ‘ä»¬å·²ç»å®ç°äº†ä¸€ä¸ªé¡¹ç›®çš„å¾ˆå¤šä¸šåŠ¡é€»è¾‘ä»£ç ï¼Œç°åœ¨å®¢æˆ·è¦æ±‚æˆ‘ä»¬åœ¨æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œå‰åéƒ½æ·»åŠ æ—¥å¿—è®°å½•ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<ul>
<li><input disabled type="checkbox"> åœ¨æ¯ä¸ªä¸šåŠ¡é€»è¾‘å®ç°çš„æ–¹æ³•å‰åæ·»åŠ æ—¥å¿—ä»£ç â€”â€”å¤ªéº»çƒ¦ä¸”ä¼šä¿®æ”¹æºä»£ç ï¼Œä¸ç¬¦åˆå¼€é—­åŸåˆ™</li>
<li><input disabled type="checkbox"> ä½¿ç”¨é™æ€ä»£ç†â€”â€”åœ¨å®ç°ä»£ç†ç±»æ—¶éœ€è¦å®ç°æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­éƒ½æ·»åŠ æ—¥å¿—ï¼ŒåŒæ ·å¾ˆéº»çƒ¦ï¼Œä¼˜ç‚¹æ˜¯ä¸ç”¨ä¿®æ”¹æºä»£ç </li>
<li><input checked disabled type="checkbox"> ä½¿ç”¨åŠ¨æ€ä»£ç†â€”â€”åœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨å®ç°ä»£ç†ç±»</li>
</ul>
<p>é‚£ä¹ˆåŠ¨æ€ä»£ç†æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p>
<h2 id="ä¸‰ä¸ªè§’è‰²"><a href="#ä¸‰ä¸ªè§’è‰²" class="headerlink" title="ä¸‰ä¸ªè§’è‰²"></a>ä¸‰ä¸ªè§’è‰²</h2><ul>
<li><strong>ä»£ç†æ¥å£ï¼š</strong> è¦è¢«ä»£ç†çš„è¡Œä¸ºåœ¨è¿™ä¸ªæ¥å£ä¸­è¢«å£°æ˜ï¼Œå§”æ‰˜ç±»ä¸ä»£ç†ç±»éƒ½å®ç°äº†è¿™ä¸ªæ¥å£</li>
<li><strong>å§”æ‰˜ç±»ï¼š</strong> åœ¨è¿™é‡Œæ˜¯æŒ‡å®ç°ä¸šåŠ¡é€»è¾‘çš„é‚£äº›ç±»</li>
<li><strong>ä»£ç†ç±»ï¼š</strong> ä»£ç†å§”æ‰˜ç±»ï¼Œå¹¶å¯å¢å¼ºå§”æ‰˜ç±»æ–¹æ³•çš„åŠŸèƒ½ï¼Œåœ¨è¿™é‡ŒæŒ‡åœ¨æ‰§è¡Œå§”æ‰˜ç±»çš„æ–¹æ³•æ—¶ä¸ºå…¶æ·»åŠ æ—¥å¿—</li>
</ul>
<p><img src="/posts/39d16fd4/20210919170232.png" alt="å…³ç³»å›¾"></p>
<p>è¿™ä¸‰ä¸ªè§’è‰²åŠå…¶ä½œç”¨ä¸é™æ€ä»£ç†æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œå·®åˆ«å°±åœ¨äº<strong>åŠ¨æ€ä»£ç†ä¸­çš„ä»£ç†ç±»å¹¶ä¸æ˜¯ç¨‹åºå‘˜å†™å¥½åœ¨ç¨‹åºä¸­çš„è€Œæ˜¯åœ¨è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆçš„</strong>ã€‚</p>
<h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>æ˜ç™½äº†ä»£ç†æ¨¡å¼çš„ç»“æ„ä¸å…³ç³»åï¼Œæˆ‘ä»¬å°±ä¸éš¾ç†è§£åŠ¨æ€ä»£ç†å®ç°çš„æ­¥éª¤äº†ã€‚æˆ‘ä»¬çŸ¥é“åŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶æ ¹æ®ä»£ç†æ¥å£å’Œå§”æ‰˜ç±»ç”Ÿæˆä»£ç†ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆè‚¯å®šå¾—å…ˆå†™å¥½ä»£ç†æ¥å£å’Œå§”æ‰˜ç±»ï¼Œæ¥ç€æˆ‘ä»¬éœ€è¦å†å†™ä¸€ä¸ªâ€œå·¥å…·â€ï¼Œåœ¨è¿è¡Œæ—¶è¿™ä¸ªå·¥å…·èƒ½è·å–åˆ°ä»£ç†æ¥å£å’Œå§”æ‰˜ç±»çš„ä¿¡æ¯ï¼Œå¹¶æ ¹æ®è¿™äº›ä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»ï¼Œæœ€åç”¨æˆ·ä½¿ç”¨ç”Ÿæˆçš„ä»£ç†ç±»åˆ›å»ºä»£ç†å¯¹è±¡ï¼Œè¿™æ ·ç”¨æˆ·å°±èƒ½é€šè¿‡ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•äº†ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦å®ç°çš„è¿™ä¸ªâ€œå·¥å…·â€ä¸­éƒ½å¹²äº†ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><img src="/posts/39d16fd4/20210920112305.png" alt="ä¼ªä»£ç è¿‡ç¨‹"></p>
<ol>
<li><p>å®ç°ä¸€ä¸ªåä¸º InvocationHandler çš„æ¥å£çš„ç±»ï¼Œè¿™ä¸ªæ¥å£ä¸­åªæœ‰ä¸€ä¸ªæ–¹æ³•éœ€è¦å®ç°ï¼Œå«åš invokeï¼Œè€Œ invoke æ–¹æ³•å°±æ˜¯å¯¹å§”æ‰˜ç±»ä¸­æ–¹æ³•çš„ä»£ç†åŠå¢å¼º</p>
</li>
<li><p>é€šè¿‡ä»£ç†æ¥å£ç”Ÿæˆä»£ç†ç±»ï¼Œä»£ç†ç±»ä¸­åŒ…å«ä¸€ä¸ªæˆå‘˜å¯¹è±¡ï¼Œå®ƒçš„ç±»å‹æ˜¯ç¬¬1æ­¥æåˆ°çš„ InvocationHandlerã€‚ä»£ç†ç±»ä¸­çš„æ–¹æ³•æ˜¯æ ¹æ®æ¥å£ä¸­å£°æ˜çš„æ–¹æ³•ç”Ÿæˆçš„ï¼Œåœ¨æ¯ä¸ªæ–¹æ³•ä¸­éƒ½ä¼šè°ƒç”¨åˆ° ç¬¬1æ­¥ä¸­çš„æ–¹æ³• invokeã€‚ä»£ç†ç±»ä¸­è¿˜ä¼šç”Ÿæˆä¸€ä¸ªæ„é€ å™¨ï¼Œå®ƒçš„å‚æ•°ç±»å‹æ˜¯ InvocationHandlerï¼Œç”¨äºåˆå§‹åŒ–ä»£ç†ç±»ä¸­çš„é‚£ä¸ªæˆå‘˜å˜é‡ã€‚</p>
<blockquote>
<p>Each proxy instance has an associated invocation handler object, the one that was passed to its constructor.</p>
<p>â€”â€”<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html">Javaå®˜æ–¹æ–‡æ¡£</a>ä¸­å¯¹Dynamic Proxy Classesçš„æè¿°</p>
</blockquote>
</li>
<li><p>è·å–è°ƒç”¨ç¬¬2æ­¥ç”Ÿæˆçš„ä»¥ InvocationHandler ä¸ºå‚æ•°çš„ä»£ç†ç±»çš„æ„é€ å™¨</p>
</li>
<li><p>è°ƒç”¨ç¬¬3æ­¥è·å–çš„ä»£ç†ç±»çš„æ„é€ å™¨ï¼Œä¼ å…¥ç¬¬1æ­¥å®ç°çš„ InvocationHandler ä½œä¸ºå‚æ•°ï¼Œæœ€åè¿”å›å®ä¾‹åŒ–åçš„ä»£ç†å¯¹è±¡</p>
</li>
</ol>
<p><a href="https://docs.oracle.com/javase/8/docs/api/">Javaå®˜æ–¹æ–‡æ¡£</a>ä¸­ç»™äº†æˆ‘ä»¬ä¸¤ä¸ªå®ç°åŠ¨æ€ä»£ç†çš„ç¤ºä¾‹ï¼š</p>
<p>To create a proxy for some interface Foo:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">InvocationHandler handler = <span class="keyword">new</span> MyInvocationHandler(...);</span><br><span class="line">Class&lt;?&gt; proxyClass = Proxy.getProxyClass(Foo.class.getClassLoader(), Foo.class);</span><br><span class="line">Foo f = (Foo) proxyClass.getConstructor(InvocationHandler.class).newInstance(handler);</span><br></pre></td></tr></table></figure>

<p>or more simply:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Foo f = (Foo) Proxy.newProxyInstance(Foo.class.getClassLoader(),</span><br><span class="line">                                     <span class="keyword">new</span> Class&lt;?&gt;[] &#123; Foo.class &#125;,</span><br><span class="line">                                     handler);</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸¤æ®µç¤ºä¾‹ä»£ç ä¸ä¸Šé¢è¯´çš„ 4 ä¸ªæ­¥éª¤æ˜¯ä¸€æ ·çš„ï¼Œç¬¬äºŒä¸ªç¤ºä¾‹å…¶å®å°±æ˜¯å°†ç¬¬ä¸€ä¸ªç¤ºä¾‹çš„å®ç°æ–¹å¼å°è£…åœ¨äº†æ–¹æ³•é‡Œï¼Œæ¥ä¸‹æ¥çš„ä»£ç å®ç°ä¸­ï¼Œæˆ‘ä»¬å°†åˆ†åˆ«ç”¨è¿™ä¸¤ç§æ–¹å¼å®ç°åŠ¨æ€ä»£ç†ã€‚</p>
<h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><h4 id="èƒŒæ™¯å›é¡¾"><a href="#èƒŒæ™¯å›é¡¾" class="headerlink" title="èƒŒæ™¯å›é¡¾"></a>èƒŒæ™¯å›é¡¾</h4><p>å›å¿†ä¸€ä¸‹æ–‡ç« å¼€å§‹æåˆ°çš„èƒŒæ™¯ï¼Œé¡¹ç›®ä¸­å·²ç»å®ç°äº†ä¸šåŠ¡é€»è¾‘çš„ä»£ç äº†ï¼Œè¯¥ä¸šåŠ¡é€»è¾‘çš„ä»£ç æ˜¯å®ç°äº†æŸä¸ªä¸šåŠ¡æ¥å£ã€‚æˆ‘ä»¬å¯¹å…¶è¿›è¡Œåˆ†ææŠ½è±¡ï¼Œä¸šåŠ¡æ¥å£ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„åœ¨ä»£ç†æ¨¡å¼ä¸­æåˆ°çš„ä¸‰ä¸ªè§’è‰²ä¸­çš„ä»£ç†æ¥å£ï¼Œè€Œä¸šåŠ¡å®ç°ä»£ç å°±æ˜¯å§”æ‰˜ç±»ï¼Œç°åœ¨æˆ‘ä»¬è¦åšçš„äº‹æƒ…æ˜¯åœ¨å§”æ‰˜ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•ä¸­æ·»åŠ æ‰§è¡Œæ—¥å¿—ã€‚</p>
<p>ä¸šåŠ¡æ¥å£ï¼ˆä»£ç†æ¥å£ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»£ç†æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">add</span><span class="params">(String obj)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸šåŠ¡å®ç°ä»£ç ï¼ˆå§”æ‰˜ç±»ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å§”æ‰˜ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServiceImpl</span> <span class="keyword">implements</span> <span class="title">Service</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(String obj)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ·»åŠ äº†æ–°çš„å¯¹è±¡ï¼š&quot;</span> + obj);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>åŠ¨æ€ä»£ç†ï¼š</strong></p>
<p>æ³¨ï¼šè¿™éƒ¨åˆ†ä»£ç å¯èƒ½éœ€è¦æœ‰ä¸€äº›åå°„ç›¸å…³çš„çŸ¥è¯†æ‰èƒ½å¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„ç†è§£ä»£ç </p>
<h4 id="æ–¹æ³•ä¸€ï¼šæ·±å…¥"><a href="#æ–¹æ³•ä¸€ï¼šæ·±å…¥" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ·±å…¥"></a>æ–¹æ³•ä¸€ï¼šæ·±å…¥</h4><ol>
<li><p>åˆ›å»ºä¸€ä¸ªç±»å®ç° InvocationHandler æ¥å£</p>
<p>è¿™ä¸ªç±»çš„ä½œç”¨å°±æ˜¯å®ç°ä»£ç†æ–¹æ³•å»ä»£ç†å§”æ‰˜ç±»ä¸­çš„æ–¹æ³•ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¢å¼ºã€‚è€Œè¿™ä¸ªä»£ç†çš„æ–¹æ³•å°±æ˜¯ InvocationHandler æ¥å£ä¸­å£°æ˜çš„ invoke æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º invoke æ–¹æ³•å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œå®ƒå¯ä»¥ä¸ºå§”æ‰˜ç±»ä¸­çš„æ–¹æ³•éƒ½å¥—ä¸Šä¸€ä¸ªå£³ï¼Œä½œä¸ºä»£ç†å¯¹è±¡ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å§”æ‰˜ç±»ä¸­è¢«ä»£ç†åçš„æ–¹æ³•ï¼Œç¨‹åºè¿è¡Œæ—¶èƒ½æ ¹æ®è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆå§”æ‰˜ç±»ä¸­è¦è¢«ä»£ç†çš„æ–¹æ³•ã€‚</p>
<p><strong>MyInvocationHandler.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Object target;  <span class="comment">// å§”æ‰˜å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyInvocationHandler</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyInvocationHandler</span><span class="params">(Object target)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ–¹æ³•å¯ä»¥ç†è§£ä¸ºè¢«ä»£ç†çš„æ–¹æ³•çš„ä¸€ä¸ªæ¨¡æ¿ï¼Œç¨‹åºè¿è¡Œæ—¶èƒ½æ ¹æ®è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆå§”æ‰˜ç±»ä¸­è¦è¢«ä»£ç†çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> proxy åŠ¨æ€ä»£ç†ä¸­è¿è¡Œæ—¶ç”Ÿæˆçš„ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> method è¢«ä»£ç†çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> args è¢«ä»£ç†æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¿”å›å€¼çš„ç±»å‹ä¸è¢«ä»£ç†æ–¹æ³•çš„è¿”å›å€¼ç±»å‹æœ‰å…³</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Throwable</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object result;</span><br><span class="line">        System.out.println(<span class="string">&quot;[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• &quot;</span> + method.getName() + <span class="string">&quot; å‰&quot;</span>); <span class="comment">// æ–¹æ³•å¢å¼º</span></span><br><span class="line">        result = method.invoke(target, args);                          <span class="comment">// æ‰§è¡Œè¢«ä»£ç†çš„æ–¹æ³•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• &quot;</span> + method.getName() + <span class="string">&quot; å&quot;</span>); <span class="comment">// æ–¹æ³•å¢å¼º</span></span><br><span class="line">        <span class="keyword">return</span> result;                                                 <span class="comment">// ä»£ç†æ–¹æ³•çš„è¿”å›å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>invoke æ–¹æ³•ä¸­çš„è¿”å›å€¼ï¼š</p>
<ul>
<li>å½“ä»£ç†æ¥å£å£°æ˜çš„è¿”å›å€¼æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆ invoke è¿”å›çš„å€¼å¿…é¡»æ˜¯å¯¹åº”çš„åŒ…è£…ç±»çš„å®ä¾‹</li>
<li>å¦‚æœ invoke è¿”å›çš„å€¼ä¸º null ä¸”æ¥å£æ–¹æ³•çš„è¿”å›ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ™ä»£ç†å®ä¾‹ä¸Šçš„æ–¹æ³•è°ƒç”¨å°†æŠ›å‡º NullPointerException</li>
<li>å¦‚æœ invoke è¿”å›çš„å€¼ä¸æ¥å£ä¸­æ–¹æ³•å£°æ˜çš„è¿”å›ç±»å‹ä¸å…¼å®¹ï¼Œåˆ™ä»£ç†å®ä¾‹å°†æŠ›å‡º ClassCastExceptionã€‚</li>
</ul>
</li>
<li><p>é€šè¿‡ä»£ç†æ¥å£ç”Ÿæˆä»£ç†ç±»</p>
</li>
<li><p>è·å–è°ƒç”¨ç¬¬2æ­¥ç”Ÿæˆçš„ä»¥ InvocationHandler ä¸ºå‚æ•°çš„ä»£ç†ç±»çš„æ„é€ å™¨</p>
</li>
<li><p>è°ƒç”¨ç¬¬3æ­¥è·å–çš„ä»£ç†ç±»çš„æ„é€ å™¨ï¼Œä¼ å…¥ç¬¬1æ­¥å®ç°çš„ InvocationHandler ä½œä¸ºå‚æ•°ï¼Œæœ€åè¿”å›å®ä¾‹åŒ–åçš„ä»£ç†å¯¹è±¡</p>
<p>2ã€3ã€4æ­¥ä»£ç å°±ä¸€èµ·å±•ç¤ºäº†ï¼š</p>
<p><strong>Main.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException </span>&#123;</span><br><span class="line">        ServiceImpl serviceImpl = <span class="keyword">new</span> ServiceImpl();    <span class="comment">// å§”æ‰˜å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/***** ç¬¬1æ­¥ *****/</span></span><br><span class="line">        InvocationHandler myInvocationHandler = <span class="keyword">new</span> MyInvocationHandler(serviceImpl);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/***** ç¬¬2æ­¥ *****</span></span><br><span class="line"><span class="comment">         * é€šè¿‡ç±»åŠ è½½å™¨ä¸ä»£ç†æ¥å£ç”Ÿæˆä»£ç†ç±» proxyClass</span></span><br><span class="line"><span class="comment">         * å…¶ä¸­ç±»åŠ è½½å™¨ serviceImpl.getClass().getClassLoader()</span></span><br><span class="line"><span class="comment">         * ä»£ç†æ¥å£ serviceImpl.getClass().getInterfaces()</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Class proxyClass = Proxy.getProxyClass(serviceImpl.getClass().getClassLoader(),serviceImpl.getClass().getInterfaces());</span><br><span class="line"></span><br><span class="line">        <span class="comment">/***** ç¬¬3æ­¥ *****</span></span><br><span class="line"><span class="comment">         * è·å–ä»£ç†ç±»çš„æŒ‡å®šæ„é€ å™¨ï¼ˆä»¥ InvocationHandler ä¸ºå‚æ•°çš„æ„é€ å™¨ï¼‰</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Constructor proxyConstructor = proxyClass.getConstructor(InvocationHandler.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/***** ç¬¬4æ­¥ *****</span></span><br><span class="line"><span class="comment">         * é€šè¿‡æ„é€ å™¨å®ä¾‹åŒ–ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Service proxyInstance = (Service) proxyConstructor.newInstance(myInvocationHandler);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä»£ç†æ–¹æ³•ï¼Œæµ‹è¯•æ–¹æ³•å¢å¼ºå¹¶æµ‹è¯•è¿”å›å€¼</span></span><br><span class="line">        System.out.println(<span class="string">&quot;è¿”å›å€¼ï¼š&quot;</span> + proxyInstance.add(<span class="string">&quot;MakerHu&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è¿è¡Œç»“æœï¼š</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• add å‰</span><br><span class="line">æ·»åŠ äº†æ–°çš„å¯¹è±¡ï¼šMakerHu</span><br><span class="line">[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• add å</span><br><span class="line">è¿”å›å€¼ï¼štrue</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="æ–¹æ³•äºŒï¼šæµ…å‡º"><a href="#æ–¹æ³•äºŒï¼šæµ…å‡º" class="headerlink" title="æ–¹æ³•äºŒï¼šæµ…å‡º"></a>æ–¹æ³•äºŒï¼šæµ…å‡º</h4><p>é™¤äº†ä¸Šè¿°çš„è¿™ç§æ–¹å¼å®ç°åŠ¨æ€ä»£ç†ï¼Œ<a href="https://docs.oracle.com/javase/8/docs/api/">Javaå®˜æ–¹æ–‡æ¡£</a>ä¸­è¿˜ç»™äº†æˆ‘ä»¬å¦ä¸€ä¸ªç®€å•çš„å®ç°æ–¹å¼çš„ç¤ºä¾‹ï¼ˆåœ¨å‰é¢ä¹Ÿæåˆ°äº†ï¼‰ï¼š</p>
<p>or more simply:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Foo f = (Foo) Proxy.newProxyInstance(Foo.class.getClassLoader(),</span><br><span class="line">                                     <span class="keyword">new</span> Class&lt;?&gt;[] &#123; Foo.class &#125;,</span><br><span class="line">                                     handler);</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹æ³•å°±æ˜¯å°†æ–¹æ³•ä¸€ä¸­çš„æ­¥éª¤å…¨éƒ½æ”¾åˆ°äº†æ–¹æ³• newProxyInstance ä¸­å¸®æˆ‘ä»¬å®ç°å¥½äº†ï¼Œå› æ­¤æˆ‘ä»¬åªè¦ç›´æ¥è°ƒç”¨å°±èƒ½ç›´æ¥è·å–åˆ°ä»£ç†å¯¹è±¡äº†ã€‚è¿™ç§æ–¹æ³•å…¶ä»–éƒ¨åˆ†çš„ä»£ç éƒ½ä¸ç”¨å˜ï¼Œåªè¦ä¿®æ”¹ Main.java ä¸ºå¦‚ä¸‹ï¼š</p>
<p><strong>Main.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ServiceImpl serviceImpl = <span class="keyword">new</span> ServiceImpl();    <span class="comment">// å§”æ‰˜å®ä¾‹</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/***** ç¬¬1æ­¥ *****</span></span><br><span class="line"><span class="comment">         * åˆ›å»º InvocationHandler çš„å®ä¾‹</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        InvocationHandler myInvocationHandler = <span class="keyword">new</span> MyInvocationHandler(serviceImpl);</span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * ç¬¬ 2ã€3ã€4 æ­¥æ•´åˆä¸ºäº†ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Service proxyInstance = (Service) Proxy.newProxyInstance(serviceImpl.getClass().getClassLoader(),</span><br><span class="line">                serviceImpl.getClass().getInterfaces(),</span><br><span class="line">                myInvocationHandler);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨ä»£ç†æ–¹æ³•ï¼Œæµ‹è¯•æ–¹æ³•å¢å¼ºå¹¶æµ‹è¯•è¿”å›å€¼</span></span><br><span class="line">        System.out.println(<span class="string">&quot;è¿”å›å€¼ï¼š&quot;</span> + proxyInstance.add(<span class="string">&quot;MakerHu&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="æ–¹æ³•ä¸‰ï¼šå®Œå–„"><a href="#æ–¹æ³•ä¸‰ï¼šå®Œå–„" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå®Œå–„"></a>æ–¹æ³•ä¸‰ï¼šå®Œå–„</h4><p>ä¸ºäº†æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œæˆ‘ä»¬è¿˜èƒ½å°†æ–¹æ³•äºŒä¸­çš„è·å–ä»£ç†å®ä¾‹çš„ä»£ç ä½œä¸ºé™æ€æ–¹æ³•æ•´åˆåˆ° MyInvocationHandler ä¸­å»ï¼Œ<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html">Javaå®˜æ–¹æ–‡æ¡£</a>ä¸­ä¹Ÿç»™æˆ‘ä»¬äº†ä¸€ä¸ªæ›´åŠ å®Œæ•´çš„ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">    <span class="function">Object <span class="title">bar</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> BazException</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FooImpl</span> <span class="keyword">implements</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">    <span class="function">Object <span class="title">bar</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> BazException </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DebugProxy</span> <span class="keyword">implements</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">reflect</span>.<span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newInstance</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> java.lang.reflect.Proxy.newProxyInstance(</span><br><span class="line">            obj.getClass().getClassLoader(),</span><br><span class="line">            obj.getClass().getInterfaces(),</span><br><span class="line">            <span class="keyword">new</span> DebugProxy(obj));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">DebugProxy</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method m, Object[] args)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> Throwable</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Object result;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;before method &quot;</span> + m.getName());</span><br><span class="line">            result = m.invoke(obj, args);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e.getTargetException();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;unexpected invocation exception: &quot;</span> +</span><br><span class="line">                                       e.getMessage());</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;after method &quot;</span> + m.getName());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·å–ä»£ç†å®ä¾‹æ—¶åªéœ€è¦ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Foo foo = (Foo) DebugProxy.newInstance(<span class="keyword">new</span> FooImpl());</span><br><span class="line">foo.bar(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<p>ä»”ç»†è§‚å¯Ÿæˆ‘ä»¬å°±èƒ½å‘ç°ï¼Œè¿™ç§æ–¹æ³•ä¸ç¬¬äºŒç§æ–¹æ³•æ²¡æœ‰æœ¬è´¨åŒºåˆ«ï¼Œåªæ˜¯å°†ç¬¬äºŒç§æ–¹æ³•ä¸­çš„ Proxy.newProxyInstance æ–¹æ³•ç§»åŠ¨åˆ°äº†å®ç°äº† InvocationHandler æ¥å£çš„ç±»ä¸­ä½œä¸ºä¸€ä¸ªé™æ€æ–¹æ³•è¢«è°ƒç”¨ã€‚</p>
<p>ç”¨è¿™ç§æ–¹æ³•å®ç°æˆ‘ä»¬çš„ä¾‹å­ï¼š</p>
<p><strong>MyInvocationHandler.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyInvocationHandler</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyInvocationHandler</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** ä¸æ–¹æ³•äºŒçš„å·®åˆ«ï¼šé™æ€æ–¹æ³•è°ƒç”¨ **/</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">newInstance</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(target.getClass().getClassLoader(), target.getClass().getInterfaces(), <span class="keyword">new</span> MyInvocationHandler(target));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object result;</span><br><span class="line">        System.out.println(<span class="string">&quot;[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• &quot;</span> + method.getName() + <span class="string">&quot; å‰&quot;</span>);</span><br><span class="line">        result = method.invoke(target, args);</span><br><span class="line">        System.out.println(<span class="string">&quot;[æ—¥å¿—]æ‰§è¡Œæ–¹æ³• &quot;</span> + method.getName() + <span class="string">&quot; å&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Main.java</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ServiceImpl student = <span class="keyword">new</span> ServiceImpl();</span><br><span class="line">        Service proxyInstance = (Service) MyInvocationHandler.newInstance(student);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹æ³•è¿”å›å€¼ï¼š&quot;</span> + proxyInstance.add(<span class="string">&quot;MakerHu&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>åŠ¨æ€ä»£ç†ä¸é™æ€ä»£ç†çš„åŒºåˆ«å°±æ˜¯é™æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯å†™åœ¨ç¨‹åºä¸­çš„ï¼Œè€ŒåŠ¨æ€ä»£ç†çš„ä»£ç†ç±»æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶å€ŸåŠ© InvocationHandlerï¼ŒProxy.getProxyClass ç­‰ç”Ÿæˆçš„ï¼ŒåŠ¨æ€ä»£ç†ç”±äºå…¶å®ç°æ–¹å¼æ›´åŠ çµæ´»ï¼Œå› æ­¤å¯ä»¥åŒæ—¶ä»£ç†ä¸åŒæ¥å£çš„è¡Œä¸ºè€Œä¸ç”¨ä¿®æ”¹ä»£ç ã€‚ä»¥ä¸Šè¿°èƒŒæ™¯ä¸ºä¾‹ï¼Œå¦‚æœè¿˜æœ‰ä¸€éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘å®ç°äº†æ¥å£ Service02.javaï¼Œé¢†å¯¼è¦æ±‚æˆ‘ä»¬ä¹Ÿè¦ä¸ºè¿™éƒ¨åˆ†ä¸šåŠ¡æ–¹æ³•æ·»åŠ æ—¥å¿—ï¼Œé‚£ä¹ˆä½¿ç”¨åŠ¨æ€ä»£ç†å¹¶ä¸éœ€è¦æ›´æ”¹ä»£ç ï¼Œåªè¦å°†å®ç°äº† Service02 æ¥å£çš„å¯¹è±¡ä¼ å…¥æ–¹æ³•ä¸­å³å¯ï¼Œè€Œé™æ€ä»£ç†åˆ™éœ€è¦å†å†™ä¸€ä¸ªä»£ç†ç±»æ¥å®ŒæˆåŒæ ·çš„ä»»åŠ¡ï¼Œä½¿ä»£ç æ›´åŠ å†—ä½™äº†ã€‚</p>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul>
<li><p><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html">Dynamic Proxy Classes (oracle.com)</a></p>
</li>
<li><p><a href="https://docs.oracle.com/javase/8/docs/api/">Proxy (Java Platform SE 8 ) (oracle.com)</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>ç¬”è®°</category>
        <category>Javaç¬”è®°</category>
      </categories>
      <tags>
        <tag>ä»£ç†æ¨¡å¼</tag>
        <tag>proxy pattern</tag>
        <tag>åŠ¨æ€ä»£ç†</tag>
        <tag>dynamic proxy</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»£ç†æ¨¡å¼ä¹‹é™æ€ä»£ç†</title>
    <url>/posts/3c271a1b/</url>
    <content><![CDATA[<blockquote>
<p>ä»£ç†æ¨¡å¼æˆ‘ä»¬å¯ä»¥ä»å­—é¢ä¸Šå»ç†è§£å®ƒçš„æ¶µä¹‰ï¼Œä»£ç†å°±æ˜¯<strong>ä»£æ›¿</strong>æŸä¸ªäº‹ç‰©å»<strong>å¤„ç†</strong>äº‹æƒ…ï¼Œä»£ç†åœ¨ä»£æ›¿å¤„ç†äº‹æƒ…çš„æ—¶å€™å¯èƒ½è¿˜ä¼šæ·»åŠ ä¸€äº›å®ƒçš„è¡¥å……è¡Œä¸ºã€‚ä»¥ç”Ÿæ´»ä¸­ç”³è¯·ç•™å­¦çš„ä»£ç†æœºæ„ä¸ºä¾‹ï¼Œä»£ç†æœºæ„ä»£æ›¿ä½ å»ç”³è¯·å›½å¤–é«˜æ ¡ï¼Œé™¤äº†â€œç”³è¯·é«˜æ ¡â€è¿™ä»¶äº‹å¤–ï¼Œå®ƒè¿˜åœ¨ç”³è¯·ä¹‹å‰å¸®ä½ â€œæŸ¥è¯¢é«˜æ ¡ä¿¡æ¯â€ï¼Œå¹¶åœ¨ç”³è¯·æˆåŠŸä¹‹åå‘ä½ â€œè¦ä»£ç†è´¹â€ã€‚æ¥ä¸‹æ¥æˆ‘å°±ä»¥ç”³è¯·ç•™å­¦ä¸ºä¾‹ç®€å•å®ç°ä¸€ä¸ªé™æ€ä»£ç†çš„ä¾‹å­ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="ä¸‰ä¸ªè§’è‰²"><a href="#ä¸‰ä¸ªè§’è‰²" class="headerlink" title="ä¸‰ä¸ªè§’è‰²"></a>ä¸‰ä¸ªè§’è‰²</h2><ul>
<li><p><strong>è¦ä»£ç†çš„äº‹æƒ…</strong>ï¼ˆä¸€èˆ¬æ˜¯ä¸€ä¸ªæ¥å£ï¼‰ï¼šç”³è¯·ç•™å­¦è¿™ä»¶äº‹ï¼ˆStudyAbroadï¼‰</p>
</li>
<li><p><strong>å§”æ‰˜äºº</strong>ï¼šå­¦ç”Ÿï¼ˆStudentï¼‰</p>
</li>
<li><p><strong>ä»£ç†äºº</strong>ï¼šç•™å­¦ç”³è¯·æœºæ„ï¼ˆStudyAbroadAgentï¼‰</p>
</li>
</ul>
<p>ä»–ä»¬çš„<strong>å…³ç³»</strong>ï¼šç•™å­¦ç”³è¯·æœºæ„ä»£ç†å­¦ç”Ÿå»ç”³è¯·ç•™å­¦</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><h3 id="StudyAbroad-java"><a href="#StudyAbroad-java" class="headerlink" title="StudyAbroad.java"></a>StudyAbroad.java</h3><p>è¦ä»£ç†çš„äº‹ï¼šç”³è¯·ç•™å­¦ï¼Œå°±æ˜¯ä¸€ä¸ªæ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¦ä»£ç†çš„äº‹æƒ…ï¼šç”³è¯·ç•™å­¦è¿™ä»¶äº‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">StudyAbroad</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">applyForStudyAbroad</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Student-java"><a href="#Student-java" class="headerlink" title="Student.java"></a>Student.java</h3><p>å­¦ç”Ÿè¦å‡ºå›½ç•™å­¦ï¼Œä¹Ÿæ˜¯çœŸæ­£è¦åšä»£ç†çš„äº‹çš„å¯¹è±¡ï¼Œä»–å®ç°ç”³è¯·ç•™å­¦è¿™ä»¶äº‹çš„æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å­¦ç”Ÿ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">StudyAbroad</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyForStudyAbroad</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="keyword">this</span>.name + <span class="string">&quot;ç”³è¯·ç•™å­¦æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="StudyAbroadAgent-java"><a href="#StudyAbroadAgent-java" class="headerlink" title="StudyAbroadAgent.java"></a>StudyAbroadAgent.java</h3><p>ä»£ç†æœºæ„åŒæ ·ä¹Ÿå®ç°ç”³è¯·ç•™å­¦è¿™ä»¶äº‹çš„æ¥å£ï¼Œä½†ä»–åœ¨å®ç°æ—¶è°ƒç”¨äº†å§”æ‰˜äººçš„ç”³è¯·ç•™å­¦æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯<strong>æ›¿</strong>å§”æ‰˜äººç”³è¯·ç•™å­¦ã€‚å¹¶ä¸”åœ¨ä»£ç†ç”³è¯·ç•™å­¦ä¹‹å‰è¿˜å¸®åŠ©å­¦ç”ŸæŸ¥è¯¢äº†é«˜æ ¡ä¿¡æ¯ï¼Œæ›¿å­¦ç”Ÿçœäº‹äº†ï¼Œä½†æ˜¯ä»£ç†å®Œåè¦äº¤é’±ğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»£ç†äººï¼šç•™å­¦ç”³è¯·æœºæ„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StudyAbroadAgent</span> <span class="keyword">implements</span> <span class="title">StudyAbroad</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å§”æ‰˜äºº</span></span><br><span class="line">    <span class="keyword">private</span> StudyAbroad studyAbroad;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StudyAbroadAgent</span><span class="params">(StudyAbroad studyAbroad)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.studyAbroad = studyAbroad;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">applyForStudyAbroad</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        before();</span><br><span class="line">        studyAbroad.applyForStudyAbroad();  <span class="comment">// æ›¿å§”æ‰˜äººå®Œæˆè¦ä»£ç†çš„äº‹</span></span><br><span class="line">        after();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”³è¯·ä¹‹å‰å¸®ä½ æŸ¥è¯¢å›½å¤–é«˜æ ¡ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢å›½å¤–é«˜æ ¡ä¿¡æ¯ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”³è¯·ä¹‹åå‘ä½ è¦ä»£ç†è´¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ”¶å–ä»£ç†è´¹ã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="Main-java"><a href="#Main-java" class="headerlink" title="Main.java"></a>Main.java</h3><p>ä¸»å‡½æ•°ï¼Œè¯·ä»£ç†æœºæ„å¸®æŸä¸ªå­¦ç”Ÿ(MakerHu)ç”³è¯·ç•™å­¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Student student = <span class="keyword">new</span> Student(<span class="string">&quot;MakerHu&quot;</span>);</span><br><span class="line">        StudyAbroadAgent studyAbroadAgent = <span class="keyword">new</span> StudyAbroadAgent(student);</span><br><span class="line">        studyAbroadAgent.applyForStudyAbroad();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>è¿è¡Œç»“æœ</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">æŸ¥è¯¢å›½å¤–é«˜æ ¡ä¿¡æ¯ã€‚</span><br><span class="line">MakerHuç”³è¯·ç•™å­¦æˆåŠŸï¼</span><br><span class="line">æ”¶å–ä»£ç†è´¹ã€‚</span><br></pre></td></tr></table></figure>



<h2 id="é™æ€ä»£ç†æ¨¡å¼æœ‰å•¥ç”¨å‘¢"><a href="#é™æ€ä»£ç†æ¨¡å¼æœ‰å•¥ç”¨å‘¢" class="headerlink" title="é™æ€ä»£ç†æ¨¡å¼æœ‰å•¥ç”¨å‘¢?"></a>é™æ€ä»£ç†æ¨¡å¼æœ‰å•¥ç”¨å‘¢?</h2><p>åœ¨javaçš„å¤šçº¿ç¨‹ä¸­å°±ç”¨åˆ°äº†é™æ€ä»£ç†æ¨¡å¼ã€‚</p>
<p>æˆ‘ä»¬åœ¨å®ç°å¤šçº¿ç¨‹æ—¶ï¼Œé¦–å…ˆå†™ä¸€ä¸ªè‡ªå·±çš„ç±»MyRunnabaleå®ç°Runnableï¼Œæ¥ç€é€šè¿‡<code>new Thread(new MyRunnable).start();</code>å¼€å¯çº¿ç¨‹ã€‚</p>
<p>åœ¨Javaä¸­Threadå®ç°äº†Runnableæ¥å£ï¼Œå› æ­¤åœ¨ä»£ç†æ¨¡å¼ä¸­ï¼Œä»–ä»¬çš„æ‰®æ¼”çš„èº«ä»½åˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><strong>è¦ä»£ç†çš„äº‹æƒ…ï¼š</strong>Runnableä¸­çš„run()æ–¹æ³•</li>
<li><strong>å§”æ‰˜ç±»ï¼š</strong>ä½ å®ç°çš„ç±»MyRunnable</li>
<li><strong>ä»£ç†ç±»ï¼š</strong>Thread</li>
</ul>
<p>ç»§ç»­å­¦ä¹ ï¼š<a href="http://www.makerhu.com/posts/39d16fd4/">ä»£ç†æ¨¡å¼ä¹‹åŠ¨æ€ä»£ç† | MakerHuçš„åšå®¢</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>ç¬”è®°</category>
        <category>Javaç¬”è®°</category>
      </categories>
      <tags>
        <tag>ä»£ç†æ¨¡å¼</tag>
        <tag>proxy pattern</tag>
        <tag>é™æ€ä»£ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>åœ¨LinuxæœåŠ¡å™¨ä¸Šç®€æ˜“éƒ¨ç½²djangoé¡¹ç›®</title>
    <url>/posts/58379ca9/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ•™ç¨‹è¯¦ç»†æè¿°äº†å¦‚ä½•ç®€å•å®ç°åœ¨LinuxæœåŠ¡å™¨ä¸­éƒ¨ç½²djangoé¡¹ç›®</p>
</blockquote>
<span id="more"></span>

<p><strong>æœªç»å…è®¸è¯·å‹¿è½¬è½½ï¼</strong> æ–‡ç« é¦–å‘äº<a href="https://www.makerhu.com/posts/58379ca9/">åœ¨LinuxæœåŠ¡å™¨ä¸Šç®€æ˜“éƒ¨ç½²djangoé¡¹ç›® | MakerHuçš„åšå®¢</a></p>
<ol>
<li>å®‰è£…å¥½python3</li>
<li>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ<br> <code>python -m venv /è™šæ‹Ÿç¯å¢ƒåç§°/</code></li>
<li>è¿›å…¥è™šæ‹Ÿç¯å¢ƒ<br> <code>cd /è™šæ‹Ÿç¯å¢ƒå/</code></li>
<li>è¿›å…¥binç›®å½•<br> <code>cd bin</code></li>
<li>è¿è¡Œè™šæ‹Ÿç¯å¢ƒ<br> <code>source activate</code></li>
<li>æ›´æ–°pip<br> <code>pip install --upgrade pip</code></li>
<li>æŸ¥çœ‹å½“å‰å®‰è£…çš„æ¨¡å—<br> <code>pip freeze</code></li>
<li>å®‰è£…é¡¹ç›®çš„djangoå¯¹åº”ç‰ˆæœ¬<br> <code>pip install django==3.1.3</code><br> ä¹Ÿå¯ç”¨æ¸…åé•œåƒç½‘å®‰è£…ï¼ˆé€Ÿåº¦è¾ƒå¿«ï¼‰<br> <code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple django==3.1.3</code></li>
<li>å†æ¬¡æŸ¥çœ‹å®‰è£…æ¨¡å—<br> <code>pip freeze</code></li>
<li>æ¥ç€æŠŠé¡¹ç›®åœ¨æœ¬åœ°å®‰è£…çš„æ¨¡å—éƒ½è£…åˆ°è™šæ‹Ÿç¯å¢ƒä¸­(æ ¹æ®è‡ªèº«é¡¹ç›®å…·ä½“æƒ…å†µå®‰è£…ï¼‰<br><code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple pymysql</code><br><code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple cryptography</code><br><code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple apscheduler</code></li>
<li>å®‰è£…httpéœ€è¦çš„æ¨¡å—<br> <code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple gunicorn</code></li>
<li>å®‰è£…bleach<br> <code>pip install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple bleach</code></li>
<li>åœ¨æœåŠ¡å™¨ä¸­é…ç½®é¡¹ç›®çš„æ•°æ®åº“ï¼Œè¿™é‡Œä»¥mysqlä¸ºä¾‹ï¼ˆmysqléœ€å…ˆåœ¨linuxç³»ç»Ÿä¸­å®‰è£…å¥½ï¼‰</li>
</ol>
<ul>
<li>ç™»å½•root<br><code>mysql -u root -p</code></li>
<li>åˆ›å»ºé¡¹ç›®æ•°æ®åº“<br><code>create database cms;</code></li>
<li>mysqlåˆ›å»ºæ–°ç”¨æˆ·cmsmanager , å¯†ç 123456 (cmamanagerä¸ºç”¨æˆ·å, 123456ä¸ºå¯†ç ï¼Œå¯æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹)<br><code>CREATE USER &#39;cmsmanager&#39;@&#39;%&#39; IDENTIFIED BY &#39;123456&#39;;</code></li>
<li>æˆäºˆæ•°æ®åº“cmsçš„æ‰€æœ‰æƒé™ç»™cmsmanager<br><code>GRANT ALL PRIVILEGES ON cms.* TO &#39;cmsmanager&#39;@&#39;%&#39;;</code></li>
</ul>
<p><strong>å¦‚æœç™»å½•cmsmanagerè´¦æˆ·æ—¶é‡åˆ°é”™è¯¯</strong><br><code>ERROR 1045 (28000): Access denied for user &#39;cmsmanager&#39;@&#39;localhost&#39; (using password: YES)</code><br>å¯èƒ½æ˜¯å› ä¸ºä½ æœ‰ä¸€ä¸ªç”¨æˆ·åä¸ºç©ºçš„è´¦æˆ·ï¼Œmysqlä¼šå…ˆåŒ¹é…å®ƒï¼Œç„¶åå°±ä¸€ç›´æç¤ºä½ å¯†ç é”™è¯¯ï¼Œéœ€è¦åˆ æ‰è¿™ä¸ªåŒ¿åç”¨æˆ·ï¼Œç„¶åæ‰§è¡Œ <code>FLUSH PRIVILEGES;</code>å¦‚ä¸‹ï¼š<br><code>Delete FROM user Where User=&#39;&#39; and Host=&#39;localhost&#39;;</code><br><code>flush privileges;</code><br>14. åœ¨djangoé¡¹ç›®settings.pyä¸­é…ç½®å¥½æ•°æ®åº“</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">DATABASES = &#123;</span><br><span class="line">  <span class="string">&#x27;default&#x27;</span>: &#123; </span><br><span class="line">    <span class="comment"># &#x27;ENGINE&#x27;: &#x27;django.db.backends.sqlite3&#x27;,</span></span><br><span class="line">    <span class="comment"># &#x27;NAME&#x27;: BASE_DIR / &#x27;db.sqlite3&#x27;,</span></span><br><span class="line">    <span class="string">&#x27;ENGINE&#x27;</span>: <span class="string">&#x27;django.db.backends.mysql&#x27;</span>,   <span class="comment"># è®¾ç½®æ•°æ®åº“ä¸ºmysql</span></span><br><span class="line">    <span class="string">&#x27;NAME&#x27;</span>: <span class="string">&#x27;cms&#x27;</span>,         <span class="comment"># æ•°æ®åº“å </span></span><br><span class="line">    <span class="string">&#x27;USER&#x27;</span>: <span class="string">&#x27;cmsmanager&#x27;</span>,       <span class="comment"># è´¦æˆ· </span></span><br><span class="line">    <span class="string">&#x27;PASSWORD&#x27;</span>: <span class="string">&#x27;123456&#x27;</span>,    <span class="comment"># å¯†ç </span></span><br><span class="line">    <span class="string">&#x27;HOST&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,     <span class="comment"># æ•°æ®åº“çš„ip</span></span><br><span class="line">    <span class="string">&#x27;PORT&#x27;</span>: <span class="number">3306</span>,     <span class="comment"># æ•°æ®åº“çš„ç«¯å£ </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨djangoé¡¹ç›®<strong>settings.py</strong>ä¸­å…è®¸æ‰€æœ‰ä¸»æœºè®¿é—®</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ALLOWED_HOSTS = [<span class="string">&quot;*&quot;</span>]</span><br></pre></td></tr></table></figure>
<ol start="15">
<li><p>å°†é¡¹ç›®æ‰“åŒ…å‹ç¼©ï¼ˆåˆ æ‰è™šæ‹Ÿç¯å¢ƒï¼‰</p>
</li>
<li><p>å°†é¡¹ç›®å‹ç¼©åŒ…ä¸Šä¼ è‡³æœåŠ¡å™¨ä¸­åˆšåˆ›å»ºçš„è™šæ‹Ÿç¯å¢ƒï¼ˆè§ç¬¬2æ­¥ï¼‰çš„æ ¹ç›®å½•ä¸‹ï¼ˆä¸binç›®å½•åŒçº§ï¼‰å¹¶è§£å‹ï¼Œæˆ‘ç”¨çš„è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„å·¥å…·æ˜¯mobaxterm</p>
<p><img src="/posts/58379ca9/20210504233104.png" alt="é¡¹ç›®ä¸Šä¼ ä½ç½®"></p>
<p>åœ¨é˜¿é‡Œäº‘å®‰å…¨ç»„ä¸­å¼€æ”¾ç«¯å£<br><strong>å¦‚æœä¸èƒ½è®¿é—®ç«¯å£</strong><br>åˆ™</p>
</li>
</ol>
<ul>
<li>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼š<br><code>systemctl status firewalld</code></li>
<li>å®ä¾‹ä¸­å·²ç»å®‰è£…Firewalldå¹¶ä¸”å·²ç»å¯ç”¨firewalld.serviceï¼Œè‹¥éœ€è¦æ”¾è¡Œ TCP 5050ç«¯å£ï¼Œæ‰§è¡Œå‘½ä»¤<br><code>firewall-cmd --add-port=5050/tcp --permanent</code><br>è¿”å›ç»“æœä¸ºsuccesså³è¡¨ç¤ºå·²ç»æ”¾è¡ŒTCP 5050ç«¯å£ï¼ˆç«¯å£å·æ ¹æ®è‡ªå·±éœ€è¦ä¿®æ”¹ï¼‰ã€‚</li>
<li>æœ€åé‡æ–°åŠ è½½é˜²ç«å¢™å³å¯ï¼š<br><code>firewall-cmd --reload</code></li>
</ul>
<ol start="17">
<li>æœ€åï¼Œå¯åŠ¨é¡¹ç›®(è¿™ç§æ–¹å¼å¦‚æœå…³æ‰è¿œç¨‹è¿æ¥æœåŠ¡å™¨çš„å·¥å…·å°±åœäº†ï¼Œè‹¥è¦ä¸€ç›´åå°è¿è¡Œåˆ™è·³è¿‡æ­¤æ­¥)<br><code>python manage.py runserver 0.0.0.0:5050</code></li>
<li>å°†é¡¹ç›®åå°è¿è¡Œï¼ˆè®°å¾—å…ˆå¯åŠ¨è™šæ‹Ÿç¯å¢ƒï¼šåœ¨è™šæ‹Ÿç¯å¢ƒçš„binç›®å½•ä¸‹ <code>source activate</code>ï¼‰<br>å‚è€ƒæ•™ç¨‹ï¼š<a href="https://www.cnblogs.com/yoyoketang/p/10593731.html">https://www.cnblogs.com/yoyoketang/p/10593731.html</a></li>
</ol>
<ul>
<li><p>é¦–å…ˆå†™ä¸€ä¸ªå¯åŠ¨æ–‡ä»¶ï¼šstart.sh<br>åœ¨manage.pyåŒçº§ç›®å½•ä¸‹<br><code>vim start.sh</code><br>è¾“å…¥ï¼š</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ps</span> -aux | <span class="keyword">grep</span> <span class="keyword">python</span>|xargs kill -<span class="number">9</span></span><br><span class="line">nohup <span class="keyword">python</span> manage.<span class="keyword">py</span> runserver <span class="number">0.0</span>.<span class="number">0.0</span>:<span class="number">5050</span> &gt;cms_website.out <span class="number">2</span>&gt;&amp;<span class="number">1</span> &amp;</span><br></pre></td></tr></table></figure>
<p><img src="/posts/58379ca9/20210504233154.png" alt="ç¼–è¾‘start.sh"></p>
<p>ç¼–è¾‘å®ŒæˆåæŒ‰Escå»ºé€€å‡ºï¼Œè¾“å…¥<code>:wq</code>åæŒ‰å›è½¦ä¿å­˜é€€å‡º</p>
</li>
<li><p>åŒç†ç¼–è¾‘åœæ­¢æ–‡ä»¶stop.sh<br>åœ¨manage.pyåŒçº§ç›®å½•ä¸‹<br><code>vim stop.sh</code><br>è¾“å…¥ï¼š<br><code>ps -aux | grep python|xargs kill -9</code><br>ç¼–è¾‘å®ŒæˆåEscé€€å‡ºï¼Œè¾“å…¥<code>:wq</code>ä¿å­˜é€€å‡º</p>
</li>
<li><p>éƒ½ç¼–è¾‘å®Œæˆåæˆæƒè¿™ä¸¤ä¸ªæ–‡ä»¶<br><code>chmod +777 start.sh</code><br><code>chmod +777 stop.sh</code></p>
</li>
<li><p>å¯åŠ¨æ—¶è¾“å…¥ï¼š<br><code>./start.sh</code></p>
</li>
<li><p>å…³é—­æœåŠ¡è¾“å…¥ï¼š<br><code>./stop.sh</code></p>
</li>
<li><p>æŸ¥çœ‹å®æ—¶æ—¥å¿—<br><code>tail -f cms_website.out</code></p>
</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>é‡ç”Ÿæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>django</tag>
        <tag>æœåŠ¡å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰</title>
    <url>/posts/5b2ca0db/</url>
    <content><![CDATA[<blockquote>
<p>æœ¬æ–‡ç« å¯¹SpringBootå¼€å‘åç«¯é¡¹ç›®ç»“æ„åšäº†ç®€å•ä»‹ç»ï¼Œå¹¶ç¤ºèŒƒäº†ä½¿ç”¨SpringBoot+MySQLå®ç°ç™»å½•çš„åç«¯åŠŸèƒ½ï¼Œä¸æœ¬åšå®¢çš„å¦ä¸€ç¯‡æ–‡ç«  <a href="https://www.makerhu.com/posts/78e35d03/">Vue å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼ˆå‰åç«¯åˆ†ç¦»å®Œæ•´æ¡ˆä¾‹ï¼‰ | MakerHu çš„åšå®¢</a> å…±åŒç»„æˆäº†å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„æ•´ä½“ï¼Œé€‚åˆå°ç™½ä¸Šæ‰‹ Vue + SpringBoot + Mysql çš„é¡¹ç›®å¼€å‘ã€‚</p>
</blockquote>
<span id="more"></span>

<p><strong>æœªç»å…è®¸è¯·å‹¿è½¬è½½ï¼</strong> æ–‡ç« é¦–å‘äº<a href="https://www.makerhu.com/posts/5b2ca0db/">å¿«é€Ÿä¸Šæ‰‹SpringBooté¡¹ç›®ï¼ˆç™»å½•æ³¨å†Œä¿å§†çº§æ•™ç¨‹ï¼‰ | MakerHuçš„åšå®¢</a></p>
<p><strong>å¦‚æœå¤§å®¶é‡åˆ°é—®é¢˜å¹¶è§£å†³ï¼Œå¯ä»¥åŠæ—¶å‘æˆ‘åé¦ˆï¼Œæˆ‘ä¼šæŠŠå¤§å®¶çš„è§£å†³æ–¹æ¡ˆè¡¥å……åˆ°æ–‡ç« æœ€åï¼Œä»¥ä¾›ä»–äººå‚è€ƒï¼Œå¤§å®¶é‡åˆ°é—®é¢˜ä¹Ÿå¯ä»¥å…ˆåˆ°æ–‡æœ«æŸ¥çœ‹æ˜¯å¦å·²æœ‰è§£å†³æ–¹æ¡ˆ</strong></p>
<p><strong>å‰åç«¯å®Œæ•´é¡¹ç›®æ¼”ç¤ºï¼š</strong> </p>
<p><img src="/posts/5b2ca0db/20220215165842.gif" alt="å‰åç«¯å®Œæ•´é¡¹ç›®æ¼”ç¤º"></p>
<p><strong>æœ¬æ–‡ç« åªæ¶‰åŠåç«¯æ•™ç¨‹</strong>ï¼Œå‰ç«¯æ•™ç¨‹è¯·çœ‹æœ¬äººçš„å¦ä¸€ç¯‡æ–‡ç« ï¼š</p>
<p><strong>å‰ç«¯æ•™ç¨‹ï¼š</strong><a href="https://www.makerhu.com/posts/78e35d03/">Vue å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼ˆå‰åç«¯åˆ†ç¦»å®Œæ•´æ¡ˆä¾‹ï¼‰ | MakerHu çš„åšå®¢</a></p>
<h2 id="å‰ç½®æ¡ä»¶"><a href="#å‰ç½®æ¡ä»¶" class="headerlink" title="å‰ç½®æ¡ä»¶"></a>å‰ç½®æ¡ä»¶</h2><p>ä½¿ç”¨æœ¬æ•™ç¨‹çš„å‰ç½®æ¡ä»¶æ˜¯å¼€å‘ç¯å¢ƒä¸­å·²å®‰è£…äº†ä»¥ä¸‹å‡ ä¸ªä¸œè¥¿ï¼Œè‹¥æ— å¯ä»¥å…ˆæ‰¾ç›¸å…³æ•™ç¨‹å®‰è£…é…ç½®å¥½ã€‚</p>
<p><strong>ç®¡ç†å·¥å…·ï¼š</strong>maven</p>
<p><strong>IDEï¼š</strong> IDEA</p>
<p><strong>æ•°æ®åº“ï¼š</strong> MySQL</p>
<p><strong>æµ‹è¯•å·¥å…·ï¼š</strong>Postmanï¼ˆéå¿…é¡»ï¼Œä½†æ–¹ä¾¿æµ‹è¯•ä¸”å®‰è£…å’Œä½¿ç”¨éƒ½æŒºç®€å•çš„ï¼‰</p>
<h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><p><strong>æ³¨æ„ï¼šåˆ›å»ºé¡¹ç›®æ—¶ä¿æŒç½‘ç»œé€šç•…</strong></p>
<ol>
<li><p>æ‰“å¼€IDEA</p>
<p><img src="/posts/5b2ca0db/20210629210809.png" alt="IDEAå›¾æ ‡"></p>
</li>
<li><p>æ–°å»ºé¡¹ç›®</p>
<p>æƒ…å†µä¸€ï¼š</p>
<p><img src="/posts/5b2ca0db/20210629211408.png" alt="æ–°å»ºé¡¹ç›®ç¬¬ä¸€æ­¥"></p>
<p>æƒ…å†µäºŒï¼š</p>
<p><img src="/posts/5b2ca0db/20210629211755.png" alt="æ–°å»ºé¡¹ç›®ç¬¬ä¸€æ­¥"></p>
<p>è®¾ç½®é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ï¼Œå…¶ä¸­æ³¨æ„jdkç‰ˆæœ¬è¦ä¸Javaç‰ˆæœ¬åŒ¹é…ï¼Œè¿™é‡Œä½¿ç”¨jdk1.8å’Œjava8</p>
</li>
</ol>
<p><img src="/posts/5b2ca0db/20210629223940.png" alt="æ–°å»ºé¡¹ç›®ç¬¬äºŒæ­¥"></p>
<p>é€‰æ‹©SpringBootç‰ˆæœ¬ï¼Œé€‰æ‹©é¡¹ç›®ä¾èµ–ï¼ˆä¾èµ–å¯ä»¥åˆ›å»ºå®Œé¡¹ç›®ååœ¨pomæ–‡ä»¶ä¸­ä¿®æ”¹ï¼‰</p>
<p><img src="/posts/5b2ca0db/20210629225008.png" alt="æ–°å»ºé¡¹ç›®ç¬¬ä¸‰æ­¥"></p>
<p><img src="/posts/5b2ca0db/20210629225618.png" alt="æ–°å»ºé¡¹ç›®ç¬¬ä¸‰æ­¥"></p>
<p>è‡³æ­¤é¡¹ç›®å°±åˆ›å»ºå®Œæˆå•¦ï¼</p>
<h2 id="ç›®å½•ç»“æ„ï¼ˆåˆå§‹çŠ¶æ€ï¼‰"><a href="#ç›®å½•ç»“æ„ï¼ˆåˆå§‹çŠ¶æ€ï¼‰" class="headerlink" title="ç›®å½•ç»“æ„ï¼ˆåˆå§‹çŠ¶æ€ï¼‰"></a>ç›®å½•ç»“æ„ï¼ˆåˆå§‹çŠ¶æ€ï¼‰</h2><p><img src="/posts/5b2ca0db/20210629230552.png" alt="é¡¹ç›®ç›®å½•ç»“æ„"></p>
<h2 id="é…ç½®æ•°æ®åº“"><a href="#é…ç½®æ•°æ®åº“" class="headerlink" title="é…ç½®æ•°æ®åº“"></a>é…ç½®æ•°æ®åº“</h2><p>åˆ›å»ºå®Œé¡¹ç›®åï¼Œå¦‚æœç›´æ¥è¿è¡Œé¡¹ç›®ï¼Œæˆ‘ä»¬ä¼šå‘ç°é¡¹ç›®æŠ¥é”™äº†</p>
<p><img src="/posts/5b2ca0db/20210629230907.png" alt="æŠ¥é”™å›¾"></p>
<p>æŠ¥é”™çš„åŸå› æ˜¯æˆ‘ä»¬åœ¨åˆ›å»ºé¡¹ç›®æ—¶å¯¼å…¥äº†æ•°æ®åº“ç›¸å…³çš„ä¾èµ–ï¼Œä½†æ˜¯é¡¹ç›®å´è¿˜æ²¡æœ‰è¿›è¡Œæ•°æ®åº“ç›¸å…³é…ç½®</p>
<p>æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆè¿›è¡Œæ•°æ®åº“çš„é…ç½®</p>
<h3 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h3><p>è¦é…ç½®æ•°æ®åº“ï¼Œé¦–å…ˆå’±ä»¬å¾—æœ‰ä¸ªæ•°æ®åº“ï¼Œå› æ­¤æˆ‘ä»¬å…ˆç”¨MySQLåˆ›å»ºä¸€ä¸ªã€‚ç”±äºæœ¬é¡¹ç›®è¦æ¼”ç¤ºç™»å½•æ³¨å†ŒåŠŸèƒ½çš„å®ç°ï¼Œæ‰€ä»¥åœ¨æ­¤æˆ‘å°†åˆ›å»ºä¸€ä¸ªç”¨æˆ·è¡¨ï¼Œä¿å­˜ç”¨æˆ·çš„è´¦å·ä¿¡æ¯ã€‚</p>
<ol>
<li>æŒ‰Win+Ræ‰“å¼€â€œè¿è¡Œâ€ï¼Œè¾“å…¥cmd</li>
</ol>
<p><img src="/posts/5b2ca0db/20210629231452.png" alt="cmd"></p>
<ol start="2">
<li><p>è¾“å…¥<code>mysql -u root -p</code>åè¾“å…¥å¯†ç ï¼Œç™»å½•MySQL</p>
<p><img src="/posts/5b2ca0db/20210629231749.png" alt="ç™»å½•MySQL"></p>
</li>
<li><p>åˆ›å»ºæ•°æ®åº“<code>create database logindemo</code><strong>logindemo</strong>ä¸ºæ•°æ®åº“åï¼Œæ ¹æ®ä½ çš„æƒ…å†µä¿®æ”¹</p>
<p><img src="/posts/5b2ca0db/20210629232246.png" alt="åˆ›å»ºæ•°æ®åº“"></p>
</li>
<li><p>è¿›å…¥æ•°æ®åº“<code>use logindemo</code></p>
<p><img src="/posts/5b2ca0db/20210629232535.png" alt="è¿›å…¥æ•°æ®åº“"></p>
</li>
<li><p>åˆ›å»ºuserè¡¨</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line">    uid <span class="type">int</span>(<span class="number">10</span>) <span class="keyword">primary</span> key <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    uname <span class="type">varchar</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    password <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">UNIQUE</span> (uname)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p><img src="/posts/5b2ca0db/20210629234318.png"></p>
<p>uid: ç”¨æˆ·ç¼–å·ï¼Œä¸»é”®ï¼Œè‡ªå¢</p>
<p>uname: ç”¨æˆ·åï¼Œä½œä¸ºç™»å½•çš„è´¦å·ï¼ˆä¸šåŠ¡ä¸»é”®ï¼‰ï¼Œä¸å¯é‡å¤</p>
<p>password: å¯†ç ï¼Œå› ä¸ºå¯èƒ½è¦åŠ å¯†ï¼Œæ‰€ä»¥é•¿åº¦è®¾äº†è¾ƒé•¿çš„255</p>
</li>
<li><p>æŸ¥çœ‹è¡¨æ˜¯å¦åˆ›å»ºæˆåŠŸ</p>
<p><code>desc user;</code></p>
<p><img src="/posts/5b2ca0db/20210629234515.png" alt="æŸ¥çœ‹userè¡¨ä¿¡æ¯"></p>
<p>åˆ°è¿™æ•°æ®åº“å°±åˆ›å»ºå®Œæˆå•¦ï¼Œæ¥ä¸‹æ¥å°±æ˜¯åœ¨é¡¹ç›®ä¸­é…ç½®æ•°æ®åº“ç›¸å…³ä¿¡æ¯äº†ã€‚</p>
</li>
</ol>
<h3 id="é…ç½®æ•°æ®åº“-1"><a href="#é…ç½®æ•°æ®åº“-1" class="headerlink" title="é…ç½®æ•°æ®åº“"></a>é…ç½®æ•°æ®åº“</h3><ol>
<li><p>æ‰¾åˆ°é…ç½®æ–‡ä»¶application.properties</p>
<p><img src="/posts/5b2ca0db/20210629235403.png"></p>
</li>
<li><p>è¾“å…¥æ•°æ®åº“ç›¸å…³é…ç½®ä¿¡æ¯ï¼ˆæ­¤å¤„é…ç½®äº†é¡¹ç›®ç«¯å£å·ä¸º8081ï¼Œå¯ä¸é…ç½®ï¼Œé»˜è®¤ç«¯å£å·ä¸º8080ï¼‰</p>
<p><strong>æ³¨æ„ï¼šé…ç½®urlå¤„logindemoæ”¹ä¸ºä½ çš„æ•°æ®åº“åç§°</strong></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½®ç«¯å£å·ä¸º8081</span></span><br><span class="line"><span class="string">server.port=8081</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®æ•°æ®åº“</span></span><br><span class="line"><span class="comment"># é…ç½®é©±åŠ¨</span></span><br><span class="line"><span class="string">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment"># è‹¥è¿æ¥çš„æ˜¯äº‘æ•°æ®åº“åˆ™å°†localhostæ”¹ä¸ºäº‘ç«¯ip</span></span><br><span class="line"><span class="string">spring.datasource.url=jdbc:mysql://localhost:3306/logindemo?serverTimezone=UTC</span></span><br><span class="line"><span class="comment"># Mysqlç”¨æˆ·</span></span><br><span class="line"><span class="string">spring.datasource.username=root</span></span><br><span class="line"><span class="comment"># Mysqlå¯¹åº”ç”¨æˆ·å¯†ç </span></span><br><span class="line"><span class="string">spring.datasource.password=123456</span></span><br></pre></td></tr></table></figure>

<p><img src="/posts/5b2ca0db/20210629235703.png" alt="application.properties"></p>
<p>ç°åœ¨å†æ¬¡è¿è¡Œé¡¹ç›®å°±èƒ½æˆåŠŸè¿è¡Œå•¦ï¼</p>
</li>
<li><p>åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“ï¼ˆæ­¤æ­¥éå¿…é¡»ï¼Œåªæ˜¯ä¸ºäº†å¼€å‘æ–¹ä¾¿ï¼‰</p>
<p>åœ¨IDEAä¸­è¿æ¥æ•°æ®åº“å¯ä»¥è®©æˆ‘ä»¬åœ¨å¼€å‘æ—¶ç›´æ¥å¯è§†åŒ–æŸ¥çœ‹æ•°æ®åº“çš„è¯¦ç»†ä¿¡æ¯ï¼Œå»ºè®®é…ç½®ä¸€ä¸‹ã€‚</p>
<p><img src="/posts/5b2ca0db/20210630000910.png"></p>
<p>é…ç½®æ•°æ®åº“åŸºæœ¬ä¿¡æ¯</p>
<p><strong>æ³¨æ„ï¼šè¿™ä¸€æ­¥æœ‰å¯èƒ½å‡ºç°æ—¶åŒºé”™è¯¯æˆ–è€…ç¼ºå°‘ä¾èµ–æ–‡ä»¶ï¼ï¼ï¼</strong></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong></p>
<p><strong>æ—¶åŒºé”™è¯¯ï¼š</strong>è§å›¾ä¸­é…ç½®æ—¶åŒº</p>
<p><strong>ç¼ºå°‘æ–‡ä»¶ï¼š</strong>æ ¹æ®æç¤ºç‚¹å‡»ä¸‹è½½ï¼Œä½†ç”±äºæœåŠ¡å™¨åœ¨å¤–ç½‘ï¼Œæœ‰å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘</p>
<p><img src="/posts/5b2ca0db/20210630001501.png"></p>
<p><img src="/posts/5b2ca0db/20210630002003.png"></p>
<p>å®Œæˆä»¥ä¸Šé…ç½®åå°±èƒ½åœ¨IDEAä¸­ç®¡ç†æ•°æ®åº“å•¦ï¼</p>
<p><img src="/posts/5b2ca0db/20210630002452.png"></p>
</li>
</ol>
<h2 id="é¡¹ç›®æ¶æ„å›¾"><a href="#é¡¹ç›®æ¶æ„å›¾" class="headerlink" title="é¡¹ç›®æ¶æ„å›¾"></a>é¡¹ç›®æ¶æ„å›¾</h2><p>åœ¨è¯´é¡¹ç›®çš„ç›®å½•ç»“æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥èŠä¸€èŠåç«¯çš„æ¶æ„å¤§æ¦‚æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹ç›®å½•ç»“æ„çš„ç†è§£ã€‚</p>
<p><img src="/posts/5b2ca0db/20210630010734.png" alt="é¡¹ç›®æ¶æ„å›¾"></p>
<ul>
<li><strong>æ•°æ®æŒä¹…å±‚</strong>æ˜¯çš„ç›®çš„æ˜¯åœ¨javaå¯¹è±¡ä¸æ•°æ®åº“ä¹‹é—´å»ºç«‹æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„ä½œç”¨æ˜¯å°†æŸä¸€ä¸ªJavaç±»å¯¹åº”åˆ°æ•°æ®åº“ä¸­çš„ä¸€å¼ è¡¨ã€‚åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå°±å°†åˆ›å»ºä¸€ä¸ªå®ä½“ç±»Useræ˜ å°„åˆ°æ•°æ®åº“çš„userè¡¨ï¼Œè¡¨ä¸­çš„æ¯ä¸ªå­—æ®µå¯¹åº”äºå®ä½“ç±»çš„æ¯ä¸ªå±æ€§ã€‚è€Œä¹‹å‰é…ç½®çš„JPAçš„ä½œç”¨å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å®Œæˆç±»åˆ°æ•°æ®è¡¨çš„æ˜ å°„ã€‚<ul>
<li>repository: å­˜æ”¾ä¸€äº›æ•°æ®è®¿é—®ç±»ï¼ˆä¹Ÿå°±æ˜¯ä¸€äº›èƒ½æ“çºµæ•°æ®åº“çš„ç±»ï¼‰çš„åŒ…ï¼Œæ¯”å¦‚å­˜æ”¾èƒ½å¯¹userè¡¨è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„ç±»</li>
<li>domainï¼šå­˜æ”¾å®ä½“ç±»çš„åŒ…ï¼Œæ¯”å¦‚Userç±»ï¼Œå…¶ä½œä¸ºå¯¹åº”æ•°æ®åº“userè¡¨çš„ä¸€ä¸ªå®ä½“ç±»</li>
</ul>
</li>
<li><strong>ä¸šåŠ¡é€»è¾‘å±‚</strong>çš„ä½œç”¨æ˜¯å¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚æ¯”å¦‚åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°±åœ¨ä¸šåŠ¡é€»è¾‘å±‚å®ç°ç™»å½•æ³¨å†Œçš„é€»è¾‘ï¼Œåƒæ˜¯åˆ¤æ–­æ˜¯å¦æœ‰ç”¨æˆ·åé‡å¤ï¼Œå¯†ç æ˜¯å¦æ­£ç¡®ç­‰é€»è¾‘<ul>
<li>service: å­˜æ”¾ä¸šåŠ¡é€»è¾‘æ¥å£çš„åŒ…</li>
<li>serviceImpl: å­˜æ”¾ä¸šåŠ¡é€»è¾‘å®ç°ç±»çš„åŒ…ï¼Œå…¶ä¸­çš„ç±»å®ç°serviceä¸­çš„æ¥å£</li>
</ul>
</li>
<li><strong>æ§åˆ¶å±‚</strong>çš„ä½œç”¨æ˜¯æ¥æ”¶è§†å›¾å±‚çš„è¯·æ±‚å¹¶è°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚çš„æ–¹æ³•ã€‚æ¯”å¦‚è§†å›¾å±‚è¯·æ±‚ç™»å½•å¹¶å‘æ¥äº†ç”¨æˆ·çš„è´¦å·å’Œå¯†ç ï¼Œé‚£ä¹ˆæ§åˆ¶å±‚å°±è°ƒç”¨ä¸šåŠ¡é€»è¾‘å±‚çš„ç™»å½•æ–¹æ³•ï¼Œå¹¶å°†è´¦å·å¯†ç ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œåœ¨å°†ç»“æœè¿”å›ç»™è§†å›¾å±‚ã€‚<ul>
<li>controller: å­˜æ”¾æ§åˆ¶å™¨çš„åŒ…ã€‚æ¯”å¦‚UserController</li>
</ul>
</li>
<li><strong>è§†å›¾å±‚</strong>çš„ä½œç”¨æ˜¯å±•ç°æ•°æ®ï¼Œç”±äºæœ¬é¡¹ç›®å†™çš„æ˜¯çº¯åç«¯ï¼Œå°±ä¸å±•å¼€è§£é‡Šè§†å›¾å±‚äº†ã€‚</li>
</ul>
<p><strong>æ³¨æ„ï¼šæ ¹æ®æ¶æ„æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæœ€ä½³çš„å¼€å‘æ–¹å¼æ˜¯è‡ªåº•å‘ä¸Šå¼€å‘ï¼Œå› ä¸ºåŒ…ä¹‹é—´çš„è°ƒç”¨æ˜¯ä¸Šå±‚è°ƒç”¨ä¸‹å±‚ï¼Œæ‰€ä»¥ä¸‹å±‚å…ˆå®ç°èƒ½ä¿è¯å®ç°å¤šå°‘æµ‹è¯•å¤šå°‘</strong></p>
<h2 id="å®Œå–„é¡¹ç›®çš„åŸºæœ¬ç›®å½•ç»“æ„"><a href="#å®Œå–„é¡¹ç›®çš„åŸºæœ¬ç›®å½•ç»“æ„" class="headerlink" title="å®Œå–„é¡¹ç›®çš„åŸºæœ¬ç›®å½•ç»“æ„"></a>å®Œå–„é¡¹ç›®çš„åŸºæœ¬ç›®å½•ç»“æ„</h2><p>æ ¹æ®ä¸Šè¿°æ¶æ„å›¾çš„è®¾è®¡ï¼Œæˆ‘ä»¬å°±èƒ½åˆ›å»ºå¯¹åº”çš„åŒ…è®©æˆ‘ä»¬çš„é¡¹ç›®æ¡†æ¶æ›´åŠ æ¸…æ™°äº†ã€‚</p>
<ol>
<li><p>åˆ›å»ºå„ç§åŒ…ï¼ˆä»¥domainåŒ…ä¸ºä¾‹ï¼‰</p>
<p>æ³¨æ„æœ¬é¡¹ç›®ä¸­serviceä¸serviceImplåŒ…ä¸ºçˆ¶å­å…³ç³»ï¼Œä¹Ÿå¯ä»¥å¹¶åˆ—ï¼Œè¿™å–å†³äºä½ çš„å–œå¥½</p>
<p>æœ€ç»ˆæ•ˆæœè§ä¸‹ä¸€æ­¥</p>
<p><img src="/posts/5b2ca0db/20210630013358.png" alt="åˆ›å»ºåŒ…"></p>
<p><img src="/posts/5b2ca0db/20210630013719.png"></p>
</li>
<li><p>æœ€ç»ˆç›®å½•ç»“æ„</p>
<p>åŒ…å«<code>domain</code> <code>repository</code> <code>service</code> <code>serviceImpl</code> <code>controller</code> <code>utils</code> <code>config</code> </p>
<p><img src="/posts/5b2ca0db/20210630014607.png" alt="æœ€ç»ˆç›®å½•ç»“æ„"></p>
<p>è¿™æ—¶å€™çœ¼å°–çš„åŒå­¦å°±å‘ç°äº†ï¼Œæ€ä¹ˆè¿˜å¤šäº†ä¿©ï¼š <code>utils</code> <code>config</code> </p>
<p>è¿™ä¸¤ä¸ªåŒ…çš„ä½œç”¨ï¼š</p>
<ul>
<li>**utils: **å­˜æ”¾å·¥å…·ç±»ï¼Œä¸€äº›è‡ªå·±å°è£…çš„å·¥å…·</li>
<li>**config: **å­˜æ”¾é…ç½®ç±»ï¼Œä¸€äº›é…ç½®å¦‚ç™»å½•æ‹¦æˆªå™¨ï¼Œå®‰å…¨é…ç½®ç­‰</li>
</ul>
<p>è¿™é‡Œå…ˆå»ºå¥½äº†å†è¯´ï¼Œå…·ä½“æ€ä¹ˆç”¨ä¹‹åä¼šè¯´ã€‚</p>
</li>
</ol>
<h2 id="ç™»å½•æ³¨å†ŒåŠŸèƒ½å®ç°"><a href="#ç™»å½•æ³¨å†ŒåŠŸèƒ½å®ç°" class="headerlink" title="ç™»å½•æ³¨å†ŒåŠŸèƒ½å®ç°"></a>ç™»å½•æ³¨å†ŒåŠŸèƒ½å®ç°</h2><p>æ ¹æ®æ¡†æ¶ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å°†è‡ªåº•å‘ä¸Šå¼€å‘ï¼Œæ‰€ä»¥å°†æŒ‰ç…§ å®ä½“ç±»-dao-service-serviceImpl-controller çš„é¡ºåºé€æ­¥å¼€å‘ã€‚</p>
<h3 id="æ‰€æœ‰ç±»æˆ–æ¥å£çš„ç›®å½•ä½ç½®"><a href="#æ‰€æœ‰ç±»æˆ–æ¥å£çš„ç›®å½•ä½ç½®" class="headerlink" title="æ‰€æœ‰ç±»æˆ–æ¥å£çš„ç›®å½•ä½ç½®"></a>æ‰€æœ‰ç±»æˆ–æ¥å£çš„ç›®å½•ä½ç½®</h3><p>ä¸ºäº†æ–¹ä¾¿ä½ åœ¨ä¸‹é¢çš„æ•™ç¨‹ä¸­æ˜ç¡®çš„çŸ¥é“æ–‡ä»¶åº”è¯¥åˆ›å»ºåœ¨ä»€ä¹ˆä½ç½®ï¼Œåœ¨æ­¤æˆ‘å°±å…ˆæŠŠæ‰€æœ‰æ–‡ä»¶çš„ç›®å½•ä½ç½®å±•ç¤ºå‡ºæ¥äº†ï¼Œä½ å¯ä»¥åœ¨éœ€è¦çš„æ—¶å€™éšæ—¶å›æ¥æŸ¥çœ‹ï¼Œç°åœ¨å¯ä»¥å…ˆè·³è¿‡è¿™ä¸€æ­¥ã€‚</p>
<p><img src="/posts/5b2ca0db/20210630190513.png" alt="æ‰€æœ‰ç±»æˆ–æ¥å£çš„ç›®å½•ä½ç½®"></p>
<h3 id="å®ç°Userå®ä½“ç±»"><a href="#å®ç°Userå®ä½“ç±»" class="headerlink" title="å®ç°Userå®ä½“ç±»"></a>å®ç°Userå®ä½“ç±»</h3><ol>
<li><p>åœ¨domainä¸­åˆ›å»ºUser.java</p>
<p><img src="/posts/5b2ca0db/20210630021309.png" alt="åˆ›å»ºUserç±»"></p>
<p><img src="/posts/5b2ca0db/20210630021356.png" alt="åˆ›å»ºUserç±»"></p>
</li>
<li><p>åˆ›å»ºå¯¹åº”userè¡¨ä¸­å­—æ®µçš„å±æ€§</p>
<p>å…¶ä¸­æ³¨æ„è¦æ·»åŠ <code>@Table(name = &quot;user&quot;)</code>å’Œ<code>@Entity</code>æ³¨è§£</p>
<ul>
<li><strong>@Table(name = â€œuserâ€)</strong> è¯´æ˜æ­¤å®ä½“ç±»å¯¹åº”äºæ•°æ®åº“çš„userè¡¨</li>
<li><strong>@Entity</strong> è¯´æ˜æ­¤ç±»æ˜¯ä¸ªå®ä½“ç±»</li>
</ul>
<p>ä¸»é”®uidä¸Šè¦åŠ ä¸Š<code>@Id</code>ä¸<code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//domainä¸­çš„User.java</span></span><br><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Table(name = &quot;user&quot;)</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„å±æ€§åè¦ä¸æ•°æ®è¡¨ä¸­çš„å­—æ®µåä¸€è‡´</span></span><br><span class="line">    <span class="comment">// ä¸»é”®è‡ªå¢int(10)å¯¹åº”long</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> uid;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æˆ·åå±æ€§varcharå¯¹åº”String</span></span><br><span class="line">    <span class="keyword">private</span> String uname;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†ç å±æ€§varcharå¯¹åº”String</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/posts/5b2ca0db/20210630021652.png"></p>
</li>
<li><p>ä¸ºå±æ€§ç”Ÿæˆget,setæ–¹æ³•</p>
<ul>
<li><p>å°†å…‰æ ‡ç§»è‡³è¦æ’å…¥get, setæ–¹æ³•çš„ä½ç½®</p>
</li>
<li><p>å³é”®-generate-getter and setter</p>
<p><img src="/posts/5b2ca0db/20210630022152.png"></p>
<p><img src="/posts/5b2ca0db/20210630022249.png"></p>
</li>
<li><p>é€‰ä¸­æ‰€æœ‰å±æ€§-OK</p>
<p><img src="/posts/5b2ca0db/20210630022502.png"></p>
</li>
<li><p>æœ€åå¾—åˆ°User.javaï¼ˆä¹Ÿå¯ä»¥çº¯æ‰‹æ•²ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.persistence.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Table(name = &quot;user&quot;)</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„å±æ€§åè¦ä¸æ•°æ®è¡¨ä¸­çš„å­—æ®µåä¸€è‡´</span></span><br><span class="line">    <span class="comment">// ä¸»é”®è‡ªå¢int(10)å¯¹åº”long</span></span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> uid;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨æˆ·åå±æ€§varcharå¯¹åº”String</span></span><br><span class="line">    <span class="keyword">private</span> String uname;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯†ç å±æ€§varcharå¯¹åº”String</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">getUid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUid</span><span class="params">(<span class="keyword">long</span> uid)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.uid = uid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUname</span><span class="params">(String uname)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.uname = uname;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> password;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.password = password;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤Userå®ä½“ç±»å°±åˆ›å»ºå¥½å•¦ï¼Œå¦‚æœè¦å®ç°å…¶ä»–è¡¨çš„å®ä½“ç±»ä¹Ÿç±»ä¼¼ã€‚</p>
</li>
</ul>
</li>
</ol>
<h3 id="å®ç°UserDao"><a href="#å®ç°UserDao" class="headerlink" title="å®ç°UserDao"></a>å®ç°UserDao</h3><ol>
<li><p>åœ¨repositoryåŒ…ä¸­åˆ›å»ºUserDaoæ¥å£</p>
<p><img src="/posts/5b2ca0db/20210630115952.png"></p>
<p><img src="/posts/5b2ca0db/20210630120140.png" alt="åˆ›å»ºUserDao"></p>
</li>
<li><p>æ·»åŠ ä¸€äº›è®¿é—®æ•°æ®åº“çš„æ–¹æ³•(è¿™é‡Œæ·»åŠ çš„æ˜¯æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·æ–¹æ³•)</p>
<ul>
<li>é¦–å…ˆè¦æ·»åŠ æ³¨è§£<code>@Repository</code></li>
<li>æ¥å£è¦ç»§æ‰¿<code>JpaRepository</code>ï¼Œè¿™æ ·JPAå°±èƒ½å¸®åŠ©æˆ‘ä»¬å®Œæˆå¯¹æ•°æ®åº“çš„æ˜ å°„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¥å£é‡Œå†™çš„æ–¹æ³•åªè¦ç¬¦åˆæ ¼å¼å¯ä»¥ä¸éœ€è¦å®ç°SQLè¯­å¥å°±èƒ½ç›´æ¥ç”¨äº†ã€‚</li>
<li>å¦‚æœJPAæ²¡æœ‰æä¾›ä½ æƒ³è¦çš„æ–¹æ³•ï¼Œå¯ä»¥è‡ªå®šä¹‰SQLè¯­å¥</li>
</ul>
<p><img src="/posts/5b2ca0db/20210630185108.png" alt="UserDao"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.repository;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.domain.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">User <span class="title">findByUname</span><span class="params">(String uname)</span></span>; <span class="comment">//é€šè¿‡ç”¨æˆ·åunameæŸ¥æ‰¾ç”¨æˆ·ï¼Œæ³¨æ„è¦æŒ‰ç…§JPAçš„æ ¼å¼ä½¿ç”¨é©¼å³°å‘½åæ³•</span></span><br><span class="line">    <span class="function">User <span class="title">findByUnameAndPassword</span><span class="params">(String uname, String password)</span></span>;<span class="comment">//é€šè¿‡ç”¨æˆ·åunameå’Œå¯†ç æŸ¥æ‰¾ç”¨æˆ·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæˆ‘ä»¬åªå®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œæ‰€ä»¥åªè¦æœ‰æ ¹æ®è´¦å·å¯†ç æŸ¥è¯¢ç”¨æˆ·å’Œæ’å…¥ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•å°±è¡Œäº†ï¼Œè¿™é‡Œæˆ‘ä»¬å·²ç»å®ç°äº†æ ¹æ®ç”¨æˆ·åå¯†ç æŸ¥æ‰¾ç”¨æˆ·çš„æ–¹æ³•ï¼Œè€Œæ’å…¥ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•save(object o)JPAå·²ç»å¸®æˆ‘ä»¬å®ç°äº†ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œè¿™é‡Œå°±ä¸éœ€è¦å†™äº†ã€‚</p>
<p>**æ³¨æ„:**è¿™é‡Œæ¥å£æ–¹æ³•çš„å‘½åè¦æŒ‰ç…§JPAæä¾›çš„å‘½åæ ¼å¼,æ¯”å¦‚findBy, deleteByç­‰ç­‰,ä¸”è¦æ±‚é©¼å³°å‘½åæ³•ã€‚å¦‚æœè‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•å¯ä»¥ä¸éµå®ˆè¿™ä¸ªè§„åˆ™</p>
<p>è‡ªå®šä¹‰æŸ¥è¯¢æ–¹æ³•ä¾‹å­(æœ¬é¡¹ç›®ä¸éœ€è¦ç”¨åˆ°):</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Query(value = &quot;select * from user where uname LIKE ?1 OR email LIKE ?2 OR lastdid LIKE ?3 OR uid LIKE ?4&quot;,nativeQuery = true)</span></span><br><span class="line"><span class="function">Page&lt;User&gt; <span class="title">findUserswithoutgender</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        String uname,</span></span></span><br><span class="line"><span class="function"><span class="params">        String email,</span></span></span><br><span class="line"><span class="function"><span class="params">        String lastdid,</span></span></span><br><span class="line"><span class="function"><span class="params">        String uid,</span></span></span><br><span class="line"><span class="function"><span class="params">        Pageable request</span></span></span><br><span class="line"><span class="function"><span class="params">)</span></span>;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å®ç°UserService"><a href="#å®ç°UserService" class="headerlink" title="å®ç°UserService"></a>å®ç°UserService</h3><ol>
<li><p>åœ¨serviceåŒ…ä¸­åˆ›å»ºUserServiceæ¥å£</p>
<p><img src="/posts/5b2ca0db/20210630153407.png" alt="åˆ›å»ºUserServiceæ¥å£"></p>
<p><img src="/posts/5b2ca0db/20210630153737.png" alt="åˆ›å»ºUserServiceæ¥å£"></p>
</li>
<li><p>æ·»åŠ ç™»å½•æ³¨å†Œéœ€è¦ç”¨åˆ°çš„ä¸šåŠ¡é€»è¾‘æ–¹æ³•</p>
<ul>
<li>æœ€ç»ˆUserServiceçš„å®Œæ•´ä»£ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.domain.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç™»å½•ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> uname è´¦æˆ·å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password å¯†ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">User <span class="title">loginService</span><span class="params">(String uname, String password)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ³¨å†Œä¸šåŠ¡é€»è¾‘</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> user è¦æ³¨å†Œçš„Userå¯¹è±¡ï¼Œå±æ€§ä¸­ä¸»é”®uidè¦ä¸ºç©ºï¼Œè‹¥uidä¸ä¸ºç©ºå¯èƒ½ä¼šè¦†ç›–å·²å­˜åœ¨çš„user</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">User <span class="title">registService</span><span class="params">(User user)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®Œæˆäº†æ¥å£æ–¹æ³•çš„å®šä¹‰ï¼Œæ¥ä¸‹æ¥æ˜¯åœ¨UserServiceImplä¸­å®ç°è¿™äº›æ–¹æ³•å•¦</p>
</li>
</ol>
<h3 id="å®ç°UserServiceImpl"><a href="#å®ç°UserServiceImpl" class="headerlink" title="å®ç°UserServiceImpl"></a>å®ç°UserServiceImpl</h3><p>æˆ‘ä»¬å°†åœ¨UserServiceImplä¸­å®ç°UserServiceä¸­çš„æ–¹æ³•ï¼Œå®Œæ•´çš„UserServiceImplä»£ç åœ¨æ­¤æ­¥éª¤çš„æœ€åä¸€å°æ­¥é‡Œ</p>
<ol>
<li><p>åœ¨serviceImplåŒ…ä¸­åˆ›å»ºUserServiceImplç±»</p>
<p><img src="/posts/5b2ca0db/20210630162053.png" alt="åˆ›å»ºUserServiceImplç±»"></p>
<p><img src="/posts/5b2ca0db/20210630162331.png" alt="åˆ›å»ºUserServiceImplç±»"></p>
</li>
<li><p>æ·»åŠ éœ€è¦å®ç°çš„æ–¹æ³•</p>
<ul>
<li><p>æ·»åŠ <code>implements UserService</code></p>
<p>æ­¤æ—¶ä¼šæŠ¥é”™ï¼Œä½†æ²¡å…³ç³»ï¼Œåªæ˜¯å› ä¸ºæ–¹æ³•è¿˜æ²¡å®ç°ã€‚</p>
<p><img src="/posts/5b2ca0db/20210630162651.png"></p>
</li>
<li><p>é¼ æ ‡æ‚¬åœåœ¨çº¢è‰²æ³¢æµªçº¿è‡ªåŠ¨ç”Ÿæˆéœ€è¦å®ç°çš„æ–¹æ³•ï¼ˆä¹Ÿå¯ä»¥æ‰‹åŠ¨ä¸€ä¸ªä¸ªå†™ï¼‰</p>
<p><img src="/posts/5b2ca0db/20210630163207.png" alt="ç”Ÿæˆæ–¹æ³•"></p>
<p><img src="/posts/5b2ca0db/20210630163356.png" alt="ç”Ÿæˆæ–¹æ³•"></p>
</li>
<li><p>ç”Ÿæˆæ–¹æ³•åçš„æ ·å­</p>
<p><img src="/posts/5b2ca0db/20210630164253.png" alt="ç”Ÿæˆæ–¹æ³•åçš„æ ·å­"></p>
</li>
</ul>
</li>
<li><p>å®ç°ç™»å½•ä¸šåŠ¡é€»è¾‘</p>
<ul>
<li><p>å› ä¸ºè¦ç”¨åˆ°UserDaoä¸­çš„æ–¹æ³•ï¼Œæ‰€ä»¥å…ˆé€šè¿‡<code>@Resource</code>æ³¨è§£å¸®åŠ©æˆ‘ä»¬å®ä¾‹åŒ–UserDaoå¯¹è±¡</p>
</li>
<li><p>ç™»å½•ä¸šåŠ¡é€»è¾‘ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">loginService</span><span class="params">(String uname, String password)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœè´¦å·å¯†ç éƒ½å¯¹åˆ™è¿”å›ç™»å½•çš„ç”¨æˆ·å¯¹è±¡ï¼Œè‹¥æœ‰ä¸€ä¸ªé”™è¯¯åˆ™è¿”å›null</span></span><br><span class="line">    User user = userDao.findByUnameAndPassword(uname, password);</span><br><span class="line">    <span class="comment">// é‡è¦ä¿¡æ¯ç½®ç©º</span></span><br><span class="line">    <span class="keyword">if</span>(user != <span class="keyword">null</span>)&#123;</span><br><span class="line">        user.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> user;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>å®ç°æ³¨å†Œä¸šåŠ¡é€»è¾‘</p>
<ul>
<li><p>æ³¨å†Œä¸šåŠ¡é€»è¾‘ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> User <span class="title">registService</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å½“æ–°ç”¨æˆ·çš„ç”¨æˆ·åå·²å­˜åœ¨æ—¶</span></span><br><span class="line">    <span class="keyword">if</span>(userDao.findByUname(user.getUname())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// æ— æ³•æ³¨å†Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//è¿”å›åˆ›å»ºå¥½çš„ç”¨æˆ·å¯¹è±¡(å¸¦uid)</span></span><br><span class="line">        User newUser = userDao.save(user);</span><br><span class="line">        <span class="keyword">if</span>(newUser != <span class="keyword">null</span>)&#123;</span><br><span class="line">            newUser.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> newUser;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>æ·»åŠ <code>@Service</code>æ³¨è§£</p>
<p><img src="/posts/5b2ca0db/20210630182301.png" alt="æ·»åŠ @Serviceæ³¨è§£"></p>
</li>
<li><p>æœ€ç»ˆUserServiceImplå®Œæ•´ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.service.serviceImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.domain.User;</span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.repository.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.service.UserService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">loginService</span><span class="params">(String uname, String password)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¦‚æœè´¦å·å¯†ç éƒ½å¯¹åˆ™è¿”å›ç™»å½•çš„ç”¨æˆ·å¯¹è±¡ï¼Œè‹¥æœ‰ä¸€ä¸ªé”™è¯¯åˆ™è¿”å›null</span></span><br><span class="line">        User user = userDao.findByUnameAndPassword(uname, password);</span><br><span class="line">        <span class="comment">// é‡è¦ä¿¡æ¯ç½®ç©º</span></span><br><span class="line">        <span class="keyword">if</span>(user != <span class="keyword">null</span>)&#123;</span><br><span class="line">            user.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">registService</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å½“æ–°ç”¨æˆ·çš„ç”¨æˆ·åå·²å­˜åœ¨æ—¶</span></span><br><span class="line">        <span class="keyword">if</span>(userDao.findByUname(user.getUname())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">// æ— æ³•æ³¨å†Œ</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//è¿”å›åˆ›å»ºå¥½çš„ç”¨æˆ·å¯¹è±¡(å¸¦uid)</span></span><br><span class="line">            User newUser = userDao.save(user);</span><br><span class="line">            <span class="keyword">if</span>(newUser != <span class="keyword">null</span>)&#123;</span><br><span class="line">                newUser.setPassword(<span class="string">&quot;&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> newUser;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>è‡³æ­¤UserServiceImplå°±å†™å®Œå•¦ï¼</p>
</li>
</ol>
<h3 id="å®ç°å·¥å…·ç±»Result"><a href="#å®ç°å·¥å…·ç±»Result" class="headerlink" title="å®ç°å·¥å…·ç±»Result"></a>å®ç°å·¥å…·ç±»Result</h3><p>å·¥å…·ç±»Resultçš„ä½œç”¨æ˜¯ä½œä¸ºè¿”å›ç»™å‰ç«¯çš„ç»Ÿä¸€åçš„å¯¹è±¡ã€‚ä¹Ÿå°±æ˜¯è¯´è¿”å›ç»™å‰ç«¯çš„éƒ½æ˜¯Resultå¯¹è±¡ï¼Œåªæ˜¯å¯¹è±¡ä¸­çš„å±æ€§ä¸å¤ªä¸€æ ·ï¼Œè¿™æ ·æ–¹ä¾¿å‰ç«¯å›ºå®šæ¥æ”¶æ ¼å¼ã€‚</p>
<ol>
<li><p>åœ¨utilsåŒ…ä¸­åˆ›å»ºResultç±»</p>
<p><img src="/posts/5b2ca0db/20210630175732.png" alt="åˆ›å»ºResultç±»"></p>
<p><img src="/posts/5b2ca0db/20210630180002.png" alt="åˆ›å»ºResultç±»"></p>
</li>
<li><p>æœ€ç»ˆResultä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Result</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode</span><span class="params">(String code)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getData</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setData</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Result</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Result</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.data = data;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title">success</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Result result = <span class="keyword">new</span> Result&lt;&gt;();</span><br><span class="line">        result.setCode(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">success</span><span class="params">(T data)</span> </span>&#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> Result&lt;&gt;(data);</span><br><span class="line">        result.setCode(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        result.setMsg(<span class="string">&quot;æˆåŠŸ&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Result&lt;T&gt; <span class="title">success</span><span class="params">(T data,String msg)</span> </span>&#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> Result&lt;&gt;(data);</span><br><span class="line">        result.setCode(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">        result.setMsg(msg);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title">error</span><span class="params">(String code, String msg)</span> </span>&#123;</span><br><span class="line">        Result result = <span class="keyword">new</span> Result();</span><br><span class="line">        result.setCode(code);</span><br><span class="line">        result.setMsg(msg);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹å‡ºResultæ˜¯ä¸ªæ¨¡æ¿ç±»ï¼Œå› æ­¤æƒ³è¦è¿”å›ä»€ä¹ˆæ•°æ®ç±»å‹ç»™å‰ç«¯éƒ½è¡Œï¼Œå¦‚<code>Result&lt;User&gt;</code>ï¼Œè¦æ˜¯æ²¡çœ‹æ‡‚æ²¡å…³ç³»ï¼Œçœ‹åˆ°ä¸‹é¢å°±çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚å› ä¸ºé‡Œé¢æœ‰å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ç”¨<code>ç±»å.æ–¹æ³•å</code>è°ƒç”¨ã€‚</p>
</li>
</ol>
<h3 id="å®ç°UserController"><a href="#å®ç°UserController" class="headerlink" title="å®ç°UserController"></a>å®ç°UserController</h3><ol>
<li><p>åœ¨controlleråŒ…ä¸­åˆ›å»ºUserControllerç±»</p>
<p><img src="/posts/5b2ca0db/20210630174130.png" alt="åˆ›å»ºUserControllerç±»"></p>
<p><img src="/posts/5b2ca0db/20210630174215.png" alt="åˆ›å»ºUserControllerç±»"></p>
</li>
<li><p>æ·»åŠ <code>@RestController</code>ä¸<code>@RequestMapping(&quot;/user&quot;)</code>æ³¨è§£ï¼Œæ³¨å…¥UserService</p>
<ul>
<li>æ³¨è§£@RequestMappingä¸­çš„â€/userâ€æ˜¯è¿™ä¸ªæ§åˆ¶å™¨ç±»çš„åŸºè·¯ç”±</li>
</ul>
<p><img src="/posts/5b2ca0db/20210630175120.png"></p>
</li>
<li><p>å®ç°ç™»å½•çš„æ§åˆ¶</p>
<p>è¿™é‡Œçš„<code>@PostMapping(&quot;/login&quot;)</code>è¡¨ç¤ºå¤„ç†postè¯·æ±‚ï¼Œè·¯ç”±ä¸º/user/login</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;User&gt; <span class="title">loginController</span><span class="params">(<span class="meta">@RequestParam</span> String uname, <span class="meta">@RequestParam</span> String password)</span></span>&#123;</span><br><span class="line">    User user = userService.loginService(uname, password);</span><br><span class="line">    <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success(user,<span class="string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;123&quot;</span>,<span class="string">&quot;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®ç°æ³¨å†Œçš„æ§åˆ¶</p>
<p>è¿™é‡Œçš„<code>@PostMapping(&quot;/register&quot;)</code>è¡¨ç¤ºå¤„ç†postè¯·æ±‚ï¼Œè·¯ç”±ä¸º/user/register</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/register&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Result&lt;User&gt; <span class="title">registController</span><span class="params">(<span class="meta">@RequestBody</span> User newUser)</span></span>&#123;</span><br><span class="line">    User user = userService.registService(newUser);</span><br><span class="line">    <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.success(user,<span class="string">&quot;æ³¨å†ŒæˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;456&quot;</span>,<span class="string">&quot;ç”¨æˆ·åå·²å­˜åœ¨ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>å®Œæ•´çš„UserControllerä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.domain.User;</span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.service.UserService;</span><br><span class="line"><span class="keyword">import</span> com.springboot.springbootlogindemo.utils.Result;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;User&gt; <span class="title">loginController</span><span class="params">(<span class="meta">@RequestParam</span> String uname, <span class="meta">@RequestParam</span> String password)</span></span>&#123;</span><br><span class="line">        User user = userService.loginService(uname, password);</span><br><span class="line">        <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.success(user,<span class="string">&quot;ç™»å½•æˆåŠŸï¼&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;123&quot;</span>,<span class="string">&quot;è´¦å·æˆ–å¯†ç é”™è¯¯ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/register&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Result&lt;User&gt; <span class="title">registController</span><span class="params">(<span class="meta">@RequestBody</span> User newUser)</span></span>&#123;</span><br><span class="line">        User user = userService.registService(newUser);</span><br><span class="line">        <span class="keyword">if</span>(user!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.success(user,<span class="string">&quot;æ³¨å†ŒæˆåŠŸï¼&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;456&quot;</span>,<span class="string">&quot;ç”¨æˆ·åå·²å­˜åœ¨ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="å¤„ç†è·¨åŸŸè®¿é—®é—®é¢˜"><a href="#å¤„ç†è·¨åŸŸè®¿é—®é—®é¢˜" class="headerlink" title="å¤„ç†è·¨åŸŸè®¿é—®é—®é¢˜"></a>å¤„ç†è·¨åŸŸè®¿é—®é—®é¢˜</h2><blockquote>
<p>è·¨åŸŸé—®é¢˜å¯ä»¥ç®€å•ç†è§£æˆå¦‚æœä½ çš„å‰ç«¯é¡¹ç›®çš„<strong>IPåœ°å€</strong>å’Œ<strong>ç«¯å£å·</strong>å’Œåç«¯çš„<strong>IPåœ°å€</strong>å’Œ<strong>ç«¯å£å·</strong>ä¸ä¸€æ ·ï¼Œå°±ä¼šå¯¼è‡´å‰ç«¯æ— æ³•è·å–åˆ°æ•°æ®ï¼Œè¿™æ˜¯ä¸€ä¸ªè§„å®šã€‚è€Œåœ¨å‰åç«¯åˆ†ç¦»å¼€å‘çš„é¡¹ç›®ä¸­ï¼Œå‰åç«¯é¡¹ç›®çš„ç«¯å£å·ä¸€èˆ¬éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå‡è®¾æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®çš„å‰ç«¯ç«¯å£å·æ˜¯ 8080ï¼Œåç«¯ç«¯å£å·æ˜¯ 8081ï¼Œå°±ä¼šé€ æˆè·¨åŸŸè®¿é—®çš„é—®é¢˜ï¼Œè·¨åŸŸè®¿é—®çš„é—®é¢˜å¯ä»¥åœ¨å‰ç«¯è§£å†³ä¹Ÿå¯ä»¥åœ¨åç«¯è§£å†³ï¼Œåç«¯åªè¦åŠ ä¸Šä¸€ä¸ªé…ç½®æ–‡ä»¶å°±è¡Œäº†</p>
</blockquote>
<ul>
<li><p>åœ¨<code>config</code>æ–‡ä»¶ä¸‹åˆ›å»ºå…¨å±€è·¨åŸŸé…ç½®ç±»<code>GlobalCorsConfig.java</code></p>
<p><img src="/posts/5b2ca0db/20220206000716.png" alt="åˆ›å»ºå…¨å±€è·¨åŸŸé…ç½®æ–‡ä»¶"></p>
</li>
<li><p><strong>GlobalCorsConfig.java æ–‡ä»¶</strong></p>
<p><strong>æ³¨æ„ï¼ï¼ï¼</strong> ï¼š<strong>SpringBoot2.4.0</strong> ä»¥åä¸‹æ–¹ <code>allowedOrigins</code> éœ€è¦è¢« <code>allowedOriginPatterns</code> ä»£æ›¿ï¼ï¼ï¼ï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.springboot.springbootlogindemo.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.CorsRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalCorsConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> WebMvcConfigurer <span class="title">corsConfigurer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> WebMvcConfigurer() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addCorsMappings</span><span class="params">(CorsRegistry registry)</span> </span>&#123;</span><br><span class="line">                registry.addMapping(<span class="string">&quot;/**&quot;</span>)    <span class="comment">//æ·»åŠ æ˜ å°„è·¯å¾„ï¼Œâ€œ/**â€è¡¨ç¤ºå¯¹æ‰€æœ‰çš„è·¯å¾„å®è¡Œå…¨å±€è·¨åŸŸè®¿é—®æƒé™çš„è®¾ç½®</span></span><br><span class="line">                        .allowedOrigins(<span class="string">&quot;*&quot;</span>)    <span class="comment">//å¼€æ”¾å“ªäº›ipã€ç«¯å£ã€åŸŸåçš„è®¿é—®æƒé™ SpringBoot2.4.0ä»¥åallowedOriginsè¢«allowedOriginPatternsä»£æ›¿</span></span><br><span class="line">                        .allowCredentials(<span class="keyword">true</span>)  <span class="comment">//æ˜¯å¦å…è®¸å‘é€Cookieä¿¡æ¯</span></span><br><span class="line">                        .allowedMethods(<span class="string">&quot;GET&quot;</span>, <span class="string">&quot;POST&quot;</span>, <span class="string">&quot;PUT&quot;</span>, <span class="string">&quot;DELETE&quot;</span>)     <span class="comment">//å¼€æ”¾å“ªäº›Httpæ–¹æ³•ï¼Œå…è®¸è·¨åŸŸè®¿é—®</span></span><br><span class="line">                        .allowedHeaders(<span class="string">&quot;*&quot;</span>)     <span class="comment">//å…è®¸HTTPè¯·æ±‚ä¸­çš„æºå¸¦å“ªäº›Headerä¿¡æ¯</span></span><br><span class="line">                        .exposedHeaders(<span class="string">&quot;*&quot;</span>);   <span class="comment">//æš´éœ²å“ªäº›å¤´éƒ¨ä¿¡æ¯ï¼ˆå› ä¸ºè·¨åŸŸè®¿é—®é»˜è®¤ä¸èƒ½è·å–å…¨éƒ¨å¤´éƒ¨ä¿¡æ¯ï¼‰</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¤„ç†è·¨åŸŸé—®é¢˜æ˜¯ä¸ºå‰åç«¯åˆ†ç¦»å¼€å‘åšé“ºå«ï¼Œè¿™é‡Œè¿™æ ·é…ç½®å¥½å°±è¡Œäº†ï¼Œæš‚æ—¶æ”¾ç€ä¸éœ€è¦ç®¡ï¼Œç­‰å¼€å‘å‰ç«¯ Vue é¡¹ç›®æ—¶å°±ä¸ä¼šå‡ºé—®é¢˜äº†ã€‚</p>
<p>è‡³æ­¤æ‰€æœ‰çš„ä»£ç å°±éƒ½å†™å®Œå•¦ï¼ï¼ï¼</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯è¿è¡Œæµ‹è¯•ä¸€ä¸‹æ˜¯å¦æˆåŠŸå°±è¡Œäº†ã€‚</p>
</li>
</ul>
<h2 id="Postmanæµ‹è¯•"><a href="#Postmanæµ‹è¯•" class="headerlink" title="Postmanæµ‹è¯•"></a>Postmanæµ‹è¯•</h2><ol>
<li><p>æ‰“å¼€postman</p>
<p><img src="/posts/5b2ca0db/20210630182908.png" alt="postman"></p>
</li>
<li><p>æµ‹è¯•æ³¨å†Œç”¨æˆ·</p>
<p><img src="/posts/5b2ca0db/20210630183243.png" alt="æµ‹è¯•æ³¨å†Œ"></p>
<p>è¾“å…¥é€‰åˆ™è¯·æ±‚æ–¹å¼Postï¼Œè¾“å…¥è·¯ç”±<code>http://localhost:8081/user/register</code>ï¼Œè¾“å…¥ç”¨æˆ·jsonå¯¹è±¡åç‚¹å‡»<strong>Send</strong></p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;uname&quot;</span>: <span class="string">&quot;hhh&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;password&quot;</span>: <span class="string">&quot;123&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆåŠŸæ”¶åˆ°åç«¯è¿”å›æ¶ˆæ¯</p>
<p><img src="/posts/5b2ca0db/20210630183612.png" alt="æ³¨å†ŒæˆåŠŸæ¶ˆæ¯"></p>
</li>
<li><p>ç™»å½•æµ‹è¯•</p>
<p><img src="/posts/5b2ca0db/20210630183907-164839402645947.png" alt="ç™»å½•æµ‹è¯•"></p>
<p>ç±»ä¼¼äºæ³¨å†Œæµ‹è¯•</p>
<ul>
<li>è¯·æ±‚æ–¹å¼ï¼šPOST</li>
<li>urlï¼š<code>http://localhost:8081/user/login</code></li>
<li>å‚æ•°ï¼šè§å›¾ä¸­4ï¼Œ5æ­¥</li>
</ul>
<p>è‡³æ­¤æ•´ä¸ªé¡¹ç›®éƒ½å†™å®Œå¹¶æµ‹è¯•å®Œå•¦ï¼æ„Ÿè°¢ä½ èƒ½è€å¿ƒçœ‹åˆ°è¿™ï¼Œå¸Œæœ›æœ¬æ•™ç¨‹å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>
</li>
</ol>
<h2 id="é¡¹ç›®æºä»£ç "><a href="#é¡¹ç›®æºä»£ç " class="headerlink" title="é¡¹ç›®æºä»£ç "></a>é¡¹ç›®æºä»£ç </h2><ul>
<li>Vue å‰ç«¯ï¼š<a href="https://github.com/MakerHu/vue-login-demo">MakerHu/vue-login-demo (github.com)</a></li>
<li>SpringBoot åç«¯ï¼š<a href="https://github.com/MakerHu/springboot-login-demo">MakerHu/springboot-login-demo (github.com)</a></li>
</ul>
<h2 id="ç›¸å…³æ¨è"><a href="#ç›¸å…³æ¨è" class="headerlink" title="ç›¸å…³æ¨è"></a>ç›¸å…³æ¨è</h2><ul>
<li>å‰ç«¯æ•™ç¨‹ï¼š<a href="https://www.makerhu.com/posts/78e35d03/">Vue å®ç°ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼ˆå‰åç«¯åˆ†ç¦»å®Œæ•´æ¡ˆä¾‹ï¼‰ | MakerHu çš„åšå®¢</a></li>
</ul>
<h2 id="å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"><a href="#å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ"></a>å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2><p>æ­¤ç« èŠ‚åˆ—å‡ºä¸€äº›æœ‹å‹åœ¨ä½¿ç”¨æœ¬æ•™ç¨‹ä¸­é‡åˆ°å¹¶è§£å†³çš„é—®é¢˜ï¼Œç”±äºé—®é¢˜ä¸å¤ªå¥½å¤ç°ï¼Œæˆ‘å°±ä¸å…·ä½“éªŒè¯è§£å†³æ–¹æ¡ˆçš„å¯è¡Œæ€§äº†ï¼Œæ­¤å¤„åˆ—å‡ºä»…ä¾›å¤§å®¶å‚è€ƒ~ éå¸¸æ„Ÿè°¢å¤§å®¶èƒ½ä¸ºé¡¹ç›®æå‡ºå®è´µçš„æ„è§ï¼</p>
<p><strong>1. javaxåŒ…æ›´åä¸ºjakartaåŒ…å¯¼è‡´çš„ç›¸å…³é—®é¢˜ï¼ˆæ„Ÿè°¢ @Pan-zgï¼‰</strong></p>
<p><strong>é—®é¢˜1ï¼š</strong><br>åœ¨æ•™ç¨‹ä¸­çš„æ–°å»ºUser.classç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªimportå†…å®¹ï¼šimport javax.persistence.; ä½†åœ¨æˆ‘å¯¼å…¥çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°ä¼¼ä¹ç°åœ¨è¿™ä¸ªjavaxåŒ…å·²ç»æ›´åä¸ºjakartaåŒ…ï¼Œç›¸åº”çš„å¯¼å…¥ä¹Ÿæ”¹ä¸ºï¼šimport jakarta.persistence.;</p>
<p><strong>é—®é¢˜2ï¼š</strong><br>åœ¨æŒ‰ç…§æ•™ç¨‹é…ç½®å¥½æ•°æ®åº“å¹¶åˆæ¬¡å¯åŠ¨ï¼ˆæ•™ç¨‹ 4.2 ç¬¬2éƒ¨åˆ†ï¼‰æ—¶ï¼Œå‘ç”ŸæŠ¥é”™ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Unable to determine Dialect without JDBC metadata (please set &#x27;javax.persistence.jdbc.url&#x27;, &#x27;hibernate.connection.url&#x27;, or &#x27;hibernate.dialect&#x27;)</span><br></pre></td></tr></table></figure>
<p>æœ€åæˆ‘æŸ¥æ‰¾åˆ°çš„è§£å†³æ–¹æ³•ä¸ºï¼š<br>åœ¨application.propertiesæ–‡ä»¶ï¼ˆæˆ–yamlï¼‰æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œä»£ç ï¼š<br>spring.jpa.database-platform = org.hibernate.dialect.MySQLDialect<br>ä¹‹åè¿è¡Œæ•°æ®åº“ï¼ŒæŠ¥é”™æ¶ˆå¤±ï¼Œè¿è¡Œæ­£å¸¸ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥æ­¥å»ºç«‹é¡¹ç›®å¹¶è¿è¡Œè¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸»è¦é—®é¢˜ï¼Œå¦å¤–è¿˜æœ‰ä¸€äº›å°é—®é¢˜ï¼Œæ¯”å¦‚æ•°æ®åº“urlçš„é…ç½®ä¸­ï¼Œå¯èƒ½éœ€è¦æ·»åŠ ä¸€äº›å…¶ä»–å‚æ•°ï¼Œå¦‚useSSLç­‰ï¼Œä¹Ÿè¦æŒ‰ç…§æ¯ä¸ªäººä¸åŒçš„è¿è¡Œç¯å¢ƒè¿›è¡Œè°ƒæ•´ã€‚<br>æ€»ä¹‹ï¼Œå¸Œæœ›è¿™äº›å†…å®¹èƒ½å¸®åŠ©åˆ°å…¶ä»–è·Ÿæˆ‘ä¸€æ ·çš„åˆå­¦è€…ï¼Œå¦å¤–å†æ¬¡æ„Ÿè°¢ä½œè€…è´¡çŒ®è¿™ä¸ªå¯¹åˆå­¦è€…å‹å¥½çš„é¡¹ç›® ğŸ‘</p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>é‡ç”Ÿæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>SpringBoot</tag>
        <tag>MySQL</tag>
        <tag>SpringBoot+MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>æ³¨è§£ä¸åå°„</title>
    <url>/posts/41268e44/</url>
    <content><![CDATA[<blockquote>
<p>æ³¨è§£ä¸æ³¨é‡Šå…¶å®éå¸¸çš„ç›¸ä¼¼ï¼Œåªä¸è¿‡æ³¨é‡Šæ˜¯ç”¨æ¥è®©å¼€å‘äººå‘˜çŸ¥é“æŸæ®µä»£ç çš„ä½œç”¨æ˜¯ä»€ä¹ˆéƒ½æœ‰å“ªäº›å‚æ•°ç­‰ï¼Œè€Œæ³¨è§£åˆ™æ˜¯å†™ç»™ç¨‹åºçœ‹çš„ä¸€ä¸ªâ€œæ³¨é‡Šâ€ï¼Œæ³¨è§£ä¸­ä¸»è¦åŒ…å«äº†å®ƒæœ¬èº«çš„åç§°ï¼Œä»¥åŠå®ƒçš„å‚æ•°ï¼Œå•çº¯åœ°çœ‹ä¸€ä¸ªæ³¨è§£å…¶å®ä¸æ³¨é‡Šæ²¡å•¥åŒºåˆ«ã€‚ä½†æ³¨è§£å¾€å¾€ä¼šä¸åå°„ç»„åˆä½¿ç”¨ï¼Œåå°„å¯ä»¥è®©æˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œæ—¶è§‚å¯Ÿå¹¶æ“ä½œæŸä¸ªç±»ä¸­çš„ä¿¡æ¯ï¼Œå½“ç„¶åŒ…æ‹¬æ³¨è§£ï¼Œè¿™åœ¨å®ç°ä¸€äº›æ¡†æ¶çš„è¿‡ç¨‹ä¸­æœ‰å¾ˆå¤§ä½œç”¨ï¼ˆæ¯”å¦‚å®ç°å®ä½“ç±»åˆ°æ•°æ®åº“è¡¨çš„è‡ªåŠ¨æ˜ å°„ï¼‰ã€‚</p>
</blockquote>
<span id="more"></span>

<h2 id="æ³¨è§£ï¼ˆAnnotationï¼‰"><a href="#æ³¨è§£ï¼ˆAnnotationï¼‰" class="headerlink" title="æ³¨è§£ï¼ˆAnnotationï¼‰"></a>æ³¨è§£ï¼ˆAnnotationï¼‰</h2><h3 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h3><blockquote>
<p>å…ƒæ³¨è§£çš„ä½œç”¨æ˜¯æ³¨è§£å…¶ä»–çš„æ³¨è§£ï¼ŒJavaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œä»–ä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶ä»–annotationç±»å‹çš„è¯´æ˜ã€‚</p>
<p>å­˜åœ¨åŒ…java.lang.annotationä¸­</p>
</blockquote>
<p><strong>å››ä¸ªæ ‡å‡†å…ƒæ³¨è§£ï¼š</strong></p>
<blockquote>
<p>æ³¨è§£æ³¨è§£çš„æ³¨è§£ï¼Œä¹Ÿå°±æ˜¯æ³¨è§£çš„æ³¨è§£ï¼Œåªèƒ½ç”¨åœ¨æ³¨è§£ä¸Šã€‚</p>
</blockquote>
<ul>
<li><strong>@Target</strong> ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå¦‚æ–¹æ³•ã€ç±»ã€å­—æ®µä¸Šç­‰ï¼‰</li>
<li><strong>@Retention</strong> è¡¨ç¤ºåœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ<ul>
<li>SOURCE &lt; CLASS &lt; RUNTIME</li>
</ul>
</li>
<li><strong>@Document</strong> è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­</li>
<li><strong>@Inherited</strong> è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</li>
</ul>
<h3 id="Target"><a href="#Target" class="headerlink" title="@Target"></a>@Target</h3><p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span>	<span class="comment">// ç¤ºä¾‹åœ¨è¿™</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> myAnnotation &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­å‚æ•°ElementTypeçš„å¯é€‰å€¼æœ‰ï¼š</p>
<p><code>TYPE</code> <code>FIELD</code> <code>METHOD</code> <code>PARAMETER</code> <code>CONSTRUCTOR</code> <code>LOCAL_VARIABLE</code> <code>ANNOTATION_TYPE</code> <code>PACKAGE</code> <code>TYPE_PARAMETER</code> <code>TYPE_USE</code></p>
<h3 id="Retention"><a href="#Retention" class="headerlink" title="@Retention"></a>@Retention</h3><blockquote>
<p>è¡¨ç¤ºæ³¨è§£åœ¨ä»€ä¹ˆèŒƒå›´æœ‰æ•ˆï¼Œå¦‚æºç çº§åˆ«ã€ç¼–è¯‘åçš„classçº§åˆ«ã€è¿è¡Œæ—¶çº§åˆ«</p>
</blockquote>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span>	<span class="comment">// ç¤ºä¾‹åœ¨è¿™</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­å‚æ•°çš„å¯é€‰å€¼æœ‰ï¼š</p>
<p><code>SOURCE</code> <code>CLASS</code> <code>RUNTIME</code></p>
<p>å‚æ•°çš„å…³ç³»ä¸º<strong>åŒ…å«</strong>å…³ç³»ï¼Œ<strong>RUNTIME &gt; CLASS &gt; SOURCE</strong></p>
<h3 id="è‡ªå®šä¹‰æ³¨è§£"><a href="#è‡ªå®šä¹‰æ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰æ³¨è§£"></a>è‡ªå®šä¹‰æ³¨è§£</h3><p>è‡ªå®šä¹‰å¤šå‚æ•°çš„æ³¨è§£ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="comment">// @interface è‡ªåŠ¨ç»§æ‰¿java.lang.annotation.Annotationæ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æ³¨è§£çš„å‚æ•°ï¼šæ³¨è§£çš„ç±»å‹ å‚æ•°åç§°();</span></span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;defaultName&quot;</span>;    <span class="comment">// å‚æ•°å¯ä»¥è®¾å®šé»˜è®¤å€¼ï¼Œå¦åˆ™ä½¿ç”¨è¯¥æ³¨è§£æ˜¯æ—¶å°±å¿…é¡»å†™å‚æ•°</span></span><br><span class="line">    <span class="function">String <span class="title">school</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªå®šä¹‰åªå¸¦ä¸€ä¸ªå‚æ•°çš„æ³¨è§£ç¤ºä¾‹ï¼š</p>
<p>å¦‚æœä¹‹å®šä¹‰ä¸€ä¸ªå‚æ•°æœ€å¥½å°†å‚æ•°å‘½åä¸º<code>value()</code>ï¼Œå› ä¸ºå‘½åä¸ºvalueåœ¨ä½¿ç”¨æ³¨è§£æ—¶å¯ä»¥çœç•¥<code>value = </code> </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="comment">// @interface è‡ªåŠ¨ç»§æ‰¿java.lang.annotation.Annotationæ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    <span class="comment">// è‡ªå®šä¹‰æ³¨è§£çš„å‚æ•°ï¼šæ³¨è§£çš„ç±»å‹ å‚æ•°åç§°();</span></span><br><span class="line">    String[] value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="åå°„ï¼ˆReflectionï¼‰"><a href="#åå°„ï¼ˆReflectionï¼‰" class="headerlink" title="åå°„ï¼ˆReflectionï¼‰"></a>åå°„ï¼ˆReflectionï¼‰</h2><blockquote>
<p><strong>åå°„å¼ç¼–ç¨‹</strong>ï¼ˆè‹±è¯­ï¼šreflective programmingï¼‰æˆ–<strong>åå°„</strong>ï¼ˆè‹±è¯­ï¼šreflectionï¼‰ï¼Œæ˜¯æŒ‡è®¡ç®—æœºç¨‹åºåœ¨è¿è¡Œæ—¶ï¼ˆruntimeï¼‰å¯ä»¥è®¿é—®ã€æ£€æµ‹å’Œä¿®æ”¹å®ƒæœ¬èº«çŠ¶æ€æˆ–è¡Œä¸ºçš„ä¸€ç§èƒ½åŠ›ã€‚ç”¨æ¯”å–»æ¥è¯´ï¼Œåå°„å°±æ˜¯ç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™èƒ½å¤Ÿâ€œè§‚å¯Ÿâ€å¹¶ä¸”ä¿®æ”¹è‡ªå·±çš„è¡Œä¸ºã€‚â€”â€”ç»´åŸºç™¾ç§‘</p>
</blockquote>
<h3 id="ç†è§£åå°„"><a href="#ç†è§£åå°„" class="headerlink" title="ç†è§£åå°„"></a>ç†è§£åå°„</h3><p>æˆ‘å¯¹åå°„çš„ä¸€ä¸ªæ¯”è¾ƒå½¢è±¡çš„ç†è§£æ˜¯ï¼Œjavaä¸­çš„åå°„ä¸ç‰©ç†ä¸­å…‰çš„åå°„ä¹Ÿæœ‰ä¸€äº›ç›¸ä¼¼çš„åœ°æ–¹ã€‚åœ¨ç°å®ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡é•œå­çœ‹åˆ°æŸä¸ªç‰©ä½“åå°„åçš„åƒï¼Œè€Œjavaä¸­çš„åå°„å°±æ˜¯ä»¥ç±»åŠ è½½è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆçš„<strong>Classå¯¹è±¡</strong>ä½œä¸ºâ€œé•œå­â€ï¼Œé€šè¿‡è¿™é¢é•œå­ï¼Œæˆ‘ä»¬èƒ½åœ¨ç¨‹åºè¿è¡Œæ—¶è§‚å¯Ÿå¹¶æ“ä½œæŸä¸ªç±»çš„å†…éƒ¨ç»“æ„ã€‚å› æ­¤å­¦ä¹ åå°„ç»•ä¸å¼€å¯¹Classç±»çš„å­¦ä¹ ã€‚ï¼ˆä¸ªäººçš„ç†è§£ï¼Œå¯èƒ½è¡¨è¾¾å¹¶ä¸å‡†ç¡®ï¼‰</p>
<h3 id="åå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½"><a href="#åå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½" class="headerlink" title="åå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½"></a>åå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½</h3><ul>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»å‹</li>
<li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</li>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯</li>
<li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£</li>
<li>ç”ŸæˆåŠ¨æ€ä»£ç†</li>
<li>â€¦â€¦</li>
</ul>
<h3 id="ç†è§£javaä¸­çš„Classç±»"><a href="#ç†è§£javaä¸­çš„Classç±»" class="headerlink" title="ç†è§£javaä¸­çš„Classç±»"></a>ç†è§£javaä¸­çš„Classç±»</h3><p><strong>Classç±»</strong></p>
<ul>
<li>Classæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»</li>
<li>Classç±»<strong>åªèƒ½ç”±ç³»ç»Ÿåˆ›å»º</strong>å¯¹è±¡</li>
<li>ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªClasså®ä¾‹</li>
<li>ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„ä¸€ä¸ª.classæ–‡ä»¶</li>
<li>æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šçŸ¥é“è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆ</li>
<li>é€šè¿‡Classå¯ä»¥å®Œå…¨åœ°å¾—åˆ°ä¸€ä¸ªç±»ä¸­çš„æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„</li>
<li>Classç±»æ˜¯Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•ä½ æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡</li>
</ul>
<h3 id="è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹å¼"><a href="#è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹å¼" class="headerlink" title="è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹å¼"></a>è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹å¼</h3><p>è¿™é‡Œæˆ‘ä»¬å†™äº†ä¸¤ä¸ªç±»Personä¸Studentï¼Œå…¶ä¸­Studentç»§æ‰¿Personï¼Œæœ¬æ–‡ç« ä¸­æ‰€æœ‰çš„Personç±»ä¸Studentç±»éƒ½æ˜¯ä»¥ä¸‹åˆ—å‡ºçš„ä»£ç ã€‚</p>
<p><strong>Personç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Studentç±»</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.experiment.annotation.MyAnnotation;</span><br><span class="line"><span class="keyword">import</span> com.experiment.annotation.MyAnnotation02;</span><br><span class="line"></span><br><span class="line"><span class="meta">@MyAnnotation(name = &quot;MakerHu&quot;, school = &quot;BJTU&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@MyAnnotation02(&quot;studentCardId&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String studentId;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.setName(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getStudentId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> studentId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStudentId</span><span class="params">(String studentId)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.studentId = studentId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>é€šè¿‡ä»£ç å¯ä»¥æ›´å¥½åœ°ç†è§£å¦‚ä½•è·å–Classå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.experiment.reflection.getclass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">        Person student1 = <span class="keyword">new</span> Student(<span class="string">&quot;å­¦ç”Ÿ&quot;</span>);</span><br><span class="line">        Person student2 = <span class="keyword">new</span> Student(<span class="string">&quot;å­¦ç”Ÿ&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–Classå¯¹è±¡çš„å‡ ç§æ–¹æ³•</span></span><br><span class="line">        <span class="comment">// æ–¹æ³•ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å¾—</span></span><br><span class="line">        Class c1_1 = student1.getClass();</span><br><span class="line">        Class c1_2 = student2.getClass();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•äºŒï¼šé€šè¿‡Class.forNameè·å¾—ï¼ˆéœ€è¦æŠ›å‡ºå¼‚å¸¸ï¼‰</span></span><br><span class="line">        Class c2 = Class.forName(<span class="string">&quot;com.experiment.reflection.getclass.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹æ³•ä¸‰ï¼šé€šè¿‡ç±»å.Classè·å¾—ï¼ˆæ•ˆç‡æœ€é«˜ï¼‰</span></span><br><span class="line">        Class c3 = Student.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»æœ‰ä¸€ä¸ªTypeå±æ€§</span></span><br><span class="line">        Class c4 = Integer.TYPE;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—çˆ¶ç±»ç±»å‹</span></span><br><span class="line">        Class c5 = c1_1.getSuperclass();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;c1_1: &quot;</span> + c1_1.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;c1_2: &quot;</span> + c1_2.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;c2: &quot;</span> + c2.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;c3: &quot;</span> + c3.hashCode());</span><br><span class="line">        System.out.println(<span class="string">&quot;c4: &quot;</span> + c4);</span><br><span class="line">        System.out.println(<span class="string">&quot;c5: &quot;</span> + c5);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„è¾“å‡ºä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">c1_1: 460141958</span><br><span class="line">c1_2: 460141958</span><br><span class="line">c2: 460141958</span><br><span class="line">c3: 460141958</span><br><span class="line">c4: int</span><br><span class="line">c5: class com.experiment.reflection.getclass.Person</span><br></pre></td></tr></table></figure>

<p>ä»c1åˆ°c3çš„è¾“å‡ºæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œä¸ç®¡Classå¯¹è±¡æ˜¯å¦‚ä½•è·å¾—çš„ï¼Œåªè¦å…¶ä¸ºæŸä¸ªç±»çš„Classå¯¹è±¡ï¼Œå…¶åœ¨å†…å­˜ä¸­å°±åªæœ‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯<strong>ä¸€ä¸ªç±»æ‹¥æœ‰å”¯ä¸€çš„ä¸€ä¸ªClasså¯¹è±¡</strong>ã€‚</p>
<h3 id="é€šè¿‡Classå¯¹è±¡è·å–ç±»çš„ä¿¡æ¯"><a href="#é€šè¿‡Classå¯¹è±¡è·å–ç±»çš„ä¿¡æ¯" class="headerlink" title="é€šè¿‡Classå¯¹è±¡è·å–ç±»çš„ä¿¡æ¯"></a>é€šè¿‡Classå¯¹è±¡è·å–ç±»çš„ä¿¡æ¯</h3><p>ä¸è¯´åºŸè¯ï¼Œç›´æ¥ä¸Šä»£ç ï¼Œè¯¦è§æ³¨é‡Šã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.experiment.reflection.getClassMsg;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å¾—ç±»çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetClassMsg</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException, NoSuchMethodException </span>&#123;</span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;com.experiment.reflection.getclass.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—ç±»çš„åå­—</span></span><br><span class="line">        System.out.println(c1.getName());   <span class="comment">// è·å¾—åŒ…å+ç±»å</span></span><br><span class="line">        System.out.println(c1.getSimpleName()); <span class="comment">// è·å¾—ç±»å</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—ç±»çš„å±æ€§</span></span><br><span class="line">        Field[] fields = c1.getFields();    <span class="comment">// getFields()åªèƒ½è·å–åˆ°æœ¬ç±»æˆ–çˆ¶ç±»ä¸­çš„publicså±æ€§</span></span><br><span class="line">        fields = c1.getDeclaredFields();    <span class="comment">// getDeclaredFields()å¯ä»¥è·å–åˆ°æœ¬ç±»æ‰€æœ‰å±æ€§</span></span><br><span class="line">        Field name = c1.getField(<span class="string">&quot;name&quot;</span>);   <span class="comment">// è·å–åˆ°æœ¬ç±»æˆ–çˆ¶ç±»ä¸­çš„æŒ‡å®šåç§°çš„publicå±æ€§</span></span><br><span class="line">        Field studentId = c1.getDeclaredField(<span class="string">&quot;studentId&quot;</span>); <span class="comment">// è·å–åˆ°æœ¬ç±»çš„æŒ‡å®šåç§°çš„å±æ€§ï¼Œprivateå±æ€§ä¹Ÿå¯è·å–åˆ°</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—ç±»ä¸­çš„æ–¹æ³•</span></span><br><span class="line">        Method[] methods = c1.getMethods(); <span class="comment">// è·å¾—æœ¬ç±»åŠå…¶çˆ¶ç±»çš„æ‰€æœ‰publicæ–¹æ³•</span></span><br><span class="line">        methods = c1.getDeclaredMethods();  <span class="comment">// è·å¾—æœ¬ç±»çš„æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—æŒ‡å®šçš„æ–¹æ³•</span></span><br><span class="line">        Method setName = c1.getMethod(<span class="string">&quot;setName&quot;</span>,String.class);  <span class="comment">// é€šè¿‡æ–¹æ³•åå’Œå‚æ•°ç±»å‹è·å–æœ¬ç±»æˆ–çˆ¶ç±»çš„æŒ‡å®špublicæ–¹æ³•ï¼Œä¸ºçš„æ˜¯é˜²æ­¢æœ‰é‡è½½æ—¶æ‰¾ä¸åˆ°ç‰¹å®šæ–¹æ³•</span></span><br><span class="line">        Method setStudentId = c1.getDeclaredMethod(<span class="string">&quot;setStudentId&quot;</span>,String.class);    <span class="comment">//è·å–æœ¬ç±»çš„æ‰€æœ‰æŒ‡å®šæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æ„é€ å™¨</span></span><br><span class="line">        Constructor[] constructors = c1.getConstructors();  <span class="comment">// è·å–æœ¬ç±»æ‰€æœ‰publicæ„é€ å™¨</span></span><br><span class="line">        Constructor[] constructors1 = c1.getDeclaredConstructors(); <span class="comment">// è·å–æœ¬ç±»çš„æ‰€æœ‰æ„é€ å™¨</span></span><br><span class="line">        Constructor constructor = c1.getConstructor(String.class);  <span class="comment">//è·å¾—æœ¬ç±»çš„æŒ‡å®šå‚æ•°çš„publicæ„é€ å™¨</span></span><br><span class="line">        Constructor constructor1 = c1.getDeclaredConstructor(<span class="keyword">null</span>);  <span class="comment">//è·å¾—æœ¬ç±»çš„æŒ‡å®šå‚æ•°çš„æ„é€ å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ€æ“ä½œå¯¹è±¡"><a href="#åŠ¨æ€æ“ä½œå¯¹è±¡" class="headerlink" title="åŠ¨æ€æ“ä½œå¯¹è±¡"></a>åŠ¨æ€æ“ä½œå¯¹è±¡</h3><p>åŒæ ·ï¼Œçœ‹ä»£ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.experiment.reflection.operateObject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.experiment.reflection.getclass.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationTargetException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨æ€æ“ä½œå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateObject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException, InvocationTargetException, NoSuchMethodException, NoSuchFieldException </span>&#123;</span><br><span class="line">        <span class="comment">// è·å¾—Classå¯¹è±¡</span></span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;com.experiment.reflection.getclass.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„é€ ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">        Student student = (Student)c1.newInstance();    <span class="comment">//åˆ©ç”¨æ— å‚æ„é€ å™¨æ„é€ </span></span><br><span class="line"></span><br><span class="line">        Constructor constructor = c1.getDeclaredConstructor(String.class);</span><br><span class="line">        Student student1 = (Student) constructor.newInstance(<span class="string">&quot;Makerhu&quot;</span>);    <span class="comment">// åˆ©ç”¨æœ‰å‚æ„é€ å™¨æ„é€ </span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡åå°„è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        Method setStudentId = c1.getDeclaredMethod(<span class="string">&quot;setStudentId&quot;</span>, String.class);</span><br><span class="line">        setStudentId.invoke(student1,<span class="string">&quot;123425&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡åå°„æ“ä½œå±æ€§</span></span><br><span class="line">        Field studentId = c1.getDeclaredField(<span class="string">&quot;studentId&quot;</span>);</span><br><span class="line">        studentId.setAccessible(<span class="keyword">true</span>);  <span class="comment">// ç§æœ‰å±æ€§è®¾ç½®è®¿é—®æƒé™ä¸ºtrueåå°±å¯ä»¥ä¿®æ”¹</span></span><br><span class="line">        studentId.set(student1, <span class="string">&quot;9876543&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="è·å–æ³›å‹ä¿¡æ¯"><a href="#è·å–æ³›å‹ä¿¡æ¯" class="headerlink" title="è·å–æ³›å‹ä¿¡æ¯"></a>è·å–æ³›å‹ä¿¡æ¯</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.experiment.reflection.getclass.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.ParameterizedType;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åå°„è·å–æ³›å‹ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateGenericType</span> </span>&#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">(Map&lt;String, Student&gt; map, List&lt;Student&gt; list, String str)</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test01&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> Map&lt;String, Student&gt; <span class="title">test02</span><span class="params">()</span></span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;test02&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException </span>&#123;</span><br><span class="line">            Method method = OperateGenericType.class.getMethod(<span class="string">&quot;test01&quot;</span>,Map.class,List.class,String.class);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–å‚æ•°ç±»å‹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;è·å–å‚æ•°ç±»å‹&quot;</span>);</span><br><span class="line">            Type[] genericParameterTypes = method.getGenericParameterTypes();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Type genericParameterType : genericParameterTypes) &#123;</span><br><span class="line">                  System.out.println(<span class="string">&quot;\n# &quot;</span> + genericParameterType);</span><br><span class="line">                  <span class="keyword">if</span> (genericParameterType <span class="keyword">instanceof</span> ParameterizedType)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;=================&quot;</span>);</span><br><span class="line">                        Type[] actualTypeArguments = ((ParameterizedType) genericParameterType).getActualTypeArguments();</span><br><span class="line">                        <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                              System.out.println(actualTypeArgument);</span><br><span class="line">                        &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è·å–è¿”å›å€¼ç±»å‹</span></span><br><span class="line">            System.out.println(<span class="string">&quot;\nè·å–è¿”å›å€¼ç±»å‹&quot;</span>);</span><br><span class="line">            method = OperateGenericType.class.getMethod(<span class="string">&quot;test02&quot;</span>);</span><br><span class="line">            Type genericReturnType = method.getGenericReturnType();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(genericReturnType <span class="keyword">instanceof</span> ParameterizedType)&#123;</span><br><span class="line">                  Type[] actualTypeArguments = ((ParameterizedType) genericReturnType).getActualTypeArguments();</span><br><span class="line">                  <span class="keyword">for</span> (Type actualTypeArgument : actualTypeArguments) &#123;</span><br><span class="line">                        System.out.println(actualTypeArgument);</span><br><span class="line">                  &#125;</span><br><span class="line">            &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è·å–å‚æ•°ç±»å‹</span><br><span class="line"></span><br><span class="line"><span class="comment"># java.util.Map&lt;java.lang.String, com.experiment.reflection.getclass.Student&gt;</span></span><br><span class="line">=================</span><br><span class="line">class java.lang.String</span><br><span class="line">class com.experiment.reflection.getclass.Student</span><br><span class="line"></span><br><span class="line"><span class="comment"># java.util.List&lt;com.experiment.reflection.getclass.Student&gt;</span></span><br><span class="line">=================</span><br><span class="line">class com.experiment.reflection.getclass.Student</span><br><span class="line"></span><br><span class="line"><span class="comment"># class java.lang.String</span></span><br><span class="line"></span><br><span class="line">è·å–è¿”å›å€¼ç±»å‹</span><br><span class="line">class java.lang.String</span><br><span class="line">class com.experiment.reflection.getclass.Student</span><br></pre></td></tr></table></figure>



<h3 id="è·å–æ³¨è§£ä¿¡æ¯"><a href="#è·å–æ³¨è§£ä¿¡æ¯" class="headerlink" title="è·å–æ³¨è§£ä¿¡æ¯"></a>è·å–æ³¨è§£ä¿¡æ¯</h3><p>å…ˆçœ‹çœ‹è‡ªå®šä¹‰çš„ä¸¤ä¸ªæ³¨è§£MyAnnotationä¸MyAnnotation02ï¼Œè¿™ä¸¤ä¸ªæ³¨è§£åœ¨Studentç±»ä¸­è¢«ä½¿ç”¨ï¼Œå…·ä½“çœ‹å‰é¢çš„Studentç±»çš„ä»£ç ã€‚</p>
<p><strong>æ³¨è§£1ï¼šMyAnnotation</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">    <span class="function">String <span class="title">name</span><span class="params">()</span> <span class="keyword">default</span> &quot;defaultName&quot;</span>;</span><br><span class="line">    <span class="function">String <span class="title">school</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨è§£2ï¼šMyAnnotation02</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Target(ElementType.FIELD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation02 &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é€šè¿‡åå°„è·å–æ³¨è§£ä¿¡æ¯ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> com.experiment.annotation.MyAnnotation;</span><br><span class="line"><span class="keyword">import</span> com.experiment.annotation.MyAnnotation02;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€šè¿‡åå°„è·å–æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OperateAnnotation</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException </span>&#123;</span><br><span class="line">        Class c1 = Class.forName(<span class="string">&quot;com.experiment.reflection.getclass.Student&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é€šè¿‡åå°„è·å¾—æŸä¸ªç±»çš„ç±»æ³¨è§£</span></span><br><span class="line">        Annotation[] annotations = c1.getAnnotations();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æŸä¸ªç‰¹å®šçš„æ³¨è§£</span></span><br><span class="line">        <span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">        MyAnnotation annotation = (MyAnnotation) c1.getAnnotation(MyAnnotation.class);</span><br><span class="line">        <span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line">        Field field = c1.getDeclaredField(<span class="string">&quot;studentId&quot;</span>);</span><br><span class="line">        MyAnnotation02 annotation02 = field.getAnnotation(MyAnnotation02.class);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å¾—æ³¨è§£çš„å‚æ•°çš„å€¼</span></span><br><span class="line">        System.out.println(annotation.name());</span><br><span class="line">        System.out.println(annotation.school());</span><br><span class="line">        System.out.println(annotation02.value());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ç¬”è®°æ•´ç†äºï¼š<a href="https://www.bilibili.com/video/BV1p4411P7V3">ã€ç‹‚ç¥è¯´Javaã€‘æ³¨è§£å’Œåå°„_å“”å“©å“”å“©_bilibili</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>ç¬”è®°</category>
        <category>Javaç¬”è®°</category>
      </categories>
      <tags>
        <tag>æ³¨è§£</tag>
        <tag>annotation</tag>
        <tag>åå°„</tag>
        <tag>reflection</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬è™«å®ç°åŠ›æ‰£(LeetCode)æœ¬åœ°åˆ·é¢˜çš„å¿«æ·å·¥å…·</title>
    <url>/posts/fe73207c/</url>
    <content><![CDATA[<blockquote>
<p>ç›¸ä¿¡å¤§å®¶éƒ½åœ¨åŠ›æ‰£ä¸Šåˆ·è¿‡é¢˜ï¼ŒåŠ›æ‰£ä¸Šè™½ç„¶èƒ½åœ¨çº¿å†™é¢˜ï¼Œä½†åœ¨çº¿ç¼–è¯‘è¿è¡Œçš„é€Ÿåº¦å…ˆå¯¹äºæœ¬åœ°è¿è¡Œè¿˜æ˜¯æ¯”è¾ƒæ…¢ï¼Œä¸”ä¸€äº›è‡ªåŠ¨è¡¥å…¨çš„åŠŸèƒ½ä¹Ÿä¸å¦‚è‡ªå·±çš„IDEä¼˜ç§€ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåœ¨æœ¬åœ°å»ºä¸ªå°é¡¹ç›®è§£é¢˜ï¼Œè§£å®Œåå†å¤åˆ¶åˆ°åŠ›æ‰£ä¸Šæäº¤ã€‚ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åœ¨æœ¬åœ°å¿«é€Ÿæ­å»ºèµ·åŠ›æ‰£çš„è§£é¢˜ç¯å¢ƒï¼Œæˆ‘å†™äº†ä¸€ä¸ªå°å·¥å…·å¸®åŠ©æˆ‘ä»¬æŠŠåŠ›æ‰£çš„é¢˜ç›®æè¿°çˆ¬å–åˆ°æœ¬åœ°ï¼Œå¹¶ç”ŸæˆåŸºç¡€çš„ä»£ç ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½å¿«é€Ÿåœ°ä¸“æ³¨äºè§£é¢˜æœ¬èº«äº†ã€‚æ¥ä¸‹æ¥æˆ‘å°†å±•ç¤ºä¸€ä¸‹å·¥å…·çš„ä½¿ç”¨æ•ˆæœï¼Œå¹¶å‘å¤§å®¶æä¾›æºä»£ç åŠéƒ¨ç½²æ–¹å¼ã€‚</p>
</blockquote>
<span id="more"></span>

<p><strong>æœªç»å…è®¸è¯·å‹¿è½¬è½½ï¼</strong> æ–‡ç« é¦–å‘äº<a href="https://www.makerhu.com/posts/fe73207c/">çˆ¬è™«å®ç°åŠ›æ‰£(LeetCode)æœ¬åœ°åˆ·é¢˜çš„å¿«æ·å·¥å…· | MakerHuçš„åšå®¢</a></p>
<h2 id="æ•ˆæœæ¼”ç¤º"><a href="#æ•ˆæœæ¼”ç¤º" class="headerlink" title="æ•ˆæœæ¼”ç¤º"></a>æ•ˆæœæ¼”ç¤º</h2><ol>
<li>å¤åˆ¶è·¯å¾„ä¸­çš„é¢˜ç›®è‹±æ–‡å</li>
</ol>
<p><img src="/posts/fe73207c/20210809214602.png" alt="è·¯å¾„ä¸­çš„é¢˜ç›®è‹±æ–‡å"></p>
<ol start="2">
<li><p>è¿è¡Œæ‰“åŒ…å¥½çš„jaråŒ…</p>
<p><img src="/posts/fe73207c/20210809215022.png" alt="è¿è¡Œæ‰“åŒ…å¥½çš„jaråŒ…"></p>
</li>
<li><p>æ‰“å¼€æœ¬åœ°é¡¹ç›®</p>
<p><img src="/posts/fe73207c/20210809215244.png" alt="æ‰“å¼€æœ¬åœ°é¡¹ç›®"></p>
</li>
<li><p>å¼€å§‹æœ¬åœ°ä¸“æ³¨è§£é¢˜</p>
<p><img src="/posts/fe73207c/20210809215417.png" alt="æœ¬åœ°è§£é¢˜"></p>
</li>
</ol>
<p>æ˜¯ä¸æ˜¯éå¸¸åœ°æ–¹ä¾¿å¿«æ·ğŸ˜</p>
<p>å¦‚æœä½ ä¹Ÿæƒ³æ‹¥æœ‰ä¸€ä¸ªè¿™æ ·çš„å·¥å…·å°±æ¥ç€å¾€ä¸‹çœ‹å§ï¼ŒäºŒååˆ†é’Ÿä¹‹å†…ä½ ä¹Ÿèƒ½å®ç°ä¸Šè¿°çš„æ•ˆæœå“ˆï¼</p>
<h2 id="é¡¹ç›®éƒ¨ç½²ä¸æ‰“åŒ…"><a href="#é¡¹ç›®éƒ¨ç½²ä¸æ‰“åŒ…" class="headerlink" title="é¡¹ç›®éƒ¨ç½²ä¸æ‰“åŒ…"></a>é¡¹ç›®éƒ¨ç½²ä¸æ‰“åŒ…</h2><h3 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h3><p><strong>ç¯å¢ƒè¦æ±‚ï¼š</strong></p>
<ul>
<li>jdk1.8ï¼ˆæœ€å¥½æ˜¯1.8ï¼Œå…¶ä»–ç‰ˆæœ¬æˆ‘æ²¡æœ‰è¯•è¿‡ï¼‰</li>
<li>Maven</li>
<li>git</li>
<li>IDEAï¼ˆå½“ç„¶ä¹Ÿèƒ½ç”¨ä½ å–œæ¬¢çš„é›†æˆå¼€å‘ç¯å¢ƒï¼‰</li>
<li>IDEAå®‰è£…markdownæ’ä»¶ï¼ˆä¸ºçš„æ˜¯èƒ½å¤Ÿæœ‰ä¸Šè¿°é¢˜ç›®åœ¨æœ¬åœ°çš„æ˜¾ç¤ºæ•ˆæœï¼Œå¦åˆ™å¯èƒ½æ˜¾ç¤ºçš„æ˜¯çº¯æ–‡æœ¬ï¼‰</li>
</ul>
<p>å…·ä½“çš„ç¯å¢ƒæ­å»ºæˆ‘å°±ä¸æ•™å­¦äº†ï¼Œç½‘ä¸Šçš„æ•™ç¨‹éå¸¸å¤šä¸”è¯¦ç»†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½æ­å»ºèµ·æ¥ã€‚</p>
<h3 id="å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°"><a href="#å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°" class="headerlink" title="å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°"></a>å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°</h3><p><strong>é¡¹ç›®åœ°å€ï¼š</strong></p>
<p><a href="https://github.com/MakerHu/LeetCodeSpiderJava">MakerHu/LeetCodeSpiderJava: çˆ¬å–åŠ›æ‰£çš„é¢˜ç›®å¹¶åœ¨æœ¬åœ°ç”ŸæˆåŸºç¡€çš„é¡¹ç›®æ–‡ä»¶ (github.com)</a></p>
<ol>
<li><p>æ‰“å¼€IDEAï¼Œç‚¹å‡»Git-&gt;Clone</p>
<p><img src="/posts/fe73207c/20210809221315.png" alt="ç‚¹å‡»Git-&gt;Clone"></p>
</li>
<li><p>ç‚¹å‡»ä¸Šæ–¹çš„é¡¹ç›®åœ°å€ï¼Œå¤åˆ¶ä»“åº“çš„url</p>
<p><img src="/posts/fe73207c/20210809221617.png"></p>
</li>
<li><p>å°†urlç²˜è´´åˆ°åˆšåˆšæ‰“å¼€çš„Cloneçª—å£ä¸­ï¼Œå¹¶é€‰æ‹©é¡¹ç›®ä½ç½®ï¼Œç‚¹å‡»Clone</p>
<p><img src="/posts/fe73207c/20210809222733.png" alt="æŠŠé¡¹ç›®å…‹éš†åˆ°æœ¬åœ°"></p>
</li>
<li><p>ç¨ç­‰ä¸€ä¼šå„¿ï¼Œç­‰é¡¹ç›®ä¾èµ–è‡ªåŠ¨é…ç½®å®Œåç‚¹å‡»å¯åŠ¨ç±»ä¸­çš„è¿è¡Œ</p>
<p><img src="/posts/fe73207c/20210809233000.png" alt="è¿è¡Œé¡¹ç›®"></p>
</li>
<li><p>è‹¥æ˜¾ç¤ºä¸‹é¢çš„è¿è¡Œç»“æœåˆ™è¯´æ˜é¡¹ç›®è¿è¡ŒæˆåŠŸäº†</p>
<p><img src="/posts/fe73207c/20210809233111.png" alt="é¡¹ç›®è¿è¡ŒæˆåŠŸ"></p>
</li>
</ol>
<h3 id="åˆ›å»ºæœ¬åœ°åˆ·é¢˜é¡¹ç›®"><a href="#åˆ›å»ºæœ¬åœ°åˆ·é¢˜é¡¹ç›®" class="headerlink" title="åˆ›å»ºæœ¬åœ°åˆ·é¢˜é¡¹ç›®"></a>åˆ›å»ºæœ¬åœ°åˆ·é¢˜é¡¹ç›®</h3><p>æˆ‘ä»¬æŠŠåˆ·é¢˜å’Œçˆ¬å–é¢˜ç›®çš„é¡¹ç›®åˆ†ç¦»å¼€æ¥ï¼Œä¸ºçš„æ˜¯è§£è€¦ï¼Œä¹Ÿæ–¹ä¾¿ä¹‹åçš„è¿ç§»ä¸é‡ç”¨ã€‚</p>
<p>è¿™é‡Œæˆ‘å°†æ¼”ç¤ºåˆ›å»ºä¸€ä¸ªåŸºç¡€çš„javaé¡¹ç›®ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åˆ›å»ºMavené¡¹ç›®ç­‰ï¼Œå› ä¸ºçˆ¬è™«å·¥å…·çš„åŸç†æ˜¯åœ¨æŸä¸ªæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶å°†é¢˜ç›®å†…å®¹markdownæ–‡ä»¶åŠåŸºç¡€ä»£ç åˆ›å»ºåˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<ol>
<li><p>åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„javaé¡¹ç›®</p>
<p><img src="/posts/fe73207c/20210810110103.png"></p>
<p><img src="/posts/fe73207c/20210810110158.png"></p>
<p><img src="/posts/fe73207c/20210810110333.png"></p>
</li>
</ol>
<h3 id="åœ¨çˆ¬è™«é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®åŸºæœ¬ä¿¡æ¯"><a href="#åœ¨çˆ¬è™«é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®åŸºæœ¬ä¿¡æ¯" class="headerlink" title="åœ¨çˆ¬è™«é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®åŸºæœ¬ä¿¡æ¯"></a>åœ¨çˆ¬è™«é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®åŸºæœ¬ä¿¡æ¯</h3><p><strong>æ‰“å¼€çˆ¬è™«é¡¹ç›®çš„é…ç½®æ–‡ä»¶</strong></p>
<p><img src="/posts/fe73207c/20210810113838.png"></p>
<p>é…ç½®æ–‡ä»¶settings.properties</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:/000_collection/myLeetCode/src/com/leetcode</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é¢˜æ‰€åœ¨çš„åŒ… å¦‚ï¼šcom.leetcode è‹¥æ²¡æœ‰(ä¹Ÿå°±æ˜¯æ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹)åˆ™ä¸ºç©º</span></span><br><span class="line"><span class="attr">base_package</span> = <span class="string">com.leetcode</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹åç§°çš„å‰ç¼€ï¼ˆå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line"><span class="meta">folder.prefix</span> = <span class="string">p</span></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹æ˜¯å¦åŒ…å«åŠ›æ‰£é¢˜ç›®åï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">folder.include_question_name</span> = <span class="string">true</span></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹æ˜¯å¦æŒ‰ç…§æ—¶é—´åˆ†ç±»ï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="attr">sort_by_time</span> = <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶çš„å‰ç¼€ï¼ˆå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.prefix</span> = <span class="string">p</span></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶åæ˜¯å¦åŒ…å«é¢˜ç›®ç¼–å·ï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.include_question_id</span> = <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶åæ˜¯å¦åŒ…å«é¢˜ç›®åä»¥åŠæ˜¯å¦ç”¨ä¸­æ–‡é¢˜ç›®åå‘½åï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.include_question_name</span> = <span class="string">true</span></span><br><span class="line"><span class="meta">question_markdown_filename.zh_cn</span> = <span class="string">true</span></span><br></pre></td></tr></table></figure>



<h4 id="é…ç½®åŸºæœ¬è·¯å¾„åŠåŸºç¡€åŒ…"><a href="#é…ç½®åŸºæœ¬è·¯å¾„åŠåŸºç¡€åŒ…" class="headerlink" title="é…ç½®åŸºæœ¬è·¯å¾„åŠåŸºç¡€åŒ…"></a>é…ç½®åŸºæœ¬è·¯å¾„åŠåŸºç¡€åŒ…</h4><p><strong>åŸºæœ¬è·¯å¾„ï¼šquestion_location</strong></p>
<p>åœ¨settings.protertiesé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§<code>question_location</code>è¡¨ç¤ºè§£é¢˜çš„æ ¹è·¯å¾„ï¼Œçˆ¬è™«åˆ›å»ºçš„æ–‡ä»¶å¤¹å°†ä¼šæ”¾åˆ°è¯¥è·¯å¾„ä¸‹ã€‚</p>
<p>ä»¥ä¸Šé¢ç¤ºä¾‹ä¸­çš„<code>question_location = E:/000_collection/myLeetCode/src</code>ä¸ºä¾‹ï¼Œæ¯”å¦‚è¯´çˆ¬å–äº†é¢˜å·ä¸º22çš„é¢˜ç›®ï¼Œåˆ™ä¼šåœ¨<code>E:/000_collection/myLeetCode/src</code>æ–‡ä»¶å¤¹ä¸‹åˆ›å»º<code>p22</code>æ–‡ä»¶å¤¹ï¼Œæœ€ç»ˆå¾—åˆ°<code>E:/000_collection/myLeetCode/src/p22</code></p>
<p><strong>æ³¨æ„ï¼š</strong>é…ç½®çš„è·¯å¾„ä¸­çš„æ–œæ å¿…é¡»æ˜¯æ­£æ–œæ <code>/</code>ï¼Œåˆ«å†™æˆåæ–œæ äº†ï¼ï¼ï¼</p>
<p><strong>åŸºç¡€åŒ…ï¼šbase_package</strong></p>
<p>åœ¨settings.protertiesé…ç½®æ–‡ä»¶ä¸­çš„å±æ€§<code>base_package</code>è¡¨ç¤ºè§£é¢˜æ‰€åœ¨çš„åŒ…ï¼Œè¿™è¦ä¸åŸºæœ¬è·¯å¾„<code>question_location</code>ä¸­<code>src</code>ä¹‹åçš„è·¯å¾„å¯¹åº”ï¼Œå¦åˆ™ä¼šå‡ºé”™ã€‚</p>
<p>ç¤ºä¾‹1ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è‹¥ question_location = E:/000_collection/myLeetCode/src</span><br><span class="line">åˆ™ base_package =</span><br><span class="line">æ²¡é”™ï¼Œbase_packageå°±ç­‰äºç©ºï¼Œå› ä¸ºquestion_locationä¸­çš„srcå°±æ˜¯åŒ…çš„æ ¹ä½ç½®</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹2ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">è‹¥ question_location = E:/000_collection/myLeetCode/src/com/leetcode</span><br><span class="line">åˆ™ base_package = com.leetcode</span><br></pre></td></tr></table></figure>



<p>å¯¹äºä¸Šè¿°çš„ä¸¤ä¸ªç¤ºä¾‹çš„æƒ…å†µï¼Œæˆ‘åˆ†åˆ«å®é™…æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•é…ç½®ã€‚</p>
<p><strong>ç¤ºä¾‹1ï¼šå°†é¢˜ç›®çˆ¬å–åˆ°<code>src</code>ä¸‹</strong></p>
<ol>
<li><p>æ‰“å¼€åˆšåˆšåˆ›å»ºçš„<strong>è§£é¢˜é¡¹ç›®</strong>ï¼Œå³é”®src-&gt;Copy Path-&gt;Absloute Pathï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶srcçš„æœ¬åœ°ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ°èµ„æºç®¡ç†å™¨ä¸­å¤åˆ¶</p>
<p><img src="/posts/fe73207c/20210810155757.png" alt="å¤åˆ¶è·¯å¾„"></p>
<p><img src="/posts/fe73207c/20210810155842.png" alt="å¤åˆ¶è·¯å¾„"></p>
</li>
<li><p>å°†åˆšå¤åˆ¶çš„è·¯å¾„ç²˜è´´åˆ°<strong>çˆ¬è™«é¡¹ç›®</strong>çš„settings.propertiesé…ç½®æ–‡ä»¶ä¸­çš„<code>question_location</code>å»</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:\000_collection\myLeetCode\src</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œæ­¤æ—¶çš„è·¯å¾„ä¸ºåæ–œæ ï¼Œå°†å…¶éƒ½æ”¹ä¸ºæ–œæ <code>/</code></p>
<p>ä¿®æ”¹åï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:/000_collection/myLeetCode/src</span></span><br></pre></td></tr></table></figure></li>
<li><p>å°†<strong>çˆ¬è™«é¡¹ç›®</strong>çš„settings.propertiesé…ç½®æ–‡ä»¶ä¸­çš„<code>base_package</code>å±æ€§ç­‰å·ä¹‹åç½®ä¸ºç©º</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§£é¢˜æ‰€åœ¨çš„åŒ… å¦‚ï¼šcom.leetcode è‹¥æ²¡æœ‰(ä¹Ÿå°±æ˜¯æ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹)åˆ™ä¸ºç©º</span></span><br><span class="line"><span class="attr">base_package</span> = <span class="string"></span></span><br></pre></td></tr></table></figure></li>
</ol>
<p><strong>ç¤ºä¾‹2ï¼šå°†é¢˜ç›®çˆ¬å–åˆ°æŒ‡å®šçš„åŒ…ä¸‹</strong></p>
<p>å‡è®¾æˆ‘çš„è§£é¢˜é¡¹ç›®ä¸­å­˜åœ¨åŒ…com.leetcodeï¼Œæˆ‘è¦å°†é¢˜ç›®çˆ¬å–åˆ°è¿™ä¸ªåŒ…ä¸‹ã€‚</p>
<ol>
<li><p>æ‰“å¼€<strong>è§£é¢˜é¡¹ç›®</strong>ï¼Œå³é”®leetcode-&gt;Copy Path-&gt;Absloute Pathï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶leetcodeçš„æœ¬åœ°ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ°èµ„æºç®¡ç†å™¨ä¸­å¤åˆ¶</p>
<p><img src="/posts/fe73207c/20210810161348.png" alt="å¤åˆ¶è·¯å¾„"></p>
</li>
<li><p>å°†åˆšå¤åˆ¶çš„è·¯å¾„ç²˜è´´åˆ°<strong>çˆ¬è™«é¡¹ç›®</strong>çš„settings.propertiesé…ç½®æ–‡ä»¶ä¸­çš„<code>question_location</code>å»</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:\000_collection\myLeetCode\src\com\leetcode</span></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼Œæ­¤æ—¶çš„è·¯å¾„ä¸ºåæ–œæ ï¼Œå°†å…¶éƒ½æ”¹ä¸ºæ–œæ <code>/</code></p>
<p>ä¿®æ”¹åï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:/000_collection/myLeetCode/src/com/leetcode</span></span><br></pre></td></tr></table></figure></li>
<li><p>å°†<strong>çˆ¬è™«é¡¹ç›®</strong>çš„settings.propertiesé…ç½®æ–‡ä»¶ä¸­çš„<code>base_package</code>å±æ€§è®¾ç½®ä¸ºåˆšåˆšé€‰æ‹©çš„åŒ…ï¼Œä¹Ÿå°±æ˜¯å°†srcä¹‹åçš„è·¯å¾„ä¸­çš„æ–œæ æ”¹ä¸ºç‚¹ï¼Œæˆ–è€…ä½ å¯ä»¥åœ¨åˆšåˆšé€‰æ‹©çš„åŒ…ï¼ˆleetcodeï¼‰ä¸­éšä¾¿åˆ›å»ºä¸€ä¸ªç±»ï¼Œçœ‹ä¸€ä¸‹ç¬¬ä¸€è¡Œçš„packageæ˜¯ä»€ä¹ˆå°±å¤åˆ¶è¿‡æ¥ï¼Œåˆ«å¸¦åˆ†å·å°±è¡Œã€‚</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># è§£é¢˜æ‰€åœ¨çš„åŒ… å¦‚ï¼šcom.leetcode è‹¥æ²¡æœ‰(ä¹Ÿå°±æ˜¯æ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹)åˆ™ä¸ºç©º</span></span><br><span class="line"><span class="attr">base_package</span> = <span class="string">com.leetcode</span></span><br></pre></td></tr></table></figure>

<p>ä¸ç¡®å®šçš„è¯å°±éšä¾¿åœ¨è¿™ä¸ªåŒ…ä¸‹åˆ›å»ºä¸€ä¸ªç±»ï¼Œçœ‹ä¸€ä¸‹ç¬¬ä¸€è¡Œæ˜¯å•¥ï¼Œç„¶åå†æŠŠè¿™ä¸ªç±»åˆ äº†</p>
<p><img src="/posts/fe73207c/20210810162008.png" alt="æŸ¥çœ‹åŒ…"></p>
</li>
</ol>
<h4 id="é…ç½®å…¶ä»–å±æ€§"><a href="#é…ç½®å…¶ä»–å±æ€§" class="headerlink" title="é…ç½®å…¶ä»–å±æ€§"></a>é…ç½®å…¶ä»–å±æ€§</h4><p>é™¤äº†<code>question_location</code>å’Œ<code>base_package</code>çš„é…ç½®æ¯”è¾ƒé‡è¦å¤–ï¼Œå…¶ä»–çš„é…ç½®éƒ½æ˜¯ä¸æ–‡ä»¶å¤¹å‘½åæ–¹å¼æˆ–æ–‡ä»¶å‘½åæ–¹å¼æœ‰å…³çš„é…ç½®ï¼Œä½¿ç”¨é»˜è®¤çš„ä¹ŸæŒºå¥½çš„ã€‚å…·ä½“å¯ä»¥çœ‹é…ç½®æ–‡ä»¶ä¸­çš„æ³¨é‡Šå°è¯•ä¿®æ”¹ä¿®æ”¹ï¼Œå¹¶çœ‹çœ‹çˆ¬å–åçš„æ•ˆæœï¼Œè¿™é‡Œå°±ä¸åšè¯¦ç»†çš„è§£é‡Šäº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½çœ‹æ‡‚æˆ–è€…è¯•å‡ºå·®åˆ«ã€‚è¿™é‡Œå°±å†æŠŠé…ç½®æ–‡ä»¶æ”¾å‡ºæ¥å§ã€‚</p>
<p>settings.propertiesæ–‡ä»¶ï¼š</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Javaé¡¹ç›®ä¸­è¦å­˜æ”¾è§£é¢˜çš„æ ¹æ–‡ä»¶å¤¹ï¼Œå¦‚ E:/LeetCode/src/com/leetcode</span></span><br><span class="line"><span class="attr">question_location</span> = <span class="string">E:/000_collection/myLeetCode/src/com/leetcode</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é¢˜æ‰€åœ¨çš„åŒ… å¦‚ï¼šcom.leetcode è‹¥æ²¡æœ‰(ä¹Ÿå°±æ˜¯æ”¾åœ¨srcæ–‡ä»¶å¤¹ä¸‹)åˆ™ä¸ºç©º</span></span><br><span class="line"><span class="attr">base_package</span> = <span class="string">com.leetcode</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹åç§°çš„å‰ç¼€ï¼ˆå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line"><span class="meta">folder.prefix</span> = <span class="string">p</span></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹æ˜¯å¦åŒ…å«åŠ›æ‰£é¢˜ç›®åï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">folder.include_question_name</span> = <span class="string">true</span></span><br><span class="line"><span class="comment"># è§£é¢˜æ–‡ä»¶å¤¹æ˜¯å¦æŒ‰ç…§æ—¶é—´åˆ†ç±»ï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="attr">sort_by_time</span> = <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶çš„å‰ç¼€ï¼ˆå¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.prefix</span> = <span class="string">p</span></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶åæ˜¯å¦åŒ…å«é¢˜ç›®ç¼–å·ï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.include_question_id</span> = <span class="string">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨æ¥å­˜å‚¨é¢˜ç›®ä¿¡æ¯çš„markdownæ–‡ä»¶åæ˜¯å¦åŒ…å«é¢˜ç›®åä»¥åŠæ˜¯å¦ç”¨ä¸­æ–‡é¢˜ç›®åå‘½åï¼ˆtrue æˆ– falseï¼‰</span></span><br><span class="line"><span class="meta">question_markdown_filename.include_question_name</span> = <span class="string">true</span></span><br><span class="line"><span class="meta">question_markdown_filename.zh_cn</span> = <span class="string">true</span></span><br></pre></td></tr></table></figure>



<h3 id="çˆ¬å–é¢˜ç›®åˆ°æœ¬åœ°"><a href="#çˆ¬å–é¢˜ç›®åˆ°æœ¬åœ°" class="headerlink" title="çˆ¬å–é¢˜ç›®åˆ°æœ¬åœ°"></a>çˆ¬å–é¢˜ç›®åˆ°æœ¬åœ°</h3><h4 id="ç›´æ¥è¿è¡Œçˆ¬è™«é¡¹ç›®çˆ¬å–"><a href="#ç›´æ¥è¿è¡Œçˆ¬è™«é¡¹ç›®çˆ¬å–" class="headerlink" title="ç›´æ¥è¿è¡Œçˆ¬è™«é¡¹ç›®çˆ¬å–"></a>ç›´æ¥è¿è¡Œçˆ¬è™«é¡¹ç›®çˆ¬å–</h4><ol>
<li><p>è¿è¡Œé¡¹ç›®</p>
<p><img src="/posts/fe73207c/20210810162906.png" alt="è¿è¡Œçˆ¬è™«"></p>
</li>
<li><p>è¾“å…¥åŠ›æ‰£ä¸­é¢˜ç›®çš„è‹±æ–‡åï¼ˆåœ°å€æ ä¸­çš„ï¼‰ï¼Œå›è½¦</p>
<p><img src="/posts/fe73207c/20210809214602-164839551789874.png"></p>
<p><img src="/posts/fe73207c/20210810163246.png" alt="è¾“å…¥é¢˜ç›®è‹±æ–‡å"></p>
</li>
<li><p>å®Œæˆ</p>
<p><img src="/posts/fe73207c/20210810163432.png" alt="é¢˜ç›®ç”Ÿæˆå®Œæ¯•"></p>
</li>
</ol>
<h4 id="å°†é¡¹ç›®æ‰“æˆjaråŒ…åçˆ¬å–"><a href="#å°†é¡¹ç›®æ‰“æˆjaråŒ…åçˆ¬å–" class="headerlink" title="å°†é¡¹ç›®æ‰“æˆjaråŒ…åçˆ¬å–"></a>å°†é¡¹ç›®æ‰“æˆjaråŒ…åçˆ¬å–</h4><p>é€šè¿‡ä¸Šé¢çš„æ–¹å¼å·²ç»èƒ½å®ç°æˆ‘ä»¬è¦çš„åŠŸèƒ½äº†ï¼Œä½†æ˜¯æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯æ¯æ¬¡éƒ½è¦æ‰“å¼€é¡¹ç›®è¿è¡Œï¼Œç›¸å¯¹æ¯”è¾ƒéº»çƒ¦ã€‚æˆ‘ä»¬å¯ä»¥å°†è¯¥é¡¹ç›®æ‰“åŒ…æˆjaråŒ…ï¼Œä¹‹ååªè¦è¿è¡ŒjaråŒ…å°±èƒ½è¿è¡Œäº†ï¼Œä¸”é…ç½®æ–‡ä»¶ä¼šä»jaråŒ…ä¸­åˆ†ç¦»å‡ºæ¥ï¼Œå¯ä»¥éšæ—¶ä¿®æ”¹é…ç½®ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<ol>
<li><p>å›åˆ°çˆ¬è™«é¡¹ç›®ä¸­ï¼Œé¦–å…ˆåŒå‡»å³ä¾§çš„<code>Maven-&gt;Lifecycle-&gt;clean</code>å½“è¿è¡Œç»“æŸåï¼Œå†åŒå‡»<code>Maven-&gt;Lifecycle-&gt;package</code></p>
<p><img src="/posts/fe73207c/20210810164926.png" alt="æ‰“åŒ…é¡¹ç›®"></p>
</li>
<li><p>æ­¤æ—¶å·¦ä¾§ä¼šå‡ºç°<code>target</code>æ–‡ä»¶å¤¹ï¼Œå°†æ‰“å¥½çš„jaråŒ…ï¼ˆSNAPSHOTç»“å°¾çš„ï¼‰å¤åˆ¶å‡ºæ¥ï¼Œæ”¾åˆ°ä»»æ„ä¸€ä¸ªç©ºæ–‡ä»¶å¤¹é‡Œ</p>
<p><img src="/posts/fe73207c/20210810165322.png" alt="å¤åˆ¶æ‰“å¥½çš„jaråŒ…"></p>
</li>
<li><p>å¯ä»¥å…ˆå°†å¤åˆ¶å‡ºæ¥çš„jaråŒ…é‡å‘½åä¸ªçŸ­ç‚¹çš„åå­—ï¼Œç„¶åæ‰“å¼€jaråŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥<code>cmd</code></p>
<p><img src="/posts/fe73207c/20210810170040.png" alt="æ‰“å¼€å‘½ä»¤è¡Œçª—å£"></p>
</li>
<li><p>è¾“å…¥å‘½ä»¤<code>java -jar åŒ…å.jar</code>ï¼Œå› ä¸ºæˆ‘çš„åŒ…åé‡å‘½åä¸º<code>LeetCodesSpider</code>æ‰€ä»¥æˆ‘è¾“å…¥çš„å‘½ä»¤å°±æ˜¯<code>java -jar LeetCodeSpider.jar</code></p>
<p>æ­¤æ—¶ä¼šæŠ¥é”™ï¼Œç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„ï¼Œå› ä¸ºæˆ‘å°†é…ç½®æ–‡ä»¶ä»jaråŒ…ä¸­åˆ†ç¦»å‡ºæ¥äº†ï¼Œä½†æˆ‘ä»¬è¿˜æ²¡å°†é…ç½®æ–‡ä»¶æ”¾åˆ°æŒ‡å®šçš„ä½ç½®ï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°ã€‚</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">E:\000_collection\LeetCodeTool&gt;java -jar LeetCodeSpider.jar</span><br><span class="line">java.io.FileNotFoundException: src\main\resources\settings.properties (ç³»ç»Ÿæ‰¾ä¸åˆ°æŒ‡å®šçš„è·¯å¾„ã€‚)</span><br><span class="line">        at java.io.FileInputStream.open0(Native Method)</span><br><span class="line">        at java.io.FileInputStream.open(Unknown Source)</span><br><span class="line">        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)</span><br><span class="line">        at java.io.FileInputStream.&lt;init&gt;(Unknown Source)</span><br><span class="line">        at config.Settings.&lt;init&gt;(Settings.java:14)</span><br><span class="line">        at SpiderApplication.main(SpiderApplication.java:15)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Unknown Source)</span><br><span class="line">        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48)</span><br><span class="line">        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)</span><br><span class="line">        at org.springframework.boot.loader.Launcher.launch(Launcher.java:51)</span><br><span class="line">        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:52)</span><br><span class="line">è¯·è¾“å…¥LeetCodeä¸­é¢˜ç›®çš„è‹±æ–‡åï¼ˆè§æµè§ˆå™¨è·¯å¾„ï¼Œä¸å¸¦æ–œæ ï¼‰ï¼š</span><br></pre></td></tr></table></figure>

<p>æ—¢ç„¶æ‰¾ä¸åˆ°ï¼Œæˆ‘ä»¬å°±åˆ›å»ºå¯¹åº”æ–‡ä»¶å¤¹å¹¶æŠŠé…ç½®æ–‡ä»¶æ”¾åˆ°é‡Œé¢å»å°±è¡Œäº†ã€‚</p>
<p>å°†æŠ¥é”™ä¸­çš„<code>src\main\resources</code>å¤åˆ¶ä¸‹æ¥ã€‚é‡æ–°æ‰“å¼€jaråŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥<code>cmd</code>ï¼Œä¹‹åè¾“å…¥å‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹</p>
<p><code>mkdir src\main\resources</code></p>
<p>ç°åœ¨æ‰“å¼€jaråŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹æˆ‘ä»¬å°±èƒ½çœ‹åˆ°åˆšåˆ›å»ºå¥½çš„æ–‡ä»¶å¤¹äº†ã€‚</p>
<p><img src="/posts/fe73207c/20210810171255.png"></p>
<p>æ¥ç€æˆ‘ä»¬å°†çˆ¬è™«é¡¹ç›®ä¸­çš„settings.propertiesæ–‡ä»¶å¤åˆ¶åˆ°<code>src\main\resources</code>æ–‡ä»¶å¤¹ä¸‹</p>
<p><img src="/posts/fe73207c/20210810171507.png" alt="å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°æŒ‡å®šæ–‡ä»¶å¤¹"></p>
<p>åˆ°è¿™é‡Œè¿˜æ²¡æœ‰ç»“æŸã€‚ç”±äºæˆ‘ä»¬çˆ¬å–é¢˜ç›®åä¼šç”Ÿæˆä¸€äº›åŸºç¡€çš„ä»£ç ï¼ŒåŒ…æ‹¬<code>Main.java</code>å’Œ<code>Solution.java</code>ï¼Œè€Œè¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯æ ¹æ®ä¸¤ä¸ªæ¨¡æ¿æ–‡ä»¶ç”Ÿæˆçš„ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿè¦å°†ä¸¤ä¸ªæ¨¡æ¿æ–‡ä»¶æ”¾åˆ°<code>src\main\resources</code>ä¸­ã€‚</p>
<p>è¿›å…¥çˆ¬è™«é¡¹ç›®ï¼Œå¤åˆ¶<code>resources</code>æ–‡ä»¶å¤¹ä¸‹çš„æ•´ä¸ª<code>template</code>æ–‡ä»¶å¤¹ï¼Œå°†å…¶ç²˜è´´åˆ°åˆšåˆšåœ¨jaråŒ…åŒçº§ç›®å½•ä¸­åˆ›å»ºçš„<code>src\main\resources</code>æ–‡ä»¶å¤¹ä¸‹ã€‚</p>
<p><img src="/posts/fe73207c/20210810172115.png" alt="å¤åˆ¶templateæ–‡ä»¶å¤¹"></p>
<p><img src="/posts/fe73207c/20210810172205.png" alt="æ”¾åˆ°ä¸settings.propertiesåŒçº§ç›®å½•ä¸­"></p>
<p>å†æ¬¡åœ¨jaråŒ…æ‰€åœ¨ç›®å½•æ‰“å¼€<code>cmd</code>è¾“å…¥å‘½ä»¤<code>java -jar åŒ…å.jar</code>å°±èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼</p>
</li>
<li><p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p>
<p>ç”±äºé…ç½®æ–‡ä»¶ä¸jaråŒ…åˆ†ç¦»ï¼Œæ‰€ä»¥åªè¦æºä»£ç æ²¡å˜ï¼Œè¦æƒ³ä¿®æ”¹ä»€ä¹ˆé…ç½®ç›´æ¥åœ¨jaråŒ…æ‰€åœ¨ç›®å½•ä¸‹çš„é…ç½®æ–‡ä»¶<code>src\main\resources\settings.properties</code>ä¸­ä¿®æ”¹é…ç½®å±æ€§å°±è¡Œäº†ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬vscodeç­‰ä»»æ„ä½ å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ä¿®æ”¹ã€‚</p>
</li>
</ol>
<h2 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h2><ol>
<li><p>è§£é¢˜æ—¶é¢˜ç›®å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œå¯èƒ½æ˜¯IDEAå¼€äº†ä»£ç†ï¼Œå…³äº†å°±è¡Œ</p>
<p><code>File-&gt;settings-&gt;Appearance &amp; Behavior-&gt;System Settings-&gt;HTTP Proxy</code>ã€‚</p>
<p><img src="/posts/fe73207c/20210810173331.png" alt="å…³é—­ä»£ç†"></p>
</li>
</ol>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
        <category>é¡¹ç›®</category>
      </categories>
      <tags>
        <tag>åŠ›æ‰£</tag>
        <tag>LeetCode</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
</search>
